<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0073)http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/ -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Working With IndexedDB | Nettuts+</title><link rel="stylesheet" href="./WorkingWithIndexedDBNettuts_files/saved_resource" type="text/css" media="screen"><link href="./WorkingWithIndexedDBNettuts_files/widget.css" rel="stylesheet" type="text/css" media="screen"><link rel="shortcut icon" href="http://net.tutsplus.com/wp-content/themes/tuts/images/theme/nettuts/favicon.ico"><link rel="apple-touch-icon" href="http://net.tutsplus.com/wp-content/themes/tuts/images/theme/nettuts/apple-touch-icon.png"> <script async="" src="./WorkingWithIndexedDBNettuts_files/saved_resource(1)"></script><script src="./WorkingWithIndexedDBNettuts_files/cb=gapi.loaded_2" async=""></script><script src="./WorkingWithIndexedDBNettuts_files/cb=gapi.loaded_1" async=""></script><script src="./WorkingWithIndexedDBNettuts_files/cb=gapi.loaded_0" async=""></script><script async="" type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/gpt.js"></script><script type="text/javascript" async="" src="./WorkingWithIndexedDBNettuts_files/plusone.js" gapi_processed="true"></script><script>Env = window.Env || {};
  Env.facebookUrl = 'http://facebook.com/nettutsplus';
  Env.mailChimpUrl = 'http://net.tutsplus.com/wp-content/themes/tuts/functions/mc/mail-chimp.php';
  Env.trackingCode = 'UA-11792865-8';
  Env.boxUrl = 'http://net.tutsplus.com/wp-content/themes/tuts/images/global/box.gif';
      Env.trackingFields = [
      {id: 1, name: 'Author', value: 'Raymond Camden'},
      {id: 2, name: 'Category', value: 'tutorials/javascript-ajax'},
      {id: 3, name: 'Publish Date', value: '2013-09'}
    ];</script> <script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/saved_resource(2)"></script><script src="./WorkingWithIndexedDBNettuts_files/ga.js" async="true"></script> <link rel="stylesheet" id="print-css" href="./WorkingWithIndexedDBNettuts_files/print.css" type="text/css" media="print"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://net.tutsplus.com/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://net.tutsplus.com/wp-includes/wlwmanifest.xml"><link rel="prev" title="What Are You Using? – Nettuts+ Authors Edition" href="http://net.tutsplus.com/articles/what-are-you-using-nettuts-authors-edition/"><link rel="next" title="Make More Money as a Web Dev + Awesome Desktop Wallpaper" href="http://net.tutsplus.com/articles/news/make-more-money-as-a-web-dev-awesome-desktop-wallpaper-2/"><link rel="shortlink" href="http://net.tutsplus.com/?p=34673"><meta name="description" content="One of the more interesting developments in web standards lately is the Indexed Database (IndexedDB for short) specification. For a fun time you can read the"><meta name="keywords" content="indexeddb,javascript &amp; ajax,tutorials"><link rel="canonical" href="./WorkingWithIndexedDBNettuts_files/WorkingWithIndexedDBNettuts.html"><link rel="stylesheet" type="text/css" href="./WorkingWithIndexedDBNettuts_files/shCore.css"><link rel="stylesheet" type="text/css" href="./WorkingWithIndexedDBNettuts_files/shThemeDefault.css"><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3"> <script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/wt_capi.js"></script> <link rel="alternate" type="application/rss+xml" title="Nettuts+ RSS Feed" href="http://net.tutsplus.com/feed/"><link rel="pingback" href="http://net.tutsplus.com/xmlrpc.php"><meta name="google-site-verification" content="aoXTcdQJMMCGh8FUsMlj35Qw-2jK83Wpt7XnqUPB9KI"><link href="https://plus.google.com/100395074731712398322" rel="publisher"><script type="text/javascript" async="" src="./WorkingWithIndexedDBNettuts_files/bsa.js"></script><script type="text/javascript" async="" src="./WorkingWithIndexedDBNettuts_files/all.js"></script><script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/wt_lib.js" async="true" defer="true"></script><script async="" type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/pubads_impl_32.js"></script><script type="text/javascript" async="" src="./WorkingWithIndexedDBNettuts_files/embed.js"></script><script async="" type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/count.js"></script><script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/osd.js"></script><script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/WT3Iu_TUoliP_uGU_XOi5_BXvGS7R-6ad68M4zgWoNZW6IrMYZX8g2_RlZMpYthQG_jCcp8S72SKgLMvGAqoPb0zy4mkZ0A_01pEiAd1ki3Vr_JoLgk8Rt96smAFxJM_QQV3aaRgrraaIUpskNT3YcGCYEhAsuQCQECXNng1-f6Ehwdl4JGMtgcOozMqQD1eo-5hbSV26WCfPV_TShPnDazPwWVrn_9TGtqrkK1zlXPXS-M0mPgJinVw41RKwKN" async="true" defer="true"></script><script type="text/javascript" id="_bsap_js_d754f1e9ba63a736ba8ff5ece958f7dd" src="./WorkingWithIndexedDBNettuts_files/s_d754f1e9ba63a736ba8ff5ece958f7dd.js" async="async"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}
.fb_invisible{display:none}
.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}
.fb_reset > div{overflow:hidden}
.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}
.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}
.fb_dialog_content{background:#fff;color:#333}
.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\9;right:7px\9}
.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}
.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}
.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}
.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}
.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}
.fb_dialog_top_left,
.fb_dialog_top_right,
.fb_dialog_bottom_left,
.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}
.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}
.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}
.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}
.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}
.fb_dialog_vert_left,
.fb_dialog_vert_right,
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}
.fb_dialog_vert_left,
.fb_dialog_vert_right{width:10px;height:100%}
.fb_dialog_vert_left{margin-left:-10px}
.fb_dialog_vert_right{right:0;margin-right:-10px}
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{width:100%;height:10px}
.fb_dialog_horiz_top{margin-top:-10px}
.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}
.fb_dialog_iframe{line-height:0}
.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}
.fb_dialog_content .dialog_title > span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif)
no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}
body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}
.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif)
white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}
.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}
#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}
#fb-root #fb_dialog_ipad_overlay.hidden{display:none}
.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}
.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}
.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%
}
.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6),
color-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,
rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}
.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}
.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}
.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}
#fb_dialog_loader_close{float:left}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}
.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}
.fb_iframe_widget iframe{position:absolute}
.fb_iframe_widget_lift{z-index:1}
.fb_hide_iframes iframe{position:relative;left:-10000px}
.fb_iframe_widget_loader{position:relative;display:inline-block}
.fb_iframe_widget_fluid{display:inline}
.fb_iframe_widget_fluid span{width:100%}
.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}
.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_connect_bar_container div,
.fb_connect_bar_container span,
.fb_connect_bar_container a,
.fb_connect_bar_container img,
.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}
.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}
.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}
.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}
.fb_connect_bar a:hover{color:#fff}
.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}
.fb_connect_bar div a,
.fb_connect_bar span,
.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}
.fb_connect_bar .fb_buttons{float:right;margin-top:7px}
.fb_edge_widget_with_comment{position:relative;*z-index:1000}
.fb_edge_widget_with_comment span.fb_edge_comment_widget{position:absolute}
.fb_edge_widget_with_comment span.fb_send_button_form_widget{z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget .FB_Loader{left:0;top:1px;margin-top:6px;margin-left:0;background-position:50% 50%;background-color:#fff;height:150px;width:394px;border:1px #666 solid;border-bottom:2px solid #283e6c;z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.dark .FB_Loader{background-color:#000;border-bottom:2px solid #ccc}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.siderender
.FB_Loader{margin-top:0}
.fbpluginrecommendationsbarleft,
.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}
.fbpluginrecommendationsbarleft{left:10px}
.fbpluginrecommendationsbarright{right:10px}</style><style type="text/css" id="bsa_css">div.bsap_1616{width:100%;display:block}div.bsap_1616 a{width:200px}div.bsap_1616 a img{padding:0}div.bsap_1616 a em{font-style:normal}div.bsap_1616 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0 4px 10px 0;text-align:center;text-decoration:none;overflow:hidden;}div.bsap_1616 img{border:0;clear:right;}div.bsap_1616 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}div.bsap_1616 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}div.bsap_1616 a{line-height:100%}div.bsap_1616 a.adhere{width:200px;height:125px;line-height:1000%}html>body div.bsap_1616 a.adhere{width:198px;height:123px}div.bsap_1616 img.s{height:0;width:0}div.bsap_1284118{width:100%;display:block}div.bsap_1284118 a{width:300px}div.bsap_1284118 a img{padding:0}div.bsap_1284118 a em{font-style:normal}div.bsap_1284118 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0;text-align:center;text-decoration:none;overflow:hidden;float:left;}div.bsap_1284118 img{border:0;clear:right;}div.bsap_1284118 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}div.bsap_1284118 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}div.bsap_1284118 a{line-height:100%}div.bsap_1284118 a.adhere{width:300px;height:250px;line-height:2000%}html>body div.bsap_1284118 a.adhere{width:298px;height:248px}div.bsap_1284118 img.s{height:0;width:0}div.bsap_1284118{line-height:9px}div.bsap_1284118 .bsap_adhere a{height:19px;width:298px;font-size:10px;background:#f1f1f1;border:1px solid #e1e1e1;border-top:none;border-bottom-left-radius:4px;-moz-border-radius-bottomleft:4px;-webkit-border-bottom-left-radius:4px;border-bottom-right-radius:4px;-moz-border-radius-bottomright:4px;-webkit-border-bottom-right-radius:4px;text-shadow:1px 1px 0 #fff;line-height:16px}.bsap_backfillframe{border:0}</style><script async="" src="./WorkingWithIndexedDBNettuts_files/count-data.js"></script><script type="text/javascript" async="" src="./WorkingWithIndexedDBNettuts_files/saved_resource(3)"></script></head><body class="single single-post postid-34673 single-format-standard" data-twttr-rendered="true"> <script type="text/javascript">/*<![CDATA[*/if(window.WTOptimize && typeof wtObj != "undefined"){
    WTOptimize.setup(wtObj);
  }/*]]>*/</script>  <script type="text/javascript">var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
  var gads = document.createElement('script');
  gads.async = true;
  gads.type = 'text/javascript';
  var useSSL = 'https:' == document.location.protocol;
  gads.src = (useSSL ? 'https:' : 'http:') + 
    '//www.googletagservices.com/tag/js/gpt.js';
  var node = document.getElementsByTagName('script')[0];
  node.parentNode.insertBefore(gads, node);
})();</script> <script type="text/javascript">googletag.cmd.push(function() {
  googletag.defineSlot('/11757429/net_leaderboard', [728, 90], 'div-gpt-ad-leaderboard').addService(googletag.pubads());
  googletag.defineSlot('/11757429/net_sidebar_premium', [300, 250], 'div-gpt-ad-sidebar-premium').addService(googletag.pubads());
  googletag.defineSlot('/11757429/net_featured_sidebar', [300, 250], 'div-gpt-ad-featured-sidebar').addService(googletag.pubads());
  googletag.pubads().enableSingleRequest();
  googletag.enableServices();
});</script>  <script type="text/javascript">if (!plus_member_logged_in()) {
  (function(){
    var bsa = document.createElement('script');
       bsa.type = 'text/javascript';
       bsa.async = true;
       bsa.src = '//s3.buysellads.com/ac/bsa.js';
    (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
  })();
}</script> <div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./WorkingWithIndexedDBNettuts_files/xd_arbiter.html" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./WorkingWithIndexedDBNettuts_files/xd_arbiter(1).html" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>  <script type="text/javascript">(function(){
  var fb = document.createElement('script');
  fb.type = 'text/javascript';
  fb.async = true;
  fb.src = document.location.protocol + '//connect.facebook.net/en_US/all.js#xfbml=1';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(fb);
})();</script> <div id="header_wrap"><div id="header"><a href="http://net.tutsplus.com/" class="logo" sl-processed="1">Nettuts+</a><ul class="top_navigation"><li><a href="http://net.tutsplus.com/advertise/" sl-processed="1">Advertise</a></li><li><a href="http://net.tutsplus.com/about/write-for-us/" sl-processed="1">Write for Us</a></li><li><a href="http://net.tutsplus.com/about/" sl-processed="1">About</a></li></ul><div class="search_form"><form method="get" action="http://net.tutsplus.com/"> <input type="text" class="submit_input" name="s" id="s" placeholder="Search..."> <input class="submit_button" type="submit" value="Search"></form></div><div id="navigation"><ul class="navigation"><li class="parent"><a href="http://net.tutsplus.com/category/tutorials/" sl-processed="1">Tutorials</a><ul class="child-nav"><li class="cat-item cat-item-568"><a href="http://net.tutsplus.com/category/tutorials/asp-net/" title="ASP.NET programming tutorials." sl-processed="1">ASP.NET</a></li><li class="cat-item cat-item-464"><a href="http://net.tutsplus.com/category/tutorials/cmss/" title="Tutorials that details how to work with various CMSs." sl-processed="1">CMSs</a></li><li class="cat-item cat-item-547"><a href="http://net.tutsplus.com/category/tutorials/databases/" title="Learn how to work more efficiently with databases." sl-processed="1">Databases</a></li><li class="cat-item cat-item-286"><a href="http://net.tutsplus.com/category/tutorials/design-tutorials/" title="Learn the ins and outs of web design." sl-processed="1">Design</a></li><li class="cat-item cat-item-8"><a href="http://net.tutsplus.com/category/tutorials/html-css-techniques/" title="Get up to speed with HTML and CSS." sl-processed="1">HTML &amp; CSS</a></li><li class="cat-item cat-item-10"><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/" title="Learn about vanilla JavaScript, and the various popular libraries that are available, like jQuery." sl-processed="1">JavaScript &amp; AJAX</a></li><li class="cat-item cat-item-153"><a href="http://net.tutsplus.com/category/tutorials/other/" title="View all posts filed under Other" sl-processed="1">Other</a></li><li class="cat-item cat-item-41"><a href="http://net.tutsplus.com/category/tutorials/php/" title="Learn how to use PHP." sl-processed="1">PHP</a></li><li class="cat-item cat-item-1285"><a href="http://net.tutsplus.com/category/tutorials/python-tutorials/" title="View all posts filed under Python" sl-processed="1">Python</a></li><li class="cat-item cat-item-124"><a href="http://net.tutsplus.com/category/tutorials/ruby/" title="High quality Ruby and RoR tutorials and screencasts." sl-processed="1">Ruby</a></li><li class="cat-item cat-item-1650"><a href="http://net.tutsplus.com/category/tutorials/scala-tutorials/" title="View all posts filed under Scala" sl-processed="1">Scala</a></li><li class="cat-item cat-item-7"><a href="http://net.tutsplus.com/category/tutorials/site-builds/" title="Learn how to convert a PSD to HTML from scratch." sl-processed="1">Site Builds</a></li><li class="cat-item cat-item-29"><a href="http://net.tutsplus.com/category/tutorials/tools-and-tips/" title="Details the most popular tools when building web applications." sl-processed="1">Tools &amp; Tips</a></li><li class="cat-item cat-item-35"><a href="http://net.tutsplus.com/category/tutorials/wordpress/" title="Become a WordPress master." sl-processed="1">Wordpress</a></li></ul></li><li class="parent"><a href="http://net.tutsplus.com/category/articles/" sl-processed="1">Articles</a><ul class="child-nav"><li class="cat-item cat-item-182"><a href="http://net.tutsplus.com/category/articles/contests/" title="View all posts filed under Contests" sl-processed="1">Contests</a></li><li class="cat-item cat-item-1334"><a href="http://net.tutsplus.com/category/articles/editorials/" title="Opinion pieces on the web development arena. " sl-processed="1">Editorials</a></li><li class="cat-item cat-item-128"><a href="http://net.tutsplus.com/category/articles/general/" title="Generic articles on web development." sl-processed="1">General</a></li><li class="cat-item cat-item-127"><a href="http://net.tutsplus.com/category/articles/interviews/" title="Interviews with prominent developers in the web development industry." sl-processed="1">Interviews</a></li><li class="cat-item cat-item-1084"><a href="http://net.tutsplus.com/category/articles/lectures/" title="Featured talks from web development conferences around the world." sl-processed="1">Lectures</a></li><li class="cat-item cat-item-1"><a href="http://net.tutsplus.com/category/articles/news/" title="Recent news in the web development industry." sl-processed="1">News</a></li><li class="cat-item cat-item-1251"><a href="http://net.tutsplus.com/category/articles/quizzes/" title="Quizzes to check your knowledge." sl-processed="1">Quizzes</a></li><li class="cat-item cat-item-437"><a href="http://net.tutsplus.com/category/articles/reviews/" title="Reviews of new web apps, frameworks, and books." sl-processed="1">Reviews</a></li><li class="cat-item cat-item-1379"><a href="http://net.tutsplus.com/category/articles/roundups-articles/" title="Compilations of tools, frameworks and other assorted stuff." sl-processed="1">Roundups</a></li><li class="cat-item cat-item-23"><a href="http://net.tutsplus.com/category/articles/web-roundups/" title="Compilations of popular articles from around the web." sl-processed="1">Web Roundups</a></li></ul></li><li class="parent"><a href="http://net.tutsplus.com/tag/tips/" sl-processed="1">Tips</a><ul class="child-nav"><li><a href="http://net.tutsplus.com/category/tutorials/tools-and-tips/?tag=tips" title="Tools &amp; Tips" sl-processed="1">Tools &amp; Tips</a></li><li><a href="http://net.tutsplus.com/category/tutorials/?tag=tips" title="Tutorials" sl-processed="1">Tutorials</a></li><li><a href="http://net.tutsplus.com/category/tutorials/ruby/?tag=tips" title="Ruby" sl-processed="1">Ruby</a></li><li><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/?tag=tips" title="JavaScript &amp; AJAX" sl-processed="1">JavaScript &amp; AJAX</a></li><li><a href="http://net.tutsplus.com/category/tutorials/other/?tag=tips" title="Other" sl-processed="1">Other</a></li><li><a href="http://net.tutsplus.com/category/tutorials/php/?tag=tips" title="PHP" sl-processed="1">PHP</a></li></ul></li><li><a href="http://net.tutsplus.com/sessions/" sl-processed="1">Sessions</a></li><li><a href="http://net.tutsplus.com/resources/" sl-processed="1">Resources</a></li><li class="parent"><a href="http://net.tutsplus.com/tag/videos/" sl-processed="1">Videos</a><ul class="child-nav"><li><a href="http://net.tutsplus.com/category/tutorials/python-tutorials/?tag=videos" title="Python" sl-processed="1">Python</a></li><li><a href="http://net.tutsplus.com/category/tutorials/tools-and-tips/?tag=videos" title="Tools &amp; Tips" sl-processed="1">Tools &amp; Tips</a></li><li><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/?tag=videos" title="JavaScript &amp; AJAX" sl-processed="1">JavaScript &amp; AJAX</a></li><li><a href="http://net.tutsplus.com/category/tutorials/php/?tag=videos" title="PHP" sl-processed="1">PHP</a></li></ul></li><li id="nav-premium-link"> <a href="http://tutsplus.com/courses/?q=true&filter_topic=35" target="_blank" sl-processed="1">Tuts+ Premium</a></li></ul></div><div class="site_switcher"><ul><li class="link-hub"><a href="http://hub.tutsplus.com/" sl-processed="1">Tuts+ Hub <span>The Latest Tuts+ Updates</span></a></li><li class="link-psd"><a href="http://psd.tutsplus.com/" sl-processed="1">Psdtuts+ <span>Adobe Photoshop</span></a></li><li class="link-net"><a href="http://net.tutsplus.com/" sl-processed="1">Nettuts+ <span>Web Development</span></a></li><li class="link-vector"><a href="http://vector.tutsplus.com/" sl-processed="1">Vectortuts+ <span>Illustrator and Vector</span></a></li><li class="link-audio"><a href="http://audio.tutsplus.com/" sl-processed="1">Audiotuts+ <span>Audio and Production</span></a></li><li class="link-ae"><a href="http://ae.tutsplus.com/" sl-processed="1">Aetuts+ <span>Adobe After Effects</span></a></li><li class="link-cg"><a href="http://cg.tutsplus.com/" sl-processed="1">Cgtuts+ <span>Computer Graphics</span></a></li><li class="link-photo"><a href="http://photo.tutsplus.com/" sl-processed="1">Phototuts+ <span>Photography</span></a></li><li class="link-mobile"><a href="http://mobile.tutsplus.com/" sl-processed="1">Mobiletuts+ <span>Mobile Development</span></a></li><li class="link-webdesign"><a href="http://webdesign.tutsplus.com/" sl-processed="1">Webdesigntuts+ <span>Web Design</span></a></li><li class="link-wp"><a href="http://wp.tutsplus.com/" sl-processed="1">Wptuts+ <span>WordPress</span></a></li><li class="link-mac"><a href="http://mac.tutsplus.com/" sl-processed="1">Mactuts+ <span>Mac &amp; OS X</span></a></li><li class="link-gamedev"><a href="http://gamedev.tutsplus.com/" sl-processed="1">Gamedevtuts+ <span>Game Development</span></a></li><li class="link-craft"><a href="http://craft.tutsplus.com/" sl-processed="1">Crafttuts+ <span>Craft &amp; Handmade</span></a></li></ul> <a href="javascript:void(0);" class="site_switcher_button" sl-processed="1">Toggle</a></div><div class="header-marketplace-ad ad-themeforest"><a href="http://themeforest.net/?WT.mc_id=TutsHeader&ref=NetPremium" rel="external" target="_blank" sl-processed="1"><span>&nbsp;</span>Website Templates</a></div></div></div><div id="content_wrap"><div id="content" class="clearfix"><div class="page_wrap"><div id="leader-board-wrap" style=""><div class="leader_board"> <a href="http://net.tutsplus.com/advertise/" class="LB_advert" sl-processed="1">Advertise Here</a><div class="lb_inner"><div id="div-gpt-ad-leaderboard" style="width:728px; height:90px;"> <script type="text/javascript">googletag.cmd.push(function() { googletag.display('div-gpt-ad-leaderboard'); });</script> <div id="google_ads_iframe_/11757429/net_leaderboard_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/11757429/net_leaderboard_0" name="google_ads_iframe_/11757429/net_leaderboard_0" width="728" height="90" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom;"></iframe></div><iframe id="google_ads_iframe_/11757429/net_leaderboard_0__hidden__" name="google_ads_iframe_/11757429/net_leaderboard_0__hidden__" width="0" height="0" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom; visibility: hidden; display: none;"></iframe></div></div></div></div> <script type="text/javascript">if (!plus_member_logged_in()) {
    $('#leader-board-wrap').show()
  }</script> <div id="page" class="single_post"><div class="page_inner"><div class="post post_inner" id="post-34673"><div class="tut_top"><div class="post_image"> <a href="./WorkingWithIndexedDBNettuts_files/WorkingWithIndexedDBNettuts.html" sl-processed="1"><img src="./WorkingWithIndexedDBNettuts_files/indexeddb-preview.png" alt="Working With IndexedDB" width="200" height="200" original="http://cdn.tutsplus.com/net/uploads/2013/09/indexeddb-preview.png"></a></div><div class="preview"><div class="post_taxonomy"><ul><li><a href="http://net.tutsplus.com/category/tutorials/" sl-processed="1">Tutorials</a><span>\</span></li><li><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/" sl-processed="1">JavaScript &amp; AJAX</a></li></ul><div id="tuts-rating" class=""><p><span> \</span>Rating:</p><ul id="">  <li><a href="javascript:void(0)" class="rate-this one active" sl-processed="1">1</a></li>  <li><a href="javascript:void(0)" class="rate-this two active" sl-processed="1">2</a></li>  <li><a href="javascript:void(0)" class="rate-this three active" sl-processed="1">3</a></li>  <li><a href="javascript:void(0)" class="rate-this four active" sl-processed="1">4</a></li>  <li><a href="javascript:void(0)" class="rate-this five active half" sl-processed="1">5</a></li></ul></div></div><h1 class="post_title"> Working With IndexedDB</h1><div class="post_meta"> <a href="http://net.tutsplus.com/author/raymondcamden/" title="Posts by Raymond Camden" rel="author" sl-processed="1">Raymond Camden</a> on Sep 13th 2013 with <a href="http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/#disqus_thread" title="Comment on Working With IndexedDB" data-disqus-identifier="34673 http://net.tutsplus.com/?p=34673" sl-processed="1">44 Comments</a></div><div class="article_social_media"><div class="tweetmeme_btn"> <iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./WorkingWithIndexedDBNettuts_files/tweet_button.1387492107.html" class="twitter-share-button twitter-tweet-button twitter-count-none" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 56px; height: 20px;"></iframe><script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/widgets.js"></script> </div><div class="facebook_send_btn left"> <div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 32px; height: 20px; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 32px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1387538055946" name="I0_1387538055946" src="./WorkingWithIndexedDBNettuts_files/fastbutton.html" data-gapiattached="true" title="+1"></iframe></div></div><div class="facebook_btn"> <fb:like layout="button_count" width="90" height="21" fb-xfbml-state="rendered" class="fb_edge_widget_with_comment fb_iframe_widget"><span style="height: 20px; width: 79px;"><iframe id="f363b0a084" name="f39d03a21c" scrolling="no" title="Like this content on Facebook." class="fb_ltr" src="./WorkingWithIndexedDBNettuts_files/like(1).html" style="border: none; overflow: hidden; height: 20px; width: 79px;"></iframe></span></fb:like></div></div></div></div></div><div class="tut_bottom"><div class="tutorial_details"><h5>Tutorial Details</h5><ul><li></li><li><b>Difficulty</b>: Intermediate</li><li><b>Estimated Completion Time</b>: 20 Minutes</li></ul></div><div class="hublink"><a href="http://dev.tutsplus.com/tutorials/working-with-indexeddb--net-34673" class="hublink_button" sl-processed="1">View post on <span>Tuts+ Beta</span></a><strong>Tuts+ Beta</strong> is an optimized, mobile-friendly and easy-to-read version of the Tuts+ network.</div></div><div class="post post_inner_article"><div class="download_wrap"><div class="big_btn" style="margin-left:100px;"> <a href="https://github.com/tutsplus/working-with-indexeddb" rel="external" target="_blank" sl-processed="1"><span>Download</span> <small>Source Files</small></a></div></div> <script type="text/javascript">/*<![CDATA[*///
(function($) { $(function() { WpPostRatings({context: $('#post-34673'), post_id: 34673, rpc: 'http://net.tutsplus.com/wp-admin/admin-ajax.php', base_url: 'http://net.tutsplus.com', allow_voting: true}).init() })})(jQuery)
//]]&gt;/*]]>*/</script><p>One of the more interesting developments in web standards lately is the Indexed Database (IndexedDB for short) specification. For a fun time you can read the <a href="http://www.w3.org/TR/IndexedDB/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;www.w3.org&#39;]);" title="Spec" sl-processed="1">spec</a> yourself. In this tutorial I’ll be explaining this feature and hopefully giving you some inspiration to use this powerful feature yourself.</p><p><span id="more-34673"></span></p><hr><h2>Overview</h2><blockquote class="pullquote"><p>As a specification, IndexedDB is currently a Candidate Recommendation.</p></blockquote><p>In a nutshell, IndexedDB provides a way for you to store large amounts of data on your user’s browser. Any application that needs to send a lot of data over the wire could greatly benefit from being able to store that data on the client instead. Of course storage is only part of the equation. IndexedDB also provides a powerful indexed based searching API to retrieve the data you need.</p><p>You may wonder how IndexedDB differs from other storage mechanisms?</p><p>Cookies are extremely well supported, but have legal implications and limited storage space. Also – they are sent back and forth to the server with every request, completely negating the benefits of client-side storage.</p><p>Local Storage is also very well supported, but limited in terms of the total amount of storage you can use. Local Storage doesn’t provide a true “search” API as data is only retrieved via key values. Local Storage is great for “specific” things you may want to store, for example, preferences, whereas IndexedDB is better suited for Ad Hoc data (much like a database).</p><p>Before we go any further though, let’s have an honest talk about the state of IndexedDB in terms of browser support. As a specification, IndexedDB is currently a Candidate Recommendation. At this point the folks behind the specification are happy with it but are now looking for feedback from the developer community. The specification may change between now and the final stage, W3C Recommendation. In general, the browsers that support IndexedDB now all do in a fairly consistent manner, but developers should be prepared to deal with prefixes and take note of updates in the future.</p><p>As for those browsers supporting IndexedDB, you’ve got a bit of a dilemma. Support is pretty darn good for the desktop, but virtually non-existent for mobile. Let’s see what the <em>excellent</em> site CanIUse.com says:</p> <figure class="tutorial_image"> <img src="./WorkingWithIndexedDBNettuts_files/box.gif" data-original-url="http://cdn.tutsplus.com/net.tutsplus.com/uploads/2013/09/s1.png" alt="CanIUse Report for IndexedDB" width="600" height="450" class="alignnone size-full wp-image-34676" original="http://cdn.tutsplus.com/net/uploads/2013/09/s1.png"><br> </figure><p>Chrome for Android does support the feature, but very few people are currently using that browser on Android devices. Does the lack of mobile support imply you shouldn’t use it? Of course not! Hopefully all our readers are familiar with the concept of progressive enhancement. Features like IndexedDB can be added to your application in a manner that won’t break in non-supported browsers. You could use wrapper libraries to switch to WebSQL on mobile, or simply skip storing data locally on your mobile clients. Personally I believe the ability to cache large blocks of data on the client is important enough to use now even without mobile support.</p><hr><h2>Let’s Get Started</h2><p>We’ve covered the specification and support, now let’s look at using the feature. The very first thing we should do is check for IndexedDB support. While there are tools out there that provide generic ways to check for browser features, we can make this much simpler since we’re just checking for one particular thing.</p><div><div id="highlighter_628176" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript plain">document.addEventListener(</code><code class="jscript string">"DOMContentLoaded"</code><code class="jscript plain">, </code><code class="jscript keyword">function</code><code class="jscript plain">(){</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(</code><code class="jscript string">"indexedDB"</code> <code class="jscript keyword">in</code> <code class="jscript plain">window) {</code></div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"YES!!! I CAN DO IT!!! WOOT!!!"</code><code class="jscript plain">);</code></div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">} </code><code class="jscript keyword">else</code> <code class="jscript plain">{</code></div><div class="line number6 index5 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"I has a sad."</code><code class="jscript plain">);</code></div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="jscript plain">},</code><code class="jscript keyword">false</code><code class="jscript plain">);</code></div></div></td></tr></tbody></table></div></div><p>The code snippet above (available in <code>test1.html</code> if you download the zip file attached to this article) uses the <code>DOMContentLoaded</code> event to wait for the page to load. (Ok, that’s kind of obvious, but I recognize this may not be familiar to folks who have only used jQuery.) I then simply see if indexedDB exists in the <code>window</code> object and if so, we’re good to go. That’s the simplest example, but typically we would probably want to store this so we know later on if we can use the feature. Here’s a slightly more advanced example (<code>test2.html</code>).</p><div><div id="highlighter_143093" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">idbSupported = </code><code class="jscript keyword">false</code><code class="jscript plain">;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="jscript plain">document.addEventListener(</code><code class="jscript string">"DOMContentLoaded"</code><code class="jscript plain">, </code><code class="jscript keyword">function</code><code class="jscript plain">(){</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(</code><code class="jscript string">"indexedDB"</code> <code class="jscript keyword">in</code> <code class="jscript plain">window) {</code></div><div class="line number6 index5 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">idbSupported = </code><code class="jscript keyword">true</code><code class="jscript plain">;</code></div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="jscript plain">},</code><code class="jscript keyword">false</code><code class="jscript plain">);</code></div></div></td></tr></tbody></table></div></div><p>All I’ve done is created a global variable, <code>idbSupported</code>, that can be used as a flag to see if the current browser can use IndexedDB.</p><hr><h2>Opening a Database</h2><p>IndexedDB, as you can imagine, makes use of databases. To be clear, this isn’t a SQL Server implementation. This database is local to the browser and only available to the user. IndexedDB databases follow the same rules as cookies and local storage. A database is unique to the domain it was loaded from. So for example, a database called “Foo” created at foo.com will not conflict with a database of the same name at goo.com. Not only will it not conflict, it won’t be available to other domains as well. You can store data for your web site knowing that another web site will not be able to access it.</p><p>Opening a database is done via the open command. In basic usage you provide a name and a version. The version is <em>very</em> important for reasons I’ll cover more later. Here’s a simple example:</p><div><div id="highlighter_218488" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">openRequest = indexedDB.open(</code><code class="jscript string">"test"</code><code class="jscript plain">,1);</code></div></div></td></tr></tbody></table></div></div><p>Opening a database is an asynchronous operation. In order to handle the result of this operation you’ll need to add some event listeners. There’s four different types of events that can be fired:</p><ul><li>success</li><li>error</li><li>upgradeneeded</li><li>blocked</li></ul><p>You can probably guess as to what success and error imply. The upgradeneeded event is used both when the user first opens the database as well as when you change the version. Blocked isn’t something that will happen usually, but can fire if a previous connection was never closed.</p><p>Typically what should happen is that on the first hit to your site the upgradeneeded event will fire. After that – just the success handler. Let’s look at a simple example (<code>test3.html</code>).</p><div><div id="highlighter_891308" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">idbSupported = </code><code class="jscript keyword">false</code><code class="jscript plain">;</code></div><div class="line number2 index1 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">db;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="jscript plain">document.addEventListener(</code><code class="jscript string">"DOMContentLoaded"</code><code class="jscript plain">, </code><code class="jscript keyword">function</code><code class="jscript plain">(){</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(</code><code class="jscript string">"indexedDB"</code> <code class="jscript keyword">in</code> <code class="jscript plain">window) {</code></div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">idbSupported = </code><code class="jscript keyword">true</code><code class="jscript plain">;</code></div><div class="line number8 index7 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(idbSupported) {</code></div><div class="line number11 index10 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">openRequest = indexedDB.open(</code><code class="jscript string">"test"</code><code class="jscript plain">,1);</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">openRequest.onupgradeneeded = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number14 index13 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"Upgrading..."</code><code class="jscript plain">);</code></div><div class="line number15 index14 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">openRequest.onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number18 index17 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"Success!"</code><code class="jscript plain">);</code></div><div class="line number19 index18 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">db = e.target.result;</code></div><div class="line number20 index19 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">openRequest.onerror = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number23 index22 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"Error"</code><code class="jscript plain">);</code></div><div class="line number24 index23 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.dir(e);</code></div><div class="line number25 index24 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="jscript plain">},</code><code class="jscript keyword">false</code><code class="jscript plain">);</code></div></div></td></tr></tbody></table></div></div><p>Once again we check to see if IndexedDB is actually supported, and if it is, we open a database. We’ve covered three events here – the upgrade needed event, the success event, and the error event. For now focus on the success event. The event is passed a handler via <code>target.result</code>. We’ve copied that to a global variable called <code>db</code>. This is something we’ll use later to actually add data. If you run this in your browser (in one that supports IndexedDB of course!), you should see the upgrade and success message in your console the first time you run the script. The second, and so forth, times you run the script you should only see the success message.</p><hr><h2>Object Stores</h2><p>So far we’ve checked for IndexedDB support, confirmed it, and opened a connection to a database. Now we need a place to store data. IndexedDB has a concept of “Object Stores.” You can think of this as a typical database table. (It is much more loose than a typical database table, but don’t worry about that now.) Object stores have data (obviously) but also a keypath and an optional set of indexes. Keypaths are basically unique identifiers for your data and come in a few different formats. Indexes will be covered later when we start talking about retrieving data.</p><p>Now for something crucial. Remember the upgradeneeded event mentioned before? You can only create object stores during an upgradeneeded event. Now – by default – this will run automatically the first time a user hits your site. You can use this to create your object stores. The crucial thing to remember is that if you ever need to <em>modify</em> your object stores, you’re going to need to upgrade the version (back in that open event) and write code to handle your changes. Lets take a look at a simple example of this in action.</p><div><div id="highlighter_621304" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">idbSupported = </code><code class="jscript keyword">false</code><code class="jscript plain">;</code></div><div class="line number2 index1 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">db;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="jscript plain">document.addEventListener(</code><code class="jscript string">"DOMContentLoaded"</code><code class="jscript plain">, </code><code class="jscript keyword">function</code><code class="jscript plain">(){</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(</code><code class="jscript string">"indexedDB"</code> <code class="jscript keyword">in</code> <code class="jscript plain">window) {</code></div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">idbSupported = </code><code class="jscript keyword">true</code><code class="jscript plain">;</code></div><div class="line number8 index7 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(idbSupported) {</code></div><div class="line number11 index10 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">openRequest = indexedDB.open(</code><code class="jscript string">"test_v2"</code><code class="jscript plain">,1);</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">openRequest.onupgradeneeded = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number14 index13 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"running onupgradeneeded"</code><code class="jscript plain">);</code></div><div class="line number15 index14 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">thisDB = e.target.result;</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(!thisDB.objectStoreNames.contains(</code><code class="jscript string">"firstOS"</code><code class="jscript plain">)) {</code></div><div class="line number18 index17 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">thisDB.createObjectStore(</code><code class="jscript string">"firstOS"</code><code class="jscript plain">);</code></div><div class="line number19 index18 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">openRequest.onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number24 index23 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"Success!"</code><code class="jscript plain">);</code></div><div class="line number25 index24 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">db = e.target.result;</code></div><div class="line number26 index25 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">openRequest.onerror = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number29 index28 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"Error"</code><code class="jscript plain">);</code></div><div class="line number30 index29 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.dir(e);</code></div><div class="line number31 index30 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="jscript plain">},</code><code class="jscript keyword">false</code><code class="jscript plain">);</code></div></div></td></tr></tbody></table></div></div><p>This example (<code>test4.html</code>) builds upon the previous entries so I’ll just focus on what’s new. Within the upgradeneeded event, I’ve made use of the database variable passed to it (<code>thisDB</code>). One of the properties of this variable is a list of existing object stores called <code>objectStoreNames</code>. For folks curious, this is not a simple array but a “DOMStringList.” Don’t ask me – but there ya go. We can use the <code>contains</code> method to see if our object store exists, and if not, create it. This is one of the few synchronous functions in IndexedDB so we don’t have to listen for the result.</p><p>To summarize then – this is what would happen when a user visits your site. The first time they are here, the upgradeneeded event fires. The code checks to see if an object store, “firstOS” exists. It will not. Therefore – it is created. Then the success handler runs. The second time they visit the site, the version number will be the same so the upgradeneeded event is <em>not</em> fired.</p><p>Now imagine you wanted to add a second object store. All you need to do is increment the version number and basically duplicate the contains/createObjectStore code block you see above. The cool thing is that your upgradeneeded code will support both people who are brand new to the site as well as those who already had the first object store. Here is an example of this (<code>test5.html</code>):</p><div><div id="highlighter_713169" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">openRequest = indexedDB.open(</code><code class="jscript string">"test_v2"</code><code class="jscript plain">,2);</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="jscript plain">openRequest.onupgradeneeded = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"running onupgradeneeded"</code><code class="jscript plain">);</code></div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">thisDB = e.target.result;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(!thisDB.objectStoreNames.contains(</code><code class="jscript string">"firstOS"</code><code class="jscript plain">)) {</code></div><div class="line number8 index7 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">thisDB.createObjectStore(</code><code class="jscript string">"firstOS"</code><code class="jscript plain">);</code></div><div class="line number9 index8 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(!thisDB.objectStoreNames.contains(</code><code class="jscript string">"secondOS"</code><code class="jscript plain">)) {</code></div><div class="line number12 index11 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">thisDB.createObjectStore(</code><code class="jscript string">"secondOS"</code><code class="jscript plain">);</code></div><div class="line number13 index12 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div><hr><h2>Adding Data</h2><p>Once you’ve got your object stores ready you can begin adding data. This is – perhaps – one of the coolest aspects of IndexedDB. Unlike traditional table-based databases, IndexedDB lets you store an object as is. What that means is you can take a generic JavaScript object and just store it. Done. Obviously there’s some caveats here, but for the most part, that’s it.</p><p>Working with data requires you to use a transaction. Transactions take two arguments. The first is an array of tables you’ll be working with. Most of the time this will be one table. The second argument is the type of transaction. There are two types of transactions: readonly and readwrite. Adding data will be a readwrite operation. Let’s start by creating the transaction:</p><div><div id="highlighter_645435" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript comments">//Assume db is a database variable opened earlier</code></div><div class="line number2 index1 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">transaction = db.transaction([</code><code class="jscript string">"people"</code><code class="jscript plain">],</code><code class="jscript string">"readwrite"</code><code class="jscript plain">);</code></div></div></td></tr></tbody></table></div></div><p>Note the object store, “people”, is just one we’ve made up in the example above. Our next full demo will make use of it. After getting the transaction, you then ask it for the object store you said you would be working with:</p><div><div id="highlighter_553709" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">store = transaction.objectStore(</code><code class="jscript string">"people"</code><code class="jscript plain">);</code></div></div></td></tr></tbody></table></div></div><p>Now that you’ve got the store you can add data. This is done via the – wait for it – <code>add</code> method.</p><div><div id="highlighter_942888" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript comments">//Define a person</code></div><div class="line number2 index1 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">person = {</code></div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">name:name,</code></div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">email:email,</code></div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">created:</code><code class="jscript keyword">new</code> <code class="jscript plain">Date()</code></div><div class="line number6 index5 alt1"><code class="jscript plain">}</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="jscript comments">//Perform the add</code></div><div class="line number9 index8 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">request = store.add(person,1);</code></div></div></td></tr></tbody></table></div></div><p>Remember earlier we said that you can store any data you want (for the most part). So my person object above is completely arbitrary. I could have used firstName and lastName instead of just name. I could have used a gender property. You get the idea. The second argument is the key used to uniquely identify the data. In this case we’ve hard coded it to 1 which is going to cause a problem pretty quickly. That’s ok – we’ll learn how to correct it.</p><p>The add operation is ascynchronous, so lets add two event handlers for the result.</p><div><div id="highlighter_930278" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript plain">request.onerror = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number2 index1 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"Error"</code><code class="jscript plain">,e.target.error.name);</code></div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript comments">//some type of error handler</code></div><div class="line number4 index3 alt1"><code class="jscript plain">}</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="jscript plain">request.onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"Woot! Did it"</code><code class="jscript plain">);</code></div><div class="line number8 index7 alt1"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div><p>We’ve got an <code>onerror</code> handler for errors and <code>onsuccess</code> for good changes. Fairly obvious, but let’s see a complete example. You can find this in the file <code>test6.html</code>. &gt;</p><div><div id="highlighter_312033" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;!doctype html&gt;</code></div><div class="line number2 index1 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">html</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">head</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">head</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">body</code><code class="xml plain">&gt;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">script</code><code class="xml plain">&gt;</code></div><div class="line number9 index8 alt2"><code class="xml plain">var db;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="xml plain">function indexedDBOk() {</code></div><div class="line number12 index11 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">return "indexedDB" in window;</code></div><div class="line number13 index12 alt2"><code class="xml plain">}</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="xml plain">document.addEventListener("DOMContentLoaded", function() {</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">//No support? Go in the corner and pout.</code></div><div class="line number18 index17 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">if(!indexedDBOk) return;</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">var openRequest = indexedDB.open("idarticle_people",1);</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">openRequest.onupgradeneeded = function(e) {</code></div><div class="line number23 index22 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">var thisDB = e.target.result;</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">if(!thisDB.objectStoreNames.contains("people")) {</code></div><div class="line number26 index25 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">thisDB.createObjectStore("people");</code></div><div class="line number27 index26 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">}</code></div><div class="line number28 index27 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">}</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">openRequest.onsuccess = function(e) {</code></div><div class="line number31 index30 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">console.log("running onsuccess");</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">db = e.target.result;</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">//Listen for add clicks</code></div><div class="line number36 index35 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">document.querySelector("#addButton").addEventListener("click", addPerson, false);</code></div><div class="line number37 index36 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">}</code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">openRequest.onerror = function(e) {</code></div><div class="line number40 index39 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">//Do something for the error</code></div><div class="line number41 index40 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">}</code></div><div class="line number42 index41 alt1">&nbsp;</div><div class="line number43 index42 alt2"><code class="xml plain">},false);</code></div><div class="line number44 index43 alt1">&nbsp;</div><div class="line number45 index44 alt2"><code class="xml plain">function addPerson(e) {</code></div><div class="line number46 index45 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">var name = document.querySelector("#name").value;</code></div><div class="line number47 index46 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">var email = document.querySelector("#email").value;</code></div><div class="line number48 index47 alt1">&nbsp;</div><div class="line number49 index48 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">console.log("About to add "+name+"/"+email);</code></div><div class="line number50 index49 alt1">&nbsp;</div><div class="line number51 index50 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">var transaction = db.transaction(["people"],"readwrite");</code></div><div class="line number52 index51 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">var store = transaction.objectStore("people");</code></div><div class="line number53 index52 alt2">&nbsp;</div><div class="line number54 index53 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">//Define a person</code></div><div class="line number55 index54 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">var person = {</code></div><div class="line number56 index55 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">name:name,</code></div><div class="line number57 index56 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">email:email,</code></div><div class="line number58 index57 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">created:new Date()</code></div><div class="line number59 index58 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">}</code></div><div class="line number60 index59 alt1">&nbsp;</div><div class="line number61 index60 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">//Perform the add</code></div><div class="line number62 index61 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">var request = store.add(person,1);</code></div><div class="line number63 index62 alt2">&nbsp;</div><div class="line number64 index63 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">request.onerror = function(e) {</code></div><div class="line number65 index64 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">console.log("Error",e.target.error.name);</code></div><div class="line number66 index65 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">//some type of error handler</code></div><div class="line number67 index66 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">}</code></div><div class="line number68 index67 alt1">&nbsp;</div><div class="line number69 index68 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">request.onsuccess = function(e) {</code></div><div class="line number70 index69 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">console.log("Woot! Did it");</code></div><div class="line number71 index70 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">}</code></div><div class="line number72 index71 alt1"><code class="xml plain">}</code></div><div class="line number73 index72 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">script</code><code class="xml plain">&gt;</code></div><div class="line number74 index73 alt1">&nbsp;</div><div class="line number75 index74 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"text"</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"name"</code> <code class="xml color1">placeholder</code><code class="xml plain">=</code><code class="xml string">"Name"</code><code class="xml plain">&gt;&lt;</code><code class="xml keyword">br</code><code class="xml plain">/&gt;</code></div><div class="line number76 index75 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"email"</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"email"</code> <code class="xml color1">placeholder</code><code class="xml plain">=</code><code class="xml string">"Email"</code><code class="xml plain">&gt;&lt;</code><code class="xml keyword">br</code><code class="xml plain">/&gt;</code></div><div class="line number77 index76 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">button</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"addButton"</code><code class="xml plain">&gt;Add Data&lt;/</code><code class="xml keyword">button</code><code class="xml plain">&gt;</code></div><div class="line number78 index77 alt1">&nbsp;</div><div class="line number79 index78 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">body</code><code class="xml plain">&gt;</code></div><div class="line number80 index79 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">html</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div><p>The example above contains a small form with a button to fire off an event to store the data in IndexedDB. Run this in your browser, add something to the form fields, and click add. If you’ve got your browser dev tools open, you should see something like this.</p><div class="tutorial_image"><script type="text/javascript">google_ad_client = "pub-9093712935949486";
/* 300x250 nettuts middle tutsads */
google_ad_slot = "1775681443";
google_ad_width = 300;
google_ad_height = 250;</script> <script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/show_ads.js"></script><ins style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins></div> <figure class="tutorial_image"> <img src="./WorkingWithIndexedDBNettuts_files/box.gif" data-original-url="http://cdn.tutsplus.com/net.tutsplus.com/uploads/2013/09/s2.png" alt="Data Entry Form" width="394" height="420" class="alignnone size-full wp-image-34677" original="http://cdn.tutsplus.com/net/uploads/2013/09/s2.png"><br> </figure><p>This is a great time to point out that Chrome has an excellent viewer for IndexedDB data. If you click on the Resources tab, expand the IndexedDB section, you can see the database created by this demo as well as the object just entered.</p> <figure class="tutorial_image"> <img src="./WorkingWithIndexedDBNettuts_files/box.gif" data-original-url="http://cdn.tutsplus.com/net.tutsplus.com/uploads/2013/09/s3.png" alt="Chrome Dev Tools and IndexedDB" width="600" height="132" class="alignnone size-full wp-image-34678" original="http://cdn.tutsplus.com/net/uploads/2013/09/s3.png"><br> </figure><p>For the heck of it, go ahead and hit that Add Data button again. You should see an error in the console:</p> <figure class="tutorial_image"> <img src="./WorkingWithIndexedDBNettuts_files/box.gif" data-original-url="http://cdn.tutsplus.com/net.tutsplus.com/uploads/2013/09/s4.png" alt="Error adding data again" width="492" height="268" class="alignnone size-full wp-image-34679" original="http://cdn.tutsplus.com/net/uploads/2013/09/s4.png"><br> </figure><p>The error message should be a clue. ConstraintError means we just tried to add data with the same key as one that already existed. If you remember, we hard coded that key and we <em>knew</em> that was going to be a problem. It’s time to talk keys.</p><hr><h2>Keys</h2><p>Keys are IndexedDB’s version of primary keys. Traditional databases can have tables without keys, but every object store needs to have a key. IndexedDB allows for a couple different types of keys.</p><p>The first option is to simply specify it yourself, like we did above. We could use logic to generate unique keys.</p><p>Your second option is a keypath, where the key is based on a property of the data itself. Consider our people example – we could use an email address as a key.</p><p>Your third option, and in my opinion, the simplest, is to use a key generator. This works much like an autonumber primary key and is the simplest method of specifying keys.</p><p>Keys are defined when object stores are created. Here are two examples – one using a key path and one a generator.</p><div><div id="highlighter_911623" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript plain">thisDb.createObjectStore(</code><code class="jscript string">"test"</code><code class="jscript plain">, { keyPath: </code><code class="jscript string">"email"</code> <code class="jscript plain">});&nbsp; </code></div><div class="line number2 index1 alt1"><code class="jscript plain">thisDb.createObjectStore(</code><code class="jscript string">"test2"</code><code class="jscript plain">, { autoIncrement: </code><code class="jscript keyword">true</code> <code class="jscript plain">});</code></div></div></td></tr></tbody></table></div></div><p>We can modify our previous demo by creating an object store with an autoIncrement key:</p><div><div id="highlighter_273948" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript plain">thisDB.createObjectStore(</code><code class="jscript string">"people"</code><code class="jscript plain">, {autoIncrement:</code><code class="jscript keyword">true</code><code class="jscript plain">});</code></div></div></td></tr></tbody></table></div></div><p>Finally, we can take the Add call we used before and remove the hard coded key:</p><div><div id="highlighter_519699" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">request = store.add(person);</code></div></div></td></tr></tbody></table></div></div><p>That’s it! Now you can add data all day long. You can find this version in <code>test7.html</code>.</p><hr><h2>Reading Data</h2><p>Now let’s switch to reading individual pieces of data (we’ll cover reading larger sets of data later). Once again, this will be done in a transaction and will be asynchronous. Here’s a simple example:</p><div><div id="highlighter_480370" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">transaction = db.transaction([</code><code class="jscript string">"test"</code><code class="jscript plain">], </code><code class="jscript string">"readonly"</code><code class="jscript plain">);</code></div><div class="line number2 index1 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">objectStore = transaction.objectStore(</code><code class="jscript string">"test"</code><code class="jscript plain">);</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="jscript comments">//x is some value</code></div><div class="line number5 index4 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">ob = objectStore.get(x);</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="jscript plain">ob.onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div><p>Note that the transaction is read only. The API call is just a simple get call with the key passed in. As a quick aside, if you think using IndexedDB is a bit verbose, note you can chain many of those calls as well. Here’s the exact same code written much tighter:</p><div><div id="highlighter_781847" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript plain">db.transaction([</code><code class="jscript string">"test"</code><code class="jscript plain">], </code><code class="jscript string">"readonly"</code><code class="jscript plain">).objectStore(</code><code class="jscript string">"test"</code><code class="jscript plain">).get(X).onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {}</code></div></div></td></tr></tbody></table></div></div><p>Personally I still find IndexedDB a bit complex so I prefer the ‘broken out’ approach to help me keep track of what’s going on.</p><p>The result of the get’s onsuccess handler is the object you stored before. Once you have that object you can do whatever you want. In our next demo (<code>test8.html</code>) we’ve added a simple form field to let you enter a key and print the result. Here is an example:</p> <figure class="tutorial_image"> <img src="./WorkingWithIndexedDBNettuts_files/box.gif" data-original-url="http://cdn.tutsplus.com/net.tutsplus.com/uploads/2013/09/s5.png" alt="Fetching data" width="600" height="571" class="alignnone size-full wp-image-34680" original="http://cdn.tutsplus.com/net/uploads/2013/09/s5.png"><br> </figure><p>The handler for the Get Data button is below:</p><div><div id="highlighter_690803" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">function</code> <code class="jscript plain">getPerson(e) {</code></div><div class="line number2 index1 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">key = document.querySelector(</code><code class="jscript string">"#key"</code><code class="jscript plain">).value;</code></div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(key === </code><code class="jscript string">""</code> <code class="jscript plain">|| isNaN(key)) </code><code class="jscript keyword">return</code><code class="jscript plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">transaction = db.transaction([</code><code class="jscript string">"people"</code><code class="jscript plain">],</code><code class="jscript string">"readonly"</code><code class="jscript plain">);</code></div><div class="line number6 index5 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">store = transaction.objectStore(</code><code class="jscript string">"people"</code><code class="jscript plain">);</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">request = store.get(Number(key));</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">request.onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">result = e.target.result;</code></div><div class="line number13 index12 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.dir(result);</code></div><div class="line number14 index13 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(result) {</code></div><div class="line number15 index14 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">s = </code><code class="jscript string">"&amp;lt;h2&gt;Key "</code><code class="jscript plain">+key+</code><code class="jscript string">"&amp;lt;/h2&gt;&amp;lt;p&gt;"</code><code class="jscript plain">;</code></div><div class="line number16 index15 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">for</code><code class="jscript plain">(</code><code class="jscript keyword">var</code> <code class="jscript plain">field </code><code class="jscript keyword">in</code> <code class="jscript plain">result) {</code></div><div class="line number17 index16 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">s+= field+</code><code class="jscript string">"="</code><code class="jscript plain">+result[field]+</code><code class="jscript string">"&amp;lt;br/&gt;"</code><code class="jscript plain">;</code></div><div class="line number18 index17 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number19 index18 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">document.querySelector(</code><code class="jscript string">"#status"</code><code class="jscript plain">).innerHTML = s;</code></div><div class="line number20 index19 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">} </code><code class="jscript keyword">else</code> <code class="jscript plain">{</code></div><div class="line number21 index20 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">document.querySelector(</code><code class="jscript string">"#status"</code><code class="jscript plain">).innerHTML = </code><code class="jscript string">"&amp;lt;h2&gt;No match&amp;lt;/h2&gt;"</code><code class="jscript plain">;</code></div><div class="line number22 index21 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}&nbsp;&nbsp; </code></div><div class="line number23 index22 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}&nbsp;&nbsp; </code></div><div class="line number24 index23 alt1"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div><p>For the most part, this should be self explanatory. Get the value from the field and run a get call on the object store obtained from a transaction. Notice that the display code simply gets <em>all</em> the fields and dumps them out. In a real application you would (hopefully) know what your data contains and work with specific fields.</p><hr><h2>Reading More Data</h2><p>So that’s how you would get one piece of data. How about a <em>lot</em> of data? IndexedDB has support for what’s called a cursor. A cursor lets you iterate over data. You can create cursors with an optional range (a basic filter) and a direction.</p><p>As an example, the following code block opens a cursor to fetch all the data from an object store. Like everything else we’ve done with data this is asynchronous and in a transaction.</p><div><div id="highlighter_73809" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">transaction = db.transaction([</code><code class="jscript string">"test"</code><code class="jscript plain">], </code><code class="jscript string">"readonly"</code><code class="jscript plain">);</code></div><div class="line number2 index1 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">objectStore = transaction.objectStore(</code><code class="jscript string">"test"</code><code class="jscript plain">);</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">cursor = objectStore.openCursor();</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="jscript plain">cursor.onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">res = e.target.result;</code></div><div class="line number8 index7 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(res) {</code></div><div class="line number9 index8 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.log(</code><code class="jscript string">"Key"</code><code class="jscript plain">, res.key);</code></div><div class="line number10 index9 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">console.dir(</code><code class="jscript string">"Data"</code><code class="jscript plain">, res.value);</code></div><div class="line number11 index10 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">res.</code><code class="jscript keyword">continue</code><code class="jscript plain">();</code></div><div class="line number12 index11 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number13 index12 alt2"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div><p>The success handler is passed a result object (the variable res above). It contains the key, the object for the data (in the value key above), and a continue method that is used to iterate to the next piece of data.</p><p>In the following function, we’ve used a cursor to iterate over all of the objectstore data. Since we’re working with “person” data we’ve called this getPeople:</p><div><div id="highlighter_515087" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">function</code> <code class="jscript plain">getPeople(e) {</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">s = </code><code class="jscript string">""</code><code class="jscript plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">db.transaction([</code><code class="jscript string">"people"</code><code class="jscript plain">], </code><code class="jscript string">"readonly"</code><code class="jscript plain">).objectStore(</code><code class="jscript string">"people"</code><code class="jscript plain">).openCursor().onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number6 index5 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">cursor = e.target.result;</code></div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(cursor) {</code></div><div class="line number8 index7 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">s += </code><code class="jscript string">"&amp;lt;h2&gt;Key "</code><code class="jscript plain">+cursor.key+</code><code class="jscript string">"&amp;lt;/h2&gt;&amp;lt;p&gt;"</code><code class="jscript plain">;</code></div><div class="line number9 index8 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">for</code><code class="jscript plain">(</code><code class="jscript keyword">var</code> <code class="jscript plain">field </code><code class="jscript keyword">in</code> <code class="jscript plain">cursor.value) {</code></div><div class="line number10 index9 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">s+= field+</code><code class="jscript string">"="</code><code class="jscript plain">+cursor.value[field]+</code><code class="jscript string">"&amp;lt;br/&gt;"</code><code class="jscript plain">;</code></div><div class="line number11 index10 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number12 index11 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">s+=</code><code class="jscript string">"&amp;lt;/p&gt;"</code><code class="jscript plain">;</code></div><div class="line number13 index12 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">cursor.</code><code class="jscript keyword">continue</code><code class="jscript plain">();</code></div><div class="line number14 index13 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number15 index14 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">document.querySelector(</code><code class="jscript string">"#status2"</code><code class="jscript plain">).innerHTML = s;</code></div><div class="line number16 index15 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number17 index16 alt2"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div><p>You can see a full demo of this in your download as file <code>test9.html</code>. It has an Add Person logic as in the earlier examples, so simply create a few people and then hit the button to display all the data.</p> <figure class="tutorial_image"> <img src="./WorkingWithIndexedDBNettuts_files/box.gif" data-original-url="http://cdn.tutsplus.com/net.tutsplus.com/uploads/2013/09/s7.png" alt="List of Data" width="450" height="318" class="alignnone size-full wp-image-34681" original="http://cdn.tutsplus.com/net/uploads/2013/09/s7.png"><br> </figure><p>So now you know how to get one piece of data as well as how to get all the data. Let’s now hit our final topic – working with indexes.</p><hr><h2>They Call This IndexedDB, Right?</h2><p>We’ve been talking about IndexedDB for the entire article but haven’t yet actually done any – well – indexes. Indexes are a crucial part of IndexedDB object stores. They provide a way to fetch data based on their value as well as specifying if a value should be unique within a store. Later we’ll demonstrate how to use indexes to get a range of data.</p><p>First – how do you create an index? Like everything else structural, they must be done in an upgrade event, basically at the same time you create your object store. Here is an example:</p><div><div id="highlighter_10630" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">objectStore = thisDb.createObjectStore(</code><code class="jscript string">"people"</code><code class="jscript plain">, </code></div><div class="line number2 index1 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">{ autoIncrement:</code><code class="jscript keyword">true</code> <code class="jscript plain">});</code></div><div class="line number3 index2 alt2"><code class="jscript comments">//first arg is name of index, second is the path (col);</code></div><div class="line number4 index3 alt1"><code class="jscript plain">objectStore.createIndex(</code><code class="jscript string">"name"</code><code class="jscript plain">,</code><code class="jscript string">"name"</code><code class="jscript plain">, {unique:</code><code class="jscript keyword">false</code><code class="jscript plain">});</code></div><div class="line number5 index4 alt2"><code class="jscript plain">objectStore.createIndex(</code><code class="jscript string">"email"</code><code class="jscript plain">,</code><code class="jscript string">"email"</code><code class="jscript plain">, {unique:</code><code class="jscript keyword">true</code><code class="jscript plain">});</code></div></div></td></tr></tbody></table></div></div><p>In the first line we create the store. We take that result (an objectStore object) and run the <code>createIndex</code> method. The first argument is the name for the index and the second is the property that will be indexed. In most cases I think you will use the same name for both. The final argument is a set of options. For now, we’re just using one, unique. The first index for name is not unique. The second one for email is. When we store data, IndexedDB will check these indexes and ensure that the email property is unique. It will also do some data handling on the back end to ensure we can fetch data by these indexes.</p><p>How does that work? Once you fetch an object store via a transaction, you can then ask for an index from that store. Using the code above, here is an example of that:</p><div><div id="highlighter_717093" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">transaction = db.transaction([</code><code class="jscript string">"people"</code><code class="jscript plain">],</code><code class="jscript string">"readonly"</code><code class="jscript plain">);</code></div><div class="line number2 index1 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">store = transaction.objectStore(</code><code class="jscript string">"people"</code><code class="jscript plain">);</code></div><div class="line number3 index2 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">index = store.index(</code><code class="jscript string">"name"</code><code class="jscript plain">);</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="jscript comments">//name is some value</code></div><div class="line number6 index5 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">request = index.get(name);</code></div></div></td></tr></tbody></table></div></div><p>First we get the transaction, followed by the store, and then index. As we’ve said before, you could chain those first three lines to make it a bit more compact if you want.</p><p>Once you’ve got an index you can then perform a <code>get</code> call on it to fetch data by name. We could do something similar for email as well. The result of that call is yet another asynchronous object you can bind an onsuccess handler to. Here is an example of that handler found in the file <code>test10.html</code>:</p><div><div id="highlighter_481432" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript plain">request.onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">result = e.target.result;</code></div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(result) {</code></div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">s = </code><code class="jscript string">"&amp;lt;h2&gt;Name "</code><code class="jscript plain">+name+</code><code class="jscript string">"&amp;lt;/h2&gt;&amp;lt;p&gt;"</code><code class="jscript plain">;</code></div><div class="line number6 index5 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">for</code><code class="jscript plain">(</code><code class="jscript keyword">var</code> <code class="jscript plain">field </code><code class="jscript keyword">in</code> <code class="jscript plain">result) {</code></div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">s+= field+</code><code class="jscript string">"="</code><code class="jscript plain">+result[field]+</code><code class="jscript string">"&amp;lt;br/&gt;"</code><code class="jscript plain">;</code></div><div class="line number8 index7 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number9 index8 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">document.querySelector(</code><code class="jscript string">"#status"</code><code class="jscript plain">).innerHTML = s;</code></div><div class="line number10 index9 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">} </code><code class="jscript keyword">else</code> <code class="jscript plain">{</code></div><div class="line number11 index10 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">document.querySelector(</code><code class="jscript string">"#status"</code><code class="jscript plain">).innerHTML = </code><code class="jscript string">"&amp;lt;h2&gt;No match&amp;lt;/h2&gt;"</code><code class="jscript plain">;</code></div><div class="line number12 index11 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}&nbsp;&nbsp; </code></div><div class="line number13 index12 alt2"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div><p>Note that an index <code>get</code> call may return multiple objects. Since our name is not unique we should probably modify the code to handle that, but it isn’t required.</p><p>Now let’s kick it up a notch. You’ve seen using the get API on the index to get a value based on that property. What if you want to get a more broad set of data? The final term we’re going to learn today are Ranges. Ranges are a way to select a subset of an index. For example, given an index on a name property, we can use a range to find names that begin with A up to names that begin with C. Ranges come in a few different varieties. They can be “everything below some marker”, “everything above some marker”, and “something between a lower marker and a higher marker.” Finally, just to make things interesting, ranges can be inclusive or exclusive. Basically that means for a range going from A-C, we can specify if we want to include A and C in the range or just the values between them. Finally, you can also request both ascending and descending ranges.</p><p>Ranges are created using a toplevel object called IDBKeyRange. It has three methods of interest: <code>lowerBound</code>, <code>upperBound</code>, and <code>bound</code>. <code>lowerBound</code> is used to create a range that starts at a lower value and returns all data “above” it. <code>upperBound</code> is the opposite. And – finally – <code>bound</code> is used to support a set of data with both a lower and upper bound. Let’s look at some examples:</p><div><div id="highlighter_936314" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript comments">//Values over 39</code></div><div class="line number2 index1 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">oldRange = IDBKeyRange.lowerBound(39);</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="jscript comments">//Values 40a dn over</code></div><div class="line number5 index4 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">oldRange2 = IDBKeyRange.lowerBound(40,</code><code class="jscript keyword">true</code><code class="jscript plain">);</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="jscript comments">//39 and smaller...</code></div><div class="line number8 index7 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">youngRange = IDBKeyRange.upperBound(40);</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="jscript comments">//39 and smaller...</code></div><div class="line number11 index10 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">youngRange2 = IDBKeyRange.upperBound(39,</code><code class="jscript keyword">true</code><code class="jscript plain">);</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="jscript comments">//not young or old... you can also specify inclusive/exclusive</code></div><div class="line number14 index13 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">okRange = IDBKeyRange.bound(20,40)</code></div></div></td></tr></tbody></table></div></div><p>Once you have a range, you can pass it to an index’s openCursor method. This gives you an iterator to loop over the values that match that range. As a practical manner, this isn’t really a search per se. You can use this to search content based on the beginning of a string, but not the middle or end. Let’s look at a full example. First we’ll create a simple form to search people:</p><div><div id="highlighter_364361" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">Starting with: &lt;</code><code class="xml keyword">input</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"text"</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"nameSearch"</code> <code class="xml color1">placeholder</code><code class="xml plain">=</code><code class="xml string">"Name"</code><code class="xml plain">&gt;&lt;</code><code class="xml keyword">br</code><code class="xml plain">/&gt;</code></div><div class="line number2 index1 alt1"><code class="xml plain">Ending with: &lt;</code><code class="xml keyword">input</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"text"</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"nameSearchEnd"</code> <code class="xml color1">placeholder</code><code class="xml plain">=</code><code class="xml string">"Name"</code><code class="xml plain">&gt;&lt;</code><code class="xml keyword">br</code><code class="xml plain">/&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">button</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"getButton"</code><code class="xml plain">&gt;Get By Name Range&lt;/</code><code class="xml keyword">button</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div><p>We’re going to allow for searches that consist of any of the three types of ranges (again, a value and higher, a highest value, or the values within two inputs). Now let’s look at the event handler for this form.</p><div><div id="highlighter_348835" class="syntaxhighlighter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">function</code> <code class="jscript plain">getPeople(e) {</code></div><div class="line number2 index1 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">name = document.querySelector(</code><code class="jscript string">"#nameSearch"</code><code class="jscript plain">).value;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">endname = document.querySelector(</code><code class="jscript string">"#nameSearchEnd"</code><code class="jscript plain">).value;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(name == </code><code class="jscript string">""</code> <code class="jscript plain">&amp;amp;&amp;amp; endname == </code><code class="jscript string">""</code><code class="jscript plain">) </code><code class="jscript keyword">return</code><code class="jscript plain">;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">transaction = db.transaction([</code><code class="jscript string">"people"</code><code class="jscript plain">],</code><code class="jscript string">"readonly"</code><code class="jscript plain">);</code></div><div class="line number9 index8 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">store = transaction.objectStore(</code><code class="jscript string">"people"</code><code class="jscript plain">);</code></div><div class="line number10 index9 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">index = store.index(</code><code class="jscript string">"name"</code><code class="jscript plain">);</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript comments">//Make the range depending on what type we are doing</code></div><div class="line number13 index12 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">range;</code></div><div class="line number14 index13 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(name != </code><code class="jscript string">""</code> <code class="jscript plain">&amp;amp;&amp;amp; endname != </code><code class="jscript string">""</code><code class="jscript plain">) {</code></div><div class="line number15 index14 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">range = IDBKeyRange.bound(name, endname);</code></div><div class="line number16 index15 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">} </code><code class="jscript keyword">else</code> <code class="jscript keyword">if</code><code class="jscript plain">(name == </code><code class="jscript string">""</code><code class="jscript plain">) {</code></div><div class="line number17 index16 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">range = IDBKeyRange.upperBound(endname);</code></div><div class="line number18 index17 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">} </code><code class="jscript keyword">else</code> <code class="jscript plain">{</code></div><div class="line number19 index18 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">range = IDBKeyRange.lowerBound(name);</code></div><div class="line number20 index19 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">s = </code><code class="jscript string">""</code><code class="jscript plain">;</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">index.openCursor(range).onsuccess = </code><code class="jscript keyword">function</code><code class="jscript plain">(e) {</code></div><div class="line number25 index24 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">cursor = e.target.result;</code></div><div class="line number26 index25 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">if</code><code class="jscript plain">(cursor) {</code></div><div class="line number27 index26 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">s += </code><code class="jscript string">"&amp;lt;h2&gt;Key "</code><code class="jscript plain">+cursor.key+</code><code class="jscript string">"&amp;lt;/h2&gt;&amp;lt;p&gt;"</code><code class="jscript plain">;</code></div><div class="line number28 index27 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript keyword">for</code><code class="jscript plain">(</code><code class="jscript keyword">var</code> <code class="jscript plain">field </code><code class="jscript keyword">in</code> <code class="jscript plain">cursor.value) {</code></div><div class="line number29 index28 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">s+= field+</code><code class="jscript string">"="</code><code class="jscript plain">+cursor.value[field]+</code><code class="jscript string">"&amp;lt;br/&gt;"</code><code class="jscript plain">;</code></div><div class="line number30 index29 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number31 index30 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">s+=</code><code class="jscript string">"&amp;lt;/p&gt;"</code><code class="jscript plain">;</code></div><div class="line number32 index31 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">cursor.</code><code class="jscript keyword">continue</code><code class="jscript plain">();</code></div><div class="line number33 index32 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number34 index33 alt1"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">document.querySelector(</code><code class="jscript string">"#status"</code><code class="jscript plain">).innerHTML = s;</code></div><div class="line number35 index34 alt2"><code class="jscript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="jscript plain">}</code></div><div class="line number36 index35 alt1">&nbsp;</div><div class="line number37 index36 alt2"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div><p>From top to bottom – we begin by grabbing the two form fields. Next we create a transaction and from that get the store and index. Now for the semi-complex part. Since we have three different types of ranges we need to support we have to do a bit of conditional logic to figure out which we’ll need. What range we create is based on what fields you fill in. What’s nice is that once we have the range, we then simply pass it to the index and open the cursor. That’s it! You can find this full example in <code>test11.html</code>. Be sure to enter some values first so you have data to search.</p><hr><h2>What’s Next?</h2><p>Believe it or not – we’ve only begun our discussion on IndexedDB. In the next article, we’ll cover additional topics, including updates and deletes, array based values, and some general tips for working with IndexedDB.</p><div style="clear:both;padding-bottom:20px;"><fb:like layout="standard" width="450" height="30" fb-xfbml-state="rendered" class="fb_edge_widget_with_comment fb_iframe_widget"><span style="height: 20px; width: 450px;"><iframe id="fb4c36cb8" name="f39b948ec" scrolling="no" title="Like this content on Facebook." class="fb_ltr" src="./WorkingWithIndexedDBNettuts_files/like(2).html" style="border: none; overflow: hidden; height: 20px; width: 450px;"></iframe></span></fb:like></div><p style="text-align: center;"></p><div id="bsap_1284118" class="bsap_1284118 bsap"><iframe width="300" height="250" id="backfill_1284118_frame" src="./WorkingWithIndexedDBNettuts_files/backfill1.html" frameborder="0" class="bsap_backfillframe" scrolling="no"></iframe></div><p></p></div><div id="tag-list"><span>Tags:</span> <a href="http://net.tutsplus.com/tag/indexeddb/" sl-processed="1">indexedDB</a></div><div class="post_footer" style="padding-bottom: 170px;"><div class="enjoyed_post"> <span class="thumb_icon">&nbsp;</span><h5>Enjoyed this Post?</h5><p>Subscribe to our <a href="http://feeds.feedburner.com/nettuts" sl-processed="1">RSS Feed</a>, <a href="http://twitter.com/nettuts" sl-processed="1">Follow us on Twitter</a> or simply recommend us to friends and colleagues!</p><div class="article_social_media"><div class="tweetmeme_btn"> <iframe id="twitter-widget-1" scrolling="no" frameborder="0" allowtransparency="true" src="./WorkingWithIndexedDBNettuts_files/tweet_button.1387492107(1).html" class="twitter-share-button twitter-tweet-button twitter-count-none" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 56px; height: 20px;"></iframe><script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/widgets.js"></script> </div><div class="facebook_send_btn left"> <div id="___plusone_1" style="text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 32px; height: 20px; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 32px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I1_1387538055960" name="I1_1387538055960" src="./WorkingWithIndexedDBNettuts_files/fastbutton(1).html" data-gapiattached="true" title="+1"></iframe></div></div><div class="facebook_btn"> <fb:like layout="button_count" width="100" height="21" fb-xfbml-state="rendered" class="fb_edge_widget_with_comment fb_iframe_widget"><span style="height: 20px; width: 79px;"><iframe id="f3b8fa3f78" name="f2452bf4c4" scrolling="no" title="Like this content on Facebook." class="fb_ltr" src="./WorkingWithIndexedDBNettuts_files/like.html" style="border: none; overflow: hidden; height: 20px; width: 79px;"></iframe></span></fb:like></div></div></div><div class="the_author"> <img alt="" src="./WorkingWithIndexedDBNettuts_files/c2bde7d7dfc8623f121b0eb5a7102930" class="avatar avatar-40 photo" height="40" width="40"><h5>By <a href="http://net.tutsplus.com/author/raymondcamden/" title="Posts by Raymond Camden" rel="author" sl-processed="1">Raymond Camden</a></h5><p class="the_author_p">Rollover to read this author's bio or click through to see a full list of posts by this author.</p><div class="autor_div"> Raymond Camden is a senior developer evangelist for Adobe. His work focuses on web standards, mobile development and ColdFusion. He's a published author and presents at conferences and user groups on a variety of topics. He loves kittens and Star Wars - not necessarily in that order. <span class="arrow">&nbsp;</span></div></div> <br class="clear"><div class="plus_membership"><div class="plus_membership_text"> <a href="" class="plus_icon" sl-processed="1">Plus Premium</a><div id="logged-in-plus-footer" style="display: none;"><div class="plus_content wide"><h3>Hello!</h3><p>You can grab source files and bonus tutorials from the <a href="http://tutsplus.com/" sl-processed="1">members area</a>.</p></div><div class="plus_form"></div></div><div id="logged-out-plus-footer" style=""><div class="plus_content"><h3>Premium Members</h3><p>Source Files, Bonus Tutorials &amp; More for all relevant Tuts+ sites in one subscription. <a href="http://tutsplus.com/amember/signup.php" sl-processed="1">Join Now</a></p></div><div class="plus_form"><form name="login" method="post" action="http://tutsplus.com/amember/login.php?amember_redirect_url=http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/" id="signIn"><fieldset> <input type="text" name="amember_login" id="username" class="input"> <input type="password" name="amember_pass" id="password" class="input"> <input type="submit" id="submit_plus" class="submit_plus" value="Sign In"></fieldset></form></div></div></div><div class="left_corner">&nbsp;</div><div class="right_corner">&nbsp;</div></div> <script type="text/javascript">if (plus_member_logged_in()) {
                  $('#logged-in-plus-footer').show()
                } else {
                  $('#logged-out-plus-footer').show()
                }</script> </div><div class="post extra_posts single"></div><div class="discus-note"><strong>Note:</strong> Want to add some source code? Type &lt;pre&gt;&lt;code&gt; before it and &lt;/code&gt;&lt;/pre&gt; after it. <a href="http://help.disqus.com/customer/portal/articles/665057" target="_blank" sl-processed="1">Find out more</a></div><div class="comments"><div id="disqus_thread"><iframe id="dsq-2" data-disqus-uid="2" allowtransparency="true" frameborder="0" role="complementary" width="100%" src="./WorkingWithIndexedDBNettuts_files/saved_resource.html" style="width: 100% !important; border: none !important; overflow: hidden !important; height: 5972px !important;" scrolling="no" horizontalscrolling="no" verticalscrolling="no"></iframe></div> <script type="text/javascript">/*<![CDATA[*//*  */
    var disqus_url = 'http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/';
    var disqus_identifier = '34673 http://net.tutsplus.com/?p=34673';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'nettuts';
    var disqus_title = "Working With IndexedDB";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=34673';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
    var facebookXdReceiverPath = 'http://net.tutsplus.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/*  *//*]]>*/</script> <script type="text/javascript">/*  */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/net.tutsplus.com\/tutorials\/javascript-ajax\/working-with-indexeddb\/trackback\/"    };
/*  */</script> <script type="text/javascript">/*<![CDATA[*//*  */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
        dsq.src = 'http' + '://' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.73';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/*  *//*]]>*/</script> </div></div></div></div><div id="sidebar"><div id="social-stats"><ul><li class="ss-twitter"> <a href="http://twitter.com/nettuts" rel="nofollow external" target="_blank" sl-processed="1"> <span>Twitter</span> <large>97,852</large> <small>Twitter Followers</small> </a></li><li class="ss-facebook"> <a href="http://facebook.com/nettutsplus" rel="nofollow external" target="_blank" sl-processed="1"> <span>Facebook</span> <large>81,897</large> <small>Facebook Fans</small> </a></li><li class="ss-google-plus"> <a href="https://plus.google.com/100395074731712398322" rel="nofollow external" target="_blank" sl-processed="1"> <span>Google+</span> <large>22,179</large> <small>Google+ Followers</small> </a></li></ul></div><div id="ad-tuts-premium" style="display: block;"> <a class="premium-dev" href="http://tutsplus.com/" sl-processed="1">&nbsp;</a></div><div id="ad-sidebar-premium" style="display: block;"><div id="div-gpt-ad-sidebar-premium" style="width:300px; height:250px;"> <script type="text/javascript">googletag.cmd.push(function() { googletag.display('div-gpt-ad-sidebar-premium'); });</script> <div id="google_ads_iframe_/11757429/net_sidebar_premium_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/11757429/net_sidebar_premium_0" name="google_ads_iframe_/11757429/net_sidebar_premium_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom;"></iframe></div></div></div><div id="ad-block" style="display: block;"><div id="bsap_1616" class="bsap_1616 bsap"><a href="http://stats.buysellads.com/click.go?z=1616&b=505771&g=&s=&sw=1600&sh=900&br=chrome,30,linux&r=0.7826078995130956&link=http://www.xhtmlchop.com/?utm_source=BSA&utm_medium=Banner&utm_term=Psd%2Bto%2BHtml&utm_campaign=Nettuts%2B" onmouseover="window.status = &#39;http://www.xhtmlchop.com/?utm_source=BSA&amp;utm_medium=Banner&amp;utm_term=Psd%2Bto%2BHtml&amp;utm_campaign=Nettuts%2B&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad1 odd" title="PSD to Html" id="bsa_505771" target="_blank" sl-processed="1"><img src="./WorkingWithIndexedDBNettuts_files/31840-1279649837.gif" width="200" height="125" alt="PSD to Html"></a><a href="http://stats.buysellads.com/click.go?z=1616&b=3804349&g=&s=&sw=1600&sh=900&br=chrome,30,linux&r=0.12999076629057527&link=http://pages.sencha.com/sencha-touch-bundle?ls=Advertisement&ss=nettus" onmouseover="window.status = &#39;http://pages.sencha.com/sencha-touch-bundle?ls=Advertisement&amp;ss=nettus&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad2 even" title="Build amazing mobile apps with HTML5 &amp; CSS3." id="bsa_3804349" target="_blank" sl-processed="1"><img src="./WorkingWithIndexedDBNettuts_files/29300-1277154828.png" width="200" height="125" alt="Build amazing mobile apps with HTML5 &amp; CSS3."></a><iframe width="200" height="125" id="ad_2875306_frame" src="./WorkingWithIndexedDBNettuts_files/raw_13f780665d684e3ec1990f0192b84029.html" frameborder="0" class="bsap_adframe" scrolling="no"></iframe><a href="http://stats.buysellads.com/click.go?z=1616&b=180337&g=&s=&sw=1600&sh=900&br=chrome,30,linux&r=0.791962297167629&link=https://www.psd2html.com/order-now.html?utm_source=net.tutsplus.com&utm_medium=banner&utm_campaign=responsive" onmouseover="window.status = &#39;https://www.psd2html.com/order-now.html?utm_source=net.tutsplus.com&amp;utm_medium=banner&amp;utm_campaign=responsive&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad4 even" title="PSD2HTML.com" id="bsa_180337" target="_blank" sl-processed="1"><img src="./WorkingWithIndexedDBNettuts_files/199651-1386080443.jpg" width="200" height="125" alt="PSD2HTML.com"></a><a href="http://buysellads.com/buy/detail/197/zone/1616?utm_source=site_197&utm_medium=website&utm_campaign=adhere&utm_content=zone_1616" title="Advertise Here" class="adhere ad5 odd" target="_blank" sl-processed="1">Advertise Here</a></div> <a href="http://net.tutsplus.com/advertise/" class="end-ad-here" sl-processed="1">advertise here</a></div><div id="site-updates" class="ui-tabs ui-widget ui-widget-content ui-corner-all"><ul class="navfor-sections ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class="mail-chimp-nav ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/#mail-chimp-section" sl-processed="1"><span>&nbsp;</span>Get Email Updates</a></li><li class="rss-nav ui-state-default ui-corner-top"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/#rss-section" sl-processed="1"><span>&nbsp;</span>Subscribe via RSS</a></li></ul><div id="mail-chimp-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom"><div id="mail-chimp-response"></div><form id="mail-chimp-form" action="" method="get"> <input type="text" name="mail-chimp-email" class="mail-chimp-email" value="" placeholder="me@email.com"> <input type="submit" name="mail-chimp-subscribe" value="Subscribe" id="mail-chimp-subscribe"></form></div><div id="rss-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"><ul><li><a href="javascript:void(0);" sl-processed="1">Select a subscription type...</a><ul><li><a href="http://feeds.feedburner.com/nettuts" sl-processed="1">Full Post RSS</a></li><li><a href="http://feedproxy.google.com/nettuts-summary" sl-processed="1">Summary RSS</a></li></ul></li></ul></div></div>  <script type="text/javascript">if ( ! plus_member_logged_in()) {
    $('#ad-block').show();
    $('#ad-sidebar-premium').show();
    $('#temp-ads').show();
    $('#ad-tuts-premium').show();
  }</script> <div id="tutsjobs" class="jobs"><h3 class="jobs_header"> Full-time, Part-time and Contract Jobs</h3><div class="jobs_body"><ul class="jobs_list"><li id="tutsjobs_id_6930" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/321-havas-lynx-net-development-opportunities" sl-processed="1"><span class="title">.Net Development Opportunities</span> <mark>at</mark> HAVAS LYNX</a>            </li><li id="tutsjobs_id_9765" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/322-havas-lynx-tester" sl-processed="1"><span class="title">Tester</span> <mark>at</mark> HAVAS LYNX</a>            </li><li id="tutsjobs_id_1483" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/323-anthropologie-usability-engineer" sl-processed="1"><span class="title">Usability Engineer</span> <mark>at</mark> Anthropologie</a>            </li><li id="tutsjobs_id_9522" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/319-anthropologie-front-end-developer" sl-processed="1"><span class="title">Front-End Developer</span> <mark>at</mark> Anthropologie</a>            </li><li id="tutsjobs_id_1785" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/315-websir-web-developer" sl-processed="1"><span class="title">Web Developer</span> <mark>at</mark> Websir</a>            </li></ul> <a class="more_jobs" href="http://jobs.tutsplus.com/" title="Tuts+ Job Board" sl-processed="1"> More on Tuts+ Jobs... </a></div></div><div id="social-networking" class="ui-tabs ui-widget ui-widget-content ui-corner-all"><ul class="navfor-sections ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class="facebook-nav ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/#facebook-section" sl-processed="1"><span>&nbsp;</span>Facebook</a></li><li class="twitter-nav ui-state-default ui-corner-top"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/#twitter-section" sl-processed="1"><span>&nbsp;</span>Twitter</a></li><li class="google-plus-nav ui-state-default ui-corner-top"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/#google-plus-section" sl-processed="1"><span>&nbsp;</span>Google+</a></li></ul><div id="facebook-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom"><fb:like-box href="http://facebook.com/nettutsplus" width="388" height="290" stream="false" class=" fb_iframe_widget" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=&amp;height=290&amp;href=http%3A%2F%2Ffacebook.com%2Fnettutsplus&amp;locale=en_US&amp;sdk=joey&amp;stream=false&amp;width=388"><span style="vertical-align: bottom; width: 388px; height: 290px;"><iframe name="f3ad811f74" width="388px" height="290px" frameborder="0" allowtransparency="true" scrolling="no" title="fb:like_box Facebook Social Plugin" src="./WorkingWithIndexedDBNettuts_files/like_box.html" style="border: none; visibility: visible; width: 388px; height: 290px;" class=""></iframe></span></fb:like-box></div><div id="twitter-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"><div><h3>Follow <a href="http://twitter.com/nettuts" sl-processed="1"><span>Nettuts+</span></a> and <span><a href="http://twitter.com/tutsplus" sl-processed="1">Tuts+</a></span> on Twitter</h3><ul><li>The latest Twitter feed isn't piping through at the moment, check back soon!<br><br>Sorry for the inconvenience.</li></ul></div></div><div id="google-plus-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"><div id="___plus_0" style="text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 388px; height: 106px; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 388px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 106px;" tabindex="0" vspace="0" width="100%" id="I2_1387538055967" name="I2_1387538055967" src="./WorkingWithIndexedDBNettuts_files/badge.html" data-gapiattached="true" title="+Badge"></iframe></div></div></div></div></div></div><div id="footer_wrap"><div id="footer"><p class="footer_text"><strong>Nettuts+</strong> is part of the <a href="http://tutsplus.com/" sl-processed="1">Tuts+ Network</a>, teaching creative skills to millions worldwide.</p><ul><li><a href="http://net.tutsplus.com/advertise/" sl-processed="1">Advertise</a><span>·</span></li><li><a href="http://www.formstack.com/forms/envato-tuts__contact_form" sl-processed="1">Suggestions</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/" sl-processed="1">About Us</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/tuts-terms-user-agreement/" sl-processed="1">Terms and Conditions</a><span>·</span></li><li><a href="http://hub.tutsplus.com/privacy-policy" sl-processed="1">Privacy Policy</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/write-for-us/" sl-processed="1">Write for Us</a></li></ul> <a href="http://net.tutsplus.com/" class="footer_logo" sl-processed="1">Nettuts+</a><div class="lower_footer"><p class="footer_copy">Copyright © 2013 Envato</p> <a href="http://envato.com/" class="envato_logo" sl-processed="1">Envato</a></div></div></div>
 <script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/widget.js"></script> <script type="text/javascript">var seriesdropdown = document.getElementById("orgseries_dropdown");
			if (seriesdropdown) { 
			 function onSeriesChange() {
					if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
						location.href = "http://net.tutsplus.com/series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
					}
				}
				seriesdropdown.onchange = onSeriesChange;
			}</script> <script type="text/javascript">/*<![CDATA[*/// 
        var disqus_shortname = 'nettuts';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) url = url[0];
                    else url = url[1]
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
                        s.src = 'http' + '://' + 'disqus.com/forums/' + disqus_shortname + '/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    ///*]]>*/</script> <script class="javascript" src="./WorkingWithIndexedDBNettuts_files/shCore.js"></script> <script class="javascript" src="./WorkingWithIndexedDBNettuts_files/shBrushAll.js"></script> <script class="javascript">dp.SyntaxHighlighter.ClipboardSwf = 'http://net.tutsplus.com/wp-content/plugins/google-syntax-highlighter/Scripts/clipboard.swf';
dp.SyntaxHighlighter.HighlightAll('code');</script><script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/shCore(1).js"></script>
<script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/shBrushJScript.js"></script>
<script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/shBrushXml.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://net.tutsplus.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83c";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://net.tutsplus.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83c";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['tab-size'] = 3;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/footer.js"></script>

    <!-- Remarketing tags --> 
    <script type="text/javascript">
    /* <![CDATA[ */
    var google_conversion_id = 1065398951;
    var google_conversion_label = "YJmqCNWStQQQp-WC_AM";
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
    </script>
    <script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/conversion.js"></script><iframe name="google_conversion_frame" title="Google conversion frame" width="300" height="13" src="./WorkingWithIndexedDBNettuts_files/saved_resource(4).html" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no">&lt;img height="1" width="1" border="0" alt="" src="http://googleads.g.doubleclick.net/pagead/viewthroughconversion/1065398951/?frame=0&amp;random=1387538055693&amp;cv=7&amp;fst=1387538055693&amp;num=1&amp;fmt=1&amp;label=YJmqCNWStQQQp-WC_AM&amp;guid=ON&amp;u_h=900&amp;u_w=1600&amp;u_ah=900&amp;u_aw=1600&amp;u_cd=24&amp;u_his=3&amp;u_tz=-300&amp;u_java=true&amp;u_nplug=11&amp;u_nmime=88&amp;frm=0&amp;url=http%3A//net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/&amp;ref=https%3A//www.google.com/" /&gt;</iframe>
    <noscript>
      &lt;div style="display:inline;"&gt;
        &lt;img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1065398951/?value=0&amp;label=YJmqCNWStQQQp-WC_AM&amp;guid=ON&amp;script=0"/&gt;
      &lt;/div&gt;
    </noscript>
    
<script type="text/javascript" src="./WorkingWithIndexedDBNettuts_files/1342X589339.skimlinks.js"></script>  


<!-- Dynamic Page Served (once) in 1.178 seconds -->
<div id="envato-widget" class="widget-reset" style="display: none;"><div id="envato-widget-switcher-wrap"><div id="envato-widget-switcher"><ul class="switcher-list-left"><li><a href="http://microlancer.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-microlancer">&nbsp;</span>Microlancer</a></li><li><a href="http://envato.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato">&nbsp;</span>Envato</a></li><li><a href="http://themeforest.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-themeforest">&nbsp;</span>ThemeForest</a></li><li><a href="http://graphicriver.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-graphicriver">&nbsp;</span>GraphicRiver</a></li><li><a href="http://videohive.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-videohive">&nbsp;</span>VideoHive</a></li><li><a href="http://audiojungle.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-audiojungle">&nbsp;</span>AudioJungle</a></li><li><a href="http://codecanyon.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-codecanyon">&nbsp;</span>CodeCanyon</a></li><li><a href="http://activeden.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-activeden">&nbsp;</span>ActiveDen</a></li><li><a href="http://3docean.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-3docean">&nbsp;</span>3DOcean</a></li><li><a href="http://photodune.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-photodune">&nbsp;</span>PhotoDune</a></li><li><a href="http://mac.appstorm.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-mac">&nbsp;</span>Mac.Appstorm</a></li><li><a href="http://web.appstorm.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-web">&nbsp;</span>Web.Appstorm</a></li><li><a href="http://iphone.appstorm.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-iphone">&nbsp;</span>iPhone.Appstorm</a></li><li><a href="http://android.appstorm.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-android">&nbsp;</span>Android.Appstorm</a></li><li><a href="http://ipad.appstorm.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-ipad">&nbsp;</span>iPad.Appstorm</a></li><li><a href="http://windows.appstorm.net/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-windows">&nbsp;</span>Windows.Appstorm</a></li><li><a href="http://creattica.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-creattica">&nbsp;</span>Creattica</a></li></ul><ul class="switcher-list-right"><li><a href="http://freelanceswitch.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-freelanceswitch">&nbsp;</span>FreelanceSwitch</a></li><li><a href="http://jobs.freelanceswitch.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-freelanceswitch-jobs">&nbsp;</span>Freelance Jobs</a></li><li><a href="http://rockablepress.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-rockablepress">&nbsp;</span>Rockable Press</a></li><li><a href="http://tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-tutsplus">&nbsp;</span>Tuts+ Premium</a></li><li><a href="http://hub.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-tutsplus">&nbsp;</span>Tuts+ Hub</a></li><li><a href="http://psd.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-psdtuts">&nbsp;</span>Psdtuts+</a></li><li><a href="http://net.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-nettuts">&nbsp;</span>Nettuts+</a></li><li><a href="http://vector.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-vectortuts">&nbsp;</span>Vectortuts+</a></li><li><a href="http://audio.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-audiotuts">&nbsp;</span>Audiotuts+</a></li><li><a href="http://ae.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-aetuts">&nbsp;</span>Aetuts+</a></li><li><a href="http://cg.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-cgtuts">&nbsp;</span>Cgtuts+</a></li><li><a href="http://photo.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-phototuts">&nbsp;</span>Phototuts+</a></li><li><a href="http://mobile.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-mobiletuts">&nbsp;</span>Mobiletuts+</a></li><li><a href="http://webdesign.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-webdesigntuts">&nbsp;</span>Webdesigntuts+</a></li><li><a href="http://wp.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-wptuts">&nbsp;</span>Wptuts+</a></li><li><a href="http://mac.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-mactuts">&nbsp;</span>Mactuts+</a></li><li><a href="http://gamedev.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-gamedevtuts">&nbsp;</span>Gamedevtuts+</a></li><li><a href="http://craft.tutsplus.com/?osr=ln" rel="nofollow" sl-processed="1"><span class="widget-icon icon-crafttuts">&nbsp;</span>Crafttuts+</a></li></ul></div><span class="switcher-arrow"></span></div><div id="envato-support-wrap"><div id="envato-support"><span class="envato-widget-title">Envato Support</span><ul class="support-list"><li><a href="http://support.envato.com/index.php" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-support-center">&nbsp;</span>Envato Support Center</a></li><li><a href="http://twitter.com/envato_support" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-support-twitter">&nbsp;</span>Envato Support Twitter</a></li></ul></div><span class="switcher-arrow"></span></div><div id="envato-community-wrap"><div id="envato-community"><span class="envato-widget-title">Envato Community</span><ul class="community-list"><li><a href="http://notes.envato.com/" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-notes">&nbsp;</span>Envato Notes</a></li><li><a href="http://extras.envato.com/" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-extras">&nbsp;</span>Envato Extras</a></li><li><a href="http://notes.envato.com/newsletter/" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-newsletter">&nbsp;</span>Envato Newsletter</a></li><li><a href="http://notes.envato.com/category/podcasts/" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-podcast">&nbsp;</span>Envato Podcast</a></li><li><a href="http://wp.envato.com/" rel="nofollow" sl-processed="1"><span class="widget-icon icon-wp-envato">&nbsp;</span>WP.Envato</a></li><li><a href="http://elite.envato.com/" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-elite">&nbsp;</span>Envato Elite</a></li><li><a href="http://zoo.envato.com/" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-zoo">&nbsp;</span>Envato Zoo</a></li><li><a href="http://www.flickr.com/photos/we-are-envato" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-flickr">&nbsp;</span>Envato Flickr</a></li><li><a href="http://twitter.com/envato" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-twitter">&nbsp;</span>Envato Twitter</a></li><li><a href="http://www.facebook.com/envato" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-facebook">&nbsp;</span>Envato Facebook</a></li><li><a href="http://www.slideshare.net/envato" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-slideshare">&nbsp;</span>Envato Slideshare</a></li><li><a href="http://dribbble.com/envato" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-dribbble">&nbsp;</span>Envato Dribbble</a></li><li><a href="https://github.com/envato" rel="nofollow" sl-processed="1"><span class="widget-icon icon-envato-github">&nbsp;</span>Envato Github</a></li></ul></div><span class="switcher-arrow"></span></div><a href="javascript:void(0);" class="widget-button envato" rel="nofollow" sl-processed="1">envato</a><a href="javascript:void(0);" class="widget-button support" rel="nofollow" sl-processed="1">support</a><a href="javascript:void(0);" class="widget-button community" rel="nofollow" sl-processed="1">community</a></div><iframe name="oauth2relay368797487" id="oauth2relay368797487" src="./WorkingWithIndexedDBNettuts_files/postmessageRelay.html" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><iframe id="google_osd_static_frame_3549098814837" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe></body></html>