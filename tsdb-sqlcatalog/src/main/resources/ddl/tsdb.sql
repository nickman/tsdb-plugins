-- Generated by Oracle SQL Developer Data Modeler 4.0.0.816
-- with some significant guidance from nwhitehead @ heliosdev DOT org
--   at:        2013-10-10 18:41:56 EDT




CREATE
  TABLE TSD_KEYVALUE
  (
    TSD_KEYVALUE_ID NUMBER (10) NOT NULL ,
    TAGV_ID         NUMBER (10) NOT NULL ,
    TAGK_ID         NUMBER (10) NOT NULL
  ) ;
ALTER TABLE TSD_KEYVALUE ADD CONSTRAINT TSD_KEYVALUE_PK PRIMARY KEY (
TSD_KEYVALUE_ID ) ;

CREATE
  TABLE TSD_METRIC
  (
    TSD_METRIC_ID NUMBER (10) NOT NULL ,
    METRIC_NAME   VARCHAR2 (60 ) NOT NULL
  ) ;
CREATE UNIQUE INDEX TSD_METRIC__IDX ON TSD_METRIC
  (
    METRIC_NAME ASC
  )
  ;
  ALTER TABLE TSD_METRIC ADD CONSTRAINT TSD_METRIC_PK PRIMARY KEY (
  TSD_METRIC_ID ) ;

CREATE
  TABLE TSD_TAGK
  (
    TSD_TAGK_ID NUMBER (10) NOT NULL ,
    KEY_NAME    VARCHAR2 (60) NOT NULL
  ) ;
CREATE UNIQUE INDEX TSD_TAGK__IDX ON TSD_TAGK
  (
    KEY_NAME ASC
  )
  ;
  ALTER TABLE TSD_TAGK ADD CONSTRAINT TSD_TAGK_PK PRIMARY KEY ( TSD_TAGK_ID ) ;

CREATE
  TABLE TSD_TAGV
  (
    TSD_TAGV_ID NUMBER (10) NOT NULL ,
    VALUE_NAME  VARCHAR2 (60) NOT NULL
  ) ;
CREATE UNIQUE INDEX TSD_TAGKv1_KEY_NAME_IDX ON TSD_TAGV
  (
    VALUE_NAME ASC
  )
  ;
  ALTER TABLE TSD_TAGV ADD CONSTRAINT TSD_TAGKv1_PK PRIMARY KEY ( TSD_TAGV_ID )
  ;

CREATE
  TABLE TSD_TSUID
  (
    TSD_TSUID_ID NUMBER (20) NOT NULL ,
    TSUID_NAME   VARCHAR2 (2000) NOT NULL ,
    TAG_COUNT    NUMBER (2) NOT NULL ,
    METRIC_ID    NUMBER (10) NOT NULL ,
    KEYVALUE_ID  NUMBER (10) NOT NULL
  ) ;
CREATE UNIQUE INDEX TSD_TSUID__IDX ON TSD_TSUID
  (
    TSUID_NAME ASC
  )
  ;
  ALTER TABLE TSD_TSUID ADD CONSTRAINT TSD_TSUID_PK PRIMARY KEY ( TSD_TSUID_ID
  ) ;

ALTER TABLE TSD_KEYVALUE ADD CONSTRAINT TSD_KEYVALUE_TSD_TAGK_FK FOREIGN KEY (
TAGK_ID ) REFERENCES TSD_TAGK ( TSD_TAGK_ID ) ;

ALTER TABLE TSD_KEYVALUE ADD CONSTRAINT TSD_KEYVALUE_TSD_TAGV_FK FOREIGN KEY (
TAGV_ID ) REFERENCES TSD_TAGV ( TSD_TAGV_ID ) ;

ALTER TABLE TSD_TSUID ADD CONSTRAINT TSD_TSUID_TSD_KEYVALUE_FK FOREIGN KEY (
KEYVALUE_ID ) REFERENCES TSD_KEYVALUE ( TSD_KEYVALUE_ID ) ;

ALTER TABLE TSD_TSUID ADD CONSTRAINT TSD_TSUID_TSD_METRIC_FK FOREIGN KEY (
METRIC_ID ) REFERENCES TSD_METRIC ( TSD_METRIC_ID ) ;


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             5
-- CREATE INDEX                             4
-- ALTER TABLE                              9
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
