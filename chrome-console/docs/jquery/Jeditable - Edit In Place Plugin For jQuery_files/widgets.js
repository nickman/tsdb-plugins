if(!window.__twttrlr){(function(a,b){function s(a){for(var b=1,c;c=arguments[b];b++)for(var d in c)a[d]=c[d];return a}function t(a){return Array.prototype.slice.call(a)}function v(a,b){for(var c=0,d;d=a[c];c++)if(b==d)return c;return-1}function w(){var a=t(arguments),b=[];for(var c=0,d=a.length;c<d;c++)a[c].length>0&&b.push(a[c].replace(/\/$/,""));return b.join("/")}function x(a,b,c){var d=b.split("/"),e=a;while(d.length>1){var f=d.shift();e=e[f]=e[f]||{}}e[d[0]]=c}function y(){}function z(a,b){this.id=this.path=a,this.force=!!b}function A(a,b){this.id=a,this.body=b,typeof b=="undefined"&&(this.path=this.resolvePath(a))}function B(a,b){this.deps=a,this.collectResults=b,this.deps.length==0&&this.complete()}function C(a,b){this.deps=a,this.collectResults=b}function D(){for(var a in d)if(d[a].readyState=="interactive")return l[d[a].id]}function E(a,b){var d;return!a&&c&&(d=k||D()),d?(delete l[d.scriptId],d.body=b,d.execute()):(j=d=new A(a,b),i[d.id]=d),d}function F(){var a=t(arguments),b,c;return typeof a[0]=="string"&&(b=a.shift()),c=a.shift(),E(b,c)}function G(a,b){var c=b.id||"",d=c.split("/");d.pop();var e=d.join("/");return a.replace(/^\./,e)}function H(a,b){function d(a){return A.exports[G(a,b)]}var c=[];for(var e=0,f=a.length;e<f;e++){if(a[e]=="require"){c.push(d);continue}if(a[e]=="exports"){b.exports=b.exports||{},c.push(b.exports);continue}c.push(d(a[e]))}return c}function I(){var a=t(arguments),b=[],c,d;return typeof a[0]=="string"&&(c=a.shift()),u(a[0])&&(b=a.shift()),d=a.shift(),E(c,function(a){function f(){var e=H(t(b),c),f;typeof d=="function"?f=d.apply(c,e):f=d,typeof f=="undefined"&&(f=c.exports),a(f)}var c=this,e=[];for(var g=0,h=b.length;g<h;g++){var i=b[g];v(["require","exports"],i)==-1&&e.push(G(i,c))}e.length>0?J.apply(this,e.concat(f)):f()})}function J(){var a=t(arguments),b,c;typeof a[a.length-1]=="function"&&(b=a.pop()),typeof a[a.length-1]=="boolean"&&(c=a.pop());var d=new B(K(a,c),c);return b&&d.then(b),d}function K(a,b){var c=[];for(var d=0,e;e=a[d];d++)typeof e=="string"&&(e=L(e)),u(e)&&(e=new C(K(e,b),b)),c.push(e);return c}function L(a){var b,c;for(var d=0,e;e=J.matchers[d];d++){var f=e[0],g=e[1];if(b=a.match(f))return g(a)}throw new Error(a+" was not recognised by loader")}function N(){return a.using=m,a.provide=n,a.define=o,a.loadrunner=p,M}function O(a){for(var b=0;b<J.bundles.length;b++)for(var c in J.bundles[b])if(c!=a&&v(J.bundles[b][c],a)>-1)return c}var c=a.attachEvent&&!a.opera,d=b.getElementsByTagName("script"),e=0,f,g=b.createElement("script"),h={},i={},j,k,l={},m=a.using,n=a.provide,o=a.define,p=a.loadrunner;for(var q=0,r;r=d[q];q++)if(r.src.match(/loadrunner\.js(\?|#|$)/)){f=r;break}var u=Array.isArray||function(a){return a.constructor==Array};y.prototype.then=function(b){var c=this;return this.started||(this.started=!0,this.start()),this.completed?b.apply(a,this.results):(this.callbacks=this.callbacks||[],this.callbacks.push(b)),this},y.prototype.start=function(){},y.prototype.complete=function(){if(!this.completed){this.results=t(arguments),this.completed=!0;if(this.callbacks)for(var b=0,c;c=this.callbacks[b];b++)c.apply(a,this.results)}},z.loaded=[],z.prototype=new y,z.prototype.start=function(){var a=this,b,c,d;return(d=i[this.id])?(d.then(function(){a.complete()}),this):((b=h[this.id])?b.then(function(){a.loaded()}):!this.force&&v(z.loaded,this.id)>-1?this.loaded():(c=O(this.id))?J(c,function(){a.loaded()}):this.load(),this)},z.prototype.load=function(){var b=this;h[this.id]=b;var c=g.cloneNode(!1);this.scriptId=c.id="LR"+ ++e,c.type="text/javascript",c.async=!0,c.onerror=function(){throw new Error(b.path+" not loaded")},c.onreadystatechange=c.onload=function(c){c=a.event||c;if(c.type=="load"||v(["loaded","complete"],this.readyState)>-1)this.onreadystatechange=null,b.loaded()},c.src=this.path,k=this,d[0].parentNode.insertBefore(c,d[0]),k=null,l[c.id]=this},z.prototype.loaded=function(){this.complete()},z.prototype.complete=function(){v(z.loaded,this.id)==-1&&z.loaded.push(this.id),delete h[this.id],y.prototype.complete.apply(this,arguments)},A.exports={},A.prototype=new z,A.prototype.resolvePath=function(a){return w(J.path,a+".js")},A.prototype.start=function(){var a,b,c=this,d;this.body?this.execute():(a=A.exports[this.id])?this.exp(a):(b=i[this.id])?b.then(function(a){c.exp(a)}):(bundle=O(this.id))?J(bundle,function(){c.start()}):(i[this.id]=this,this.load())},A.prototype.loaded=function(){var a,b,d=this;c?(b=A.exports[this.id])?this.exp(b):(a=i[this.id])&&a.then(function(a){d.exp(a)}):(a=j,j=null,a.id=a.id||this.id,a.then(function(a){d.exp(a)}))},A.prototype.complete=function(){delete i[this.id],z.prototype.complete.apply(this,arguments)},A.prototype.execute=function(){var a=this;typeof this.body=="object"?this.exp(this.body):typeof this.body=="function"&&this.body.apply(window,[function(b){a.exp(b)}])},A.prototype.exp=function(a){this.complete(this.exports=A.exports[this.id]=a||{})},B.prototype=new y,B.prototype.start=function(){function b(){var b=[];a.collectResults&&(b[0]={});for(var c=0,d;d=a.deps[c];c++){if(!d.completed)return;d.results.length>0&&(a.collectResults?d instanceof C?s(b[0],d.results[0]):x(b[0],d.id,d.results[0]):b=b.concat(d.results))}a.complete.apply(a,b)}var a=this;for(var c=0,d;d=this.deps[c];c++)d.then(b);return this},C.prototype=new y,C.prototype.start=function(){var a=this,b=0,c=[];return a.collectResults&&(c[0]={}),function d(){var e=a.deps[b++];e?e.then(function(b){e.results.length>0&&(a.collectResults?e instanceof C?s(c[0],e.results[0]):x(c[0],e.id,e.results[0]):c.push(e.results[0])),d()}):a.complete.apply(a,c)}(),this},I.amd={};var M=function(a){return a(J,F,M,define)};M.Script=z,M.Module=A,M.Collection=B,M.Sequence=C,M.Dependency=y,M.noConflict=N,a.loadrunner=M,a.using=J,a.provide=F,a.define=I,J.path="",J.matchers=[],J.matchers.add=function(a,b){this.unshift([a,b])},J.matchers.add(/(^script!|\.js$)/,function(a){var b=new z(a.replace(/^\$/,J.path.replace(/\/$/,"")+"/").replace(/^script!/,""),!1);return b.id=a,b}),J.matchers.add(/^[a-zA-Z0-9_\-\/]+$/,function(a){return new A(a)}),J.bundles=[],f&&(J.path=window.__twttrLoadRunnerPath||f.getAttribute("data-path")||f.src.split(/loadrunner\.js/)[0]||"",(main=f.getAttribute("data-main"))&&J.apply(a,main.split(/\s*,\s*/)).then(function(){}))})(this,document);(window.__twttrlr = loadrunner.noConflict());}__twttrlr(function(using, provide, loadrunner, define) {provide("util/util",function(a){function b(a){return a&&String(a).toLowerCase().indexOf("[native code]")>-1}function c(a){return g(arguments,function(b){f(b,function(b,c){a[b]=c})}),a}function d(a){return f(a,function(b,c){o(c)&&(d(c),p(c)&&delete a[b]),(c===undefined||c===null||c==="")&&delete a[b]}),a}function f(a,b){for(var c in a)(!a.hasOwnProperty||a.hasOwnProperty(c))&&b(c,a[c]);return a}function k(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function l(a,b){return a==k(b)}function m(a,b,c){return c=c||[],function(){var d=i(arguments,function(a){return a});return a.apply(b,c.concat(d))}}function o(a){return a===Object(a)}function p(a){if(!o(a))return!1;if(Object.keys)return!Object.keys(a).length;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var e=function(){var a=Array.prototype.indexOf;return b(a)?function(b,c){return b?a.apply(b,[c]):-1}:function(a,b){if(!a)return-1;for(var c=0,d=a.length;c<d;c++)if(b==a[c])return c;return-1}}(),g=function(){var a=Array.prototype.forEach;return b(a)?function(b,c){if(!b)return;if(!c)return;a.apply(b,[c])}:function(a,b){if(!a)return;if(!b)return;for(var c=0,d=a.length;c<d;c++)b(a[c],c)}}(),h=function(){var a=Array.prototype.filter;return b(a)?function(b,c){return b?c?a.apply(b,[c]):b:null}:function(a,b){if(!a)return null;if(!b)return a;var c=[],d=0,e=a.length;for(;d<e;d++)b(a[d])&&c.push(a[d]);return c}}(),i=function(){var a=Array.prototype.map;return b(a)?function(b,c){return b?c?a.apply(b,[c]):b:null}:function(a,b){if(!a)return null;if(!b)return a;var c=[],d=0,e=a.length;for(;d<e;d++)c.push(b(a[d]));return c}}(),j=function(){var a=String.prototype.trim;return b(a)?function(b){return b&&a.apply(b)}:function(a){return a&&a.replace(/(^\s+|\s+$)/g,"")}}(),n=b(Object.create)?Object.create:function(a){function b(){}return b.prototype=a,new b};a({aug:c,compact:d,forIn:f,forEach:g,filter:h,map:i,trim:j,indexOf:e,isNative:b,isObject:o,isEmptyObject:p,createObject:n,bind:m,toType:k,isType:l})});
provide("util/events",function(a){using("util/util",function(b){function d(){this.completed=!1,this.callbacks=[]}var c={bind:function(a,b){return this._handlers=this._handlers||{},this._handlers[a]=this._handlers[a]||[],this._handlers[a].push(b)},unbind:function(a,c){if(!this._handlers[a])return;if(c){var d=b.indexOf(this._handlers[a],c);d>=0&&this._handlers[a].splice(d,1)}else this._handlers[a]=[]},trigger:function(a,b){var c=this._handlers&&this._handlers[a];b.type=a;if(c)for(var d=0,e;e=c[d];d++)e.call(this,b)}};d.prototype.addCallback=function(a){this.completed?a.apply(this,this.results):this.callbacks.push(a)},d.prototype.complete=function(){this.results=makeArray(arguments),this.completed=!0;for(var a=0,b;b=this.callbacks[a];a++)b.apply(this,this.results)},a({Emitter:c,Promise:d})})});
provide("$xd/json2.js", function(exports) {window.JSON||(window.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();exports();loadrunner.Script.loaded.push("$xd/json2.js")});
provide("util/querystring",function(a){function b(a){return encodeURIComponent(a).replace(/\+/g,"%2B")}function c(a){return decodeURIComponent(a)}function d(a){var c=[],d;for(d in a)a[d]!==null&&typeof a[d]!="undefined"&&c.push(b(d)+"="+b(a[d]));return c.sort().join("&")}function e(a){var b={},d,e,f,g;if(a){d=a.split("&");for(g=0;f=d[g];g++)e=f.split("="),e.length==2&&(b[c(e[0])]=c(e[1]))}return b}function f(a,b){var c=d(b);return c.length>0?a.indexOf("?")>=0?a+"&"+d(b):a+"?"+d(b):a}function g(a){var b=a&&a.split("?");return b.length==2?e(b[1]):{}}a({url:f,decodeURL:g,decode:e,encode:d,encodePart:b,decodePart:c})});
provide("util/twitter",function(a){using("util/querystring",function(b){function g(a){return typeof a=="string"&&c.test(a)&&RegExp.$1.length<=20}function h(a){if(g(a))return RegExp.$1}function i(a){var c=b.decodeURL(a);c.screen_name=h(a);if(c.screen_name)return b.url("https://twitter.com/intent/user",c)}function j(a){return typeof a=="string"&&f.test(a)}function k(a,b){b=b===undefined?!0:b;if(j(a))return(b?"#":"")+RegExp.$1}function l(a){return typeof a=="string"&&d.test(a)}function m(a){return l(a)&&RegExp.$1}function n(a){return e.test(a)}var c=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,d=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,e=/^http(s?):\/\/((www\.)?)twitter\.com\//,f=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/;a({isHashTag:j,hashTag:k,isScreenName:g,screenName:h,isStatus:l,status:m,intentForProfileURL:i,isTwitterURL:n,regexen:{profile:c}})})});
provide("util/uri",function(a){using("util/querystring","util/util","util/twitter",function(b,c,d){function e(a,b){var c,d;return b=b||location,/^https?:\/\//.test(a)?a:/^\/\//.test(a)?b.protocol+a:(c=b.host+(b.port.length?":"+b.port:""),a.indexOf("/")!==0&&(d=b.pathname.split("/"),d.pop(),d.push(a),a="/"+d.join("/")),[b.protocol,"//",c,a].join(""))}function f(){var a=document.getElementsByTagName("link"),b=0,c;for(;c=a[b];b++)if(c.rel=="canonical")return e(c.href)}function g(){var a=document.getElementsByTagName("a"),b=document.getElementsByTagName("link"),c=[a,b],e,f,g=0,h=0,i=/\bme\b/,j;for(;e=c[g];g++)for(h=0;f=e[h];h++)if(i.test(f.rel)&&(j=d.screenName(f.href)))return j}a({absolutize:e,getCanonicalURL:f,getScreenNameFromPage:g})})});
provide("util/typevalidator",function(a){using("util/util",function(b){function c(a){return a!==undefined&&a!==null&&a!==""}function d(a){return f(a)&&a%1===0}function e(a){return f(a)&&!d(a)}function f(a){return c(a)&&!isNaN(a)}function g(a){return c(a)&&b.toType(a)=="array"}function h(a){if(!c(a))return!1;switch(a){case"on":case"ON":case"true":case"TRUE":return!0;case"off":case"OFF":case"false":case"FALSE":return!1;default:return!!a}}function i(a){if(f(a))return a}function j(a){if(e(a))return a}function k(a){if(d(a))return a}a({hasValue:c,isInt:d,isFloat:e,isNumber:f,isArray:g,asInt:k,asFloat:j,asNumber:i,asBoolean:h})})});
provide("tfw/util/globals",function(a){using("util/typevalidator",function(b){function d(){var a=document.getElementsByTagName("meta"),b,d,e=0;c={};for(;b=a[e];e++){if(!/^twitter:/.test(b.name))continue;d=b.name.replace(/^twitter:/,""),c[d]=b.content}}function e(a){return c[a]}function f(a){return b.asBoolean(a)&&(c.dnt=!0),b.asBoolean(c.dnt)}var c;d(),a({init:d,val:e,dnt:f})})});
provide("util/logger",function(a){function c(a,c,d,e,f){window[b]&&window[b].log&&window[b].log(a,c,d,e,f)}function d(a,c,d,e,f){window[b]&&window[b].warn&&window[b].warn(a,c,d,e,f)}function e(a,c,d,e,f){window[b]&&window[b].error&&window[b].error(a,c,d,e,f)}var b=["con","sole"].join("");a({info:c,warn:d,error:e})});
provide("util/domready",function(a){function k(){b=1;for(var a=0,d=c.length;a<d;a++)c[a]()}var b=0,c=[],d,e,f=!1,g=document.createElement("a"),h="DOMContentLoaded",i="addEventListener",j="onreadystatechange";/^loade|c/.test(document.readyState)&&(b=1),document[i]&&document[i](h,e=function(){document.removeEventListener(h,e,f),k()},f),g.doScroll&&document.attachEvent(j,d=function(){/^c/.test(document.readyState)&&(document.detachEvent(j,d),k())});var l=g.doScroll?function(a){self!=top?b?a():c.push(a):!function(){try{g.doScroll("left")}catch(b){return setTimeout(function(){l(a)},50)}a()}()}:function(a){b?a():c.push(a)};a(l)});
provide("util/env",function(a){using("util/domready","util/typevalidator","util/logger","tfw/util/globals",function(b,c,d,e){function j(){return window.devicePixelRatio?window.devicePixelRatio>=1.5:window.matchMedia?window.matchMedia("only screen and (min-resolution: 144dpi)").matches:!1}function k(){return/MSIE \d/.test(f)}function l(){return/MSIE 6/.test(f)}function m(){return/MSIE 7/.test(f)}function n(){return/MSIE 9/.test(f)}function o(){return g}function p(){return"ontouchstart"in window||/Opera Mini/.test(f)||navigator.msMaxTouchPoints>0}function q(){var a=document.body.style;return a.transition!==undefined||a.webkitTransition!==undefined||a.mozTransition!==undefined||a.oTransition!==undefined||a.msTransition!==undefined}var f=window.navigator.userAgent,g=!1,h=!1,i="twitter-csp-test";window.twttr=window.twttr||{},twttr.verifyCSP=function(a){var b=document.getElementById(i);h=!0,g=!!a,b&&b.parentNode.removeChild(b)},b(function(){var a;if(l()||m())return g=!1;if(c.asBoolean(e.val("widgets:csp")))return g=!0;a=document.createElement("script"),a.id=i,a.text="twttr.verifyCSP(false);",document.body.appendChild(a),window.setTimeout(function(){if(h)return;d.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),d.warn("TWITTER: Please note: Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied.")},5e3)}),a({retina:j,anyIE:k,ie6:l,ie7:m,ie9:n,cspEnabled:o,touch:p,cssTransitions:q})})});
provide("dom/delegate",function(a){using("util/env",function(b){function e(a){var b=a.getAttribute("data-twitter-event-id");return b?b:(a.setAttribute("data-twitter-event-id",++d),d)}function f(a,b,c){var d=0,e=a&&a.length||0;for(d=0;d<e;d++)a[d].call(b,c)}function g(a,b,c){var d=c||a.target||a.srcElement,e=d.className.split(" "),h=0,i,j=e.length;for(;h<j;h++)f(b["."+e[h]],d,a);f(b[d.tagName],d,a);if(a.cease)return;d!==this&&g.call(this,a,b,d.parentElement||d.parentNode)}function h(a,b,c){if(a.addEventListener){a.addEventListener(b,function(d){g.call(a,d,c[b])},!1);return}a.attachEvent&&a.attachEvent("on"+b,function(){g.call(a,a.ownerDocument.parentWindow.event,c[b])})}function i(a,b,d,f){var g=e(a);c[g]=c[g]||{},c[g][b]||(c[g][b]={},h(a,b,c[g])),c[g][b][d]=c[g][b][d]||[],c[g][b][d].push(f)}function j(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,function(){c(window.event)})}function k(a,b,d){var f=e(b),h=c[f]&&c[f];g.call(b,{target:d},h[a])}function l(a){return n(a),m(a),!1}function m(a){a&&a.preventDefault?a.preventDefault():a.returnValue=!1}function n(a){a&&(a.cease=!0)&&a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}var c={},d=-1;a({stop:l,stopPropagation:n,preventDefault:m,delegate:i,on:j,simulate:k})})});
provide("tfw/util/article",function(a){using("dom/delegate","tfw/util/globals","util/uri","$xd/json2.js",function(b,c,d){function g(){e=d.getCanonicalURL()||""+document.location;if(!window.top.postMessage)return;if(window==window.top){b.on(window,"message",function(a){var b;if(a.data&&a.data[0]!="{")return;try{b=JSON.parse(a.data)}catch(d){}b&&b.name=="twttr:private:requestArticleUrl"&&a.source.postMessage(JSON.stringify({name:"twttr:private:provideArticleUrl",data:{url:e,dnt:c.dnt()}}),"*")});return}b.on(window,"message",function(a){var b;if(a.data&&a.data[0]!="{")return;try{b=JSON.parse(a.data)}catch(d){}b&&b.name=="twttr:private:provideArticleUrl"&&(e=b.data&&b.data.url,c.dnt(b.data.dnt),f=document.location.href)}),window.top.postMessage(JSON.stringify({name:"twttr:private:requestArticleUrl"}),"*")}var e,f="";g(),a({url:function(){return e},frameUrl:function(){return f}})})});
provide("util/promise",function(a){using("util/util",function(b){var c=function(a,b){setTimeout(function(){a.call(b)},1)},d=function(a){try{var b=a.then;if(typeof b=="function")return!0}catch(c){}return!1},e=function(a){Error.call(this,a)};e.prototype=b.createObject(Error.prototype);var f=function(){var a=[];return a.pump=function(b){c(function(){var c=a.length,d=0;while(d<c)d++,a.shift()(b)})},a},g=function(a,b,e,f,g,h){var i=!1,j=this,k=function(a){c(function(){h("fulfilled"),f(a),b.pump(a)})},l=function(a){c(function(){h("rejected"),g(a),e.pump(a)})},m=function(a){if(d(a)){a.then(m,l);return}k(a)},n=function(a,b){return function(b){i||(i=!0,a(b))}};this.resolve=n(m,"resolve"),this.fulfill=n(k,"fulfill"),this.reject=n(l,"reject"),this.cancel=function(){j.reject(new Error("Cancel"))},this.timeout=function(){j.reject(new Error("Timeout"))},h("pending")},h=function(a){var b=new f,c=new f,d,e,h="pending";this._addAcceptCallback=function(a){b.push(a),h=="fulfilled"&&b.pump(d)},this._addRejectCallback=function(a){c.push(a),h=="rejected"&&c.pump(e)};var i=new g(this,b,c,function(a){d=a},function(a){e=a},function(a){h=a});try{a&&a(i)}catch(j){i.reject(j)}},i=function(a){return typeof a=="function"},j=function(a,c,d){return i(a)?function(){try{var b=a.apply(null,arguments);c.resolve(b)}catch(d){c.reject(d)}}:b.bind(c[d],c)},k=function(a,b,c){return i(a)&&c._addAcceptCallback(a),i(b)&&c._addRejectCallback(b),c};b.aug(h.prototype,{then:function(a,b){var c=this;return new h(function(d){k(j(a,d,"resolve"),j(b,d,"reject"),c)})},"catch":function(a){var b=this;return new h(function(c){k(null,j(a,c,"reject"),b)})}}),h.isThenable=d;var l=function(a){return b.map(a,h.resolve)};h.any=function(){var a=l(arguments);return new h(function(c){if(!a.length)c.reject("No futures passed to Promise.any()");else{var d=!1,e=function(a){if(d)return;d=!0,c.resolve(a)},f=function(a){if(d)return;d=!0,c.reject(a)};b.forEach(a,function(a,b){a.then(e,f)})}})},h.every=function(){var a=l(arguments);return new h(function(c){if(!a.length)c.reject("No futures passed to Promise.every()");else{var d=new Array(a.length),e=0,f=function(b,f){e++,d[b]=f,e==a.length&&c.resolve(d)};b.forEach(a,function(a,d){a.then(b.bind(f,null,[d]),c.reject)})}})},h.some=function(){var a=l(arguments);return new h(function(c){if(!a.length)c.reject("No futures passed to Promise.some()");else{var d=0,e=function(b){d++,d==a.length&&c.reject()};b.forEach(a,function(a,b){a.then(c.resolve,e)})}})},h.fulfill=function(a){return new h(function(b){b.fulfill(a)})},h.resolve=function(a){return new h(function(b){b.resolve(a)})},h.reject=function(a){return new h(function(b){b.reject(a)})},a(h)})});
provide("util/layout",function(a){using("util/promise","util/logger",function(b,c){function f(){}var d=[],e;f.prototype.enqueue=function(a,c){return new b(function(b){d.push({action:a,resolver:b,note:c})})},f.prototype.exec=function(){var a=d,b;if(!a.length)return;d=[];while(a.length)b=a.shift(),b&&b.action?b.resolver.fulfill(b.action()):b.resolver.reject()},f.prototype.delayedExec=function(){e&&window.clearTimeout(e),e=window.setTimeout(this.exec,100)},a(f)})});
provide("util/iframe",function(a){using("util/util",function(b){a(function(a,c,d){var e;d=d||document,a=a||{},c=c||{};if(a.name){try{e=d.createElement('<iframe name="'+a.name+'"></iframe>')}catch(f){e=d.createElement("iframe"),e.name=a.name}delete a.name}else e=d.createElement("iframe");return a.id&&(e.id=a.id,delete a.id),e.allowtransparency="true",e.scrolling="no",e.setAttribute("frameBorder",0),e.setAttribute("allowTransparency",!0),b.forIn(a,function(a,b){e.setAttribute(a,b)}),b.forIn(c,function(a,b){e.style[a]=b}),e})})});
provide("dom/get",function(a){using("util/util",function(b){function d(a,b,d){return c(a,b,d,1)[0]}function e(a,c,d){var f=c&&c.parentNode,g;if(!f||f===d)return;return f.tagName==a?f:(g=f.className.split(" "),0===a.indexOf(".")&&~b.indexOf(g,a.slice(1))?f:e(a,f,d))}var c=function(){var a=document.getElementsByClassName;return b.isNative(a)?function(c,d,e,f){var g=d?d.getElementsByClassName(c):a.call(document,c),h=b.filter(g,function(a){return!e||a.tagName.toLowerCase()==e.toLowerCase()});return[].slice.call(h,0,f||h.length)}:function(a,c,d,e){var f,g,h=[],i,j,k,l,m,n;c=c||document,i=a.split(" "),l=i.length,f=c.getElementsByTagName(d||"*"),n=f.length;for(k=0;k<l&&n>0;k++){h=[],j=i[k];for(m=0;m<n;m++){g=f[m],~b.indexOf(g.className.split(" "),j)&&h.push(g);if(k+1==l&&h.length===e)break}f=h,n=f.length}return h}}();a({all:c,one:d,ancestor:e})})});
provide("tfw/widget/base",function(a){using("dom/get","util/domready","util/iframe","util/layout","util/promise","util/querystring","util/typevalidator","util/util","tfw/util/globals",function(b,c,d,e,f,g,h,i,j){function r(a){var b;if(!a)return;a.ownerDocument?(this.srcEl=a,this.classAttr=a.className.split(" ")):(this.srcOb=a,this.classAttr=[]),b=this.params(),this.id=this.generateId(),this.setLanguage(),this.related=b.related||this.dataAttr("related"),this.partner=b.partner||this.dataAttr("partner")||j.val("partner"),this.dnt=b.dnt||this.dataAttr("dnt")||j.dnt()||"",this.styleAttr=[],this.targetEl=a.targetEl}function s(){i.forEach(n,function(a){a()}),r.doLayout()}function t(a){if(!a)return;return a.lang?a.lang:t(a.parentNode)}var k=0,l,m={list:[],byId:{}},n=[],o=new e,p="data-twttr-rendered",q={ar:{"%{followers_count} followers":"عدد المتابعين %{followers_count}","100K+":"+100 ألف","10k unit":"10 آلاف وحدة",Follow:"تابِع","Follow %{screen_name}":"تابِع %{screen_name}",K:"ألف",M:"مليون",Tweet:"غرِّد","Tweet %{hashtag}":"غرِّد %{hashtag}","Tweet to %{name}":"غرِّد لـ %{name}"},da:{"%{followers_count} followers":"%{followers_count} følgere","10k unit":"10k enhed",Follow:"Følg","Follow %{screen_name}":"Følg %{screen_name}","Tweet to %{name}":"Tweet til %{name}"},de:{"%{followers_count} followers":"%{followers_count} Follower","100K+":"100Tsd+","10k unit":"10tsd-Einheit",Follow:"Folgen","Follow %{screen_name}":"%{screen_name} folgen",K:"Tsd",Tweet:"Twittern","Tweet to %{name}":"Tweet an %{name}"},es:{"%{followers_count} followers":"%{followers_count} seguidores","10k unit":"10k unidad",Follow:"Seguir","Follow %{screen_name}":"Seguir a %{screen_name}",Tweet:"Twittear","Tweet %{hashtag}":"Twittear %{hashtag}","Tweet to %{name}":"Twittear a %{name}"},fa:{"%{followers_count} followers":"%{followers_count} دنبال‌کننده","100K+":">۱۰۰هزار","10k unit":"۱۰هزار واحد",Follow:"دنبال کردن","Follow %{screen_name}":"دنبال کردن %{screen_name}",K:"هزار",M:"میلیون",Tweet:"توییت","Tweet %{hashtag}":"توییت کردن %{hashtag}","Tweet to %{name}":"به %{name} توییت کنید"},fi:{"%{followers_count} followers":"%{followers_count} seuraajaa","100K+":"100 000+","10k unit":"10 000 yksikköä",Follow:"Seuraa","Follow %{screen_name}":"Seuraa käyttäjää %{screen_name}",K:"tuhatta",M:"milj.",Tweet:"Twiittaa","Tweet %{hashtag}":"Twiittaa %{hashtag}","Tweet to %{name}":"Twiittaa käyttäjälle %{name}"},fil:{"%{followers_count} followers":"%{followers_count} mga tagasunod","10k unit":"10k yunit",Follow:"Sundan","Follow %{screen_name}":"Sundan si %{screen_name}",Tweet:"I-tweet","Tweet %{hashtag}":"I-tweet ang %{hashtag}","Tweet to %{name}":"Mag-Tweet kay %{name}"},fr:{"%{followers_count} followers":"%{followers_count} abonnés","10k unit":"unité de 10k",Follow:"Suivre","Follow %{screen_name}":"Suivre %{screen_name}",Tweet:"Tweeter","Tweet %{hashtag}":"Tweeter %{hashtag}","Tweet to %{name}":"Tweeter à %{name}"},he:{"%{followers_count} followers":"%{followers_count} עוקבים","100K+":"מאות אלפים","10k unit":"עשרות אלפים",Follow:"מעקב","Follow %{screen_name}":"לעקוב אחר %{screen_name}",K:"אלף",M:"מיליון",Tweet:"ציוץ","Tweet %{hashtag}":"צייצו %{hashtag}","Tweet to %{name}":"ציוץ אל %{name}"},hi:{"%{followers_count} followers":"%{followers_count} फ़ॉलोअर्स","100K+":"1 लाख+","10k unit":"10 हजार इकाईयां",Follow:"फ़ॉलो","Follow %{screen_name}":"%{screen_name} को फ़ॉलो करें",K:"हजार",M:"मिलियन",Tweet:"ट्वीट","Tweet %{hashtag}":"ट्वीट %{hashtag}","Tweet to %{name}":"%{name} को ट्वीट करें"},hu:{"%{followers_count} followers":"%{followers_count} követő","100K+":"100E+","10k unit":"10E+",Follow:"Követés","Follow %{screen_name}":"%{screen_name} követése",K:"E","Tweet %{hashtag}":"%{hashtag} tweetelése","Tweet to %{name}":"Tweet küldése neki: %{name}"},id:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikuti","Follow %{screen_name}":"Ikuti %{screen_name}",K:"&nbsp;ribu",M:"&nbsp;juta","Tweet to %{name}":"Tweet ke %{name}"},it:{"%{followers_count} followers":"%{followers_count} follower","10k unit":"10k unità",Follow:"Segui","Follow %{screen_name}":"Segui %{screen_name}","Tweet %{hashtag}":"Twitta %{hashtag}","Tweet to %{name}":"Twitta a %{name}"},ja:{"%{followers_count} followers":"%{followers_count}人のフォロワー","100K+":"100K以上","10k unit":"万",Follow:"フォローする","Follow %{screen_name}":"%{screen_name}さんをフォロー",Tweet:"ツイート","Tweet %{hashtag}":"%{hashtag} をツイートする","Tweet to %{name}":"%{name}さんへツイートする"},ko:{"%{followers_count} followers":"%{followers_count}명의 팔로워","100K+":"100만 이상","10k unit":"만 단위",Follow:"팔로우","Follow %{screen_name}":"%{screen_name} 님 팔로우하기",K:"천",M:"백만",Tweet:"트윗","Tweet %{hashtag}":"%{hashtag} 관련 트윗하기","Tweet to %{name}":"%{name}님에게 트윗하기"},msa:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikut","Follow %{screen_name}":"Ikut %{screen_name}",K:"ribu",M:"juta","Tweet to %{name}":"Tweet kepada %{name}"},nl:{"%{followers_count} followers":"%{followers_count} volgers","100K+":"100k+","10k unit":"10k-eenheid",Follow:"Volgen","Follow %{screen_name}":"%{screen_name} volgen",K:"k",M:" mln.",Tweet:"Tweeten","Tweet %{hashtag}":"%{hashtag} tweeten","Tweet to %{name}":"Tweeten naar %{name}"},no:{"%{followers_count} followers":"%{followers_count} følgere","100K+":"100 K+","10k unit":"10-K-enhet",Follow:"Følg","Follow %{screen_name}":"Følg %{screen_name}","Tweet to %{name}":"Send en tweet til %{name}"},pl:{"%{followers_count} followers":"%{followers_count} obserwujących","100K+":"100 tys.+","10k unit":"10 tys.",Follow:"Obserwuj","Follow %{screen_name}":"Obserwuj %{screen_name}",K:"tys.",M:"mln",Tweet:"Tweetnij","Tweet %{hashtag}":"Tweetnij %{hashtag}","Tweet to %{name}":"Tweetnij do %{name}"},pt:{"%{followers_count} followers":"%{followers_count} seguidores","100K+":"+100 mil","10k unit":"10 mil unidades",Follow:"Seguir","Follow %{screen_name}":"Seguir %{screen_name}",K:"Mil",Tweet:"Tweetar","Tweet %{hashtag}":"Tweetar %{hashtag}","Tweet to %{name}":"Tweetar para %{name}"},ru:{"%{followers_count} followers":"Читатели: %{followers_count} ","100K+":"100 тыс.+","10k unit":"блок 10k",Follow:"Читать","Follow %{screen_name}":"Читать %{screen_name}",K:"тыс.",M:"млн.",Tweet:"Твитнуть","Tweet %{hashtag}":"Твитнуть %{hashtag}","Tweet to %{name}":"Твитнуть %{name}"},sv:{"%{followers_count} followers":"%{followers_count} följare","10k unit":"10k",Follow:"Följ","Follow %{screen_name}":"Följ %{screen_name}",Tweet:"Tweeta","Tweet %{hashtag}":"Tweeta %{hashtag}","Tweet to %{name}":"Tweeta till %{name}"},th:{"%{followers_count} followers":"%{followers_count} ผู้ติดตาม","100K+":"100พัน+","10k unit":"หน่วย 10พัน",Follow:"ติดตาม","Follow %{screen_name}":"ติดตาม %{screen_name}",K:"พัน",M:"ล้าน",Tweet:"ทวีต","Tweet %{hashtag}":"ทวีต %{hashtag}","Tweet to %{name}":"ทวีตถึง %{name}"},tr:{"%{followers_count} followers":"%{followers_count} takipçi","100K+":"+100 bin","10k unit":"10 bin birim",Follow:"Takip et","Follow %{screen_name}":"Takip et: %{screen_name}",K:"bin",M:"milyon",Tweet:"Tweetle","Tweet %{hashtag}":"Tweetle: %{hashtag}","Tweet to %{name}":"Tweetle: %{name}"},ur:{"%{followers_count} followers":"%{followers_count} فالورز","100K+":"ایک لاکھ سے زیادہ","10k unit":"دس ہزار یونٹ",Follow:"فالو کریں","Follow %{screen_name}":"%{screen_name} کو فالو کریں",K:"ہزار",M:"ملین",Tweet:"ٹویٹ کریں","Tweet %{hashtag}":"%{hashtag} ٹویٹ کریں","Tweet to %{name}":"%{name} کو ٹویٹ کریں"},"zh-cn":{"%{followers_count} followers":"%{followers_count} 关注者","100K+":"10万+","10k unit":"1万单元",Follow:"关注","Follow %{screen_name}":"关注 %{screen_name}",K:"千",M:"百万",Tweet:"发推","Tweet %{hashtag}":"以 %{hashtag} 发推","Tweet to %{name}":"发推给 %{name}"},"zh-tw":{"%{followers_count} followers":"%{followers_count} 位跟隨者","100K+":"超過十萬","10k unit":"1萬 單位",Follow:"跟隨","Follow %{screen_name}":"跟隨 %{screen_name}",K:"千",M:"百萬",Tweet:"推文","Tweet %{hashtag}":"推文%{hashtag}","Tweet to %{name}":"推文給%{name}"}};i.aug(r.prototype,{setLanguage:function(a){var b;a||(a=this.params().lang||this.dataAttr("lang")||t(this.srcEl)),a=a&&a.toLowerCase();if(!a)return this.lang="en";if(q[a])return this.lang=a;b=a.replace(/[\-_].*/,"");if(q[b])return this.lang=b;this.lang="en"},_:function(a,b){var c=this.lang;b=b||{};if(!c||!q.hasOwnProperty(c))c=this.lang="en";return a=q[c]&&q[c][a]||a,this.ringo(a,b,/%\{([\w_]+)\}/g)},ringo:function(a,b,c){return c=c||/\{\{([\w_]+)\}\}/g,a.replace(c,function(a,c){return b[c]!==undefined?b[c]:a})},add:function(a){m.list.push(this),m.byId[this.id]=a},create:function(a,b,c){var e=this,g;return c[p]=!0,g=d(i.aug({id:this.id,src:a,"class":this.classAttr.join(" ")},c),b,this.targetEl&&this.targetEl.ownerDocument),this.srcEl?this.layout(function(){return e.srcEl.parentNode.replaceChild(g,e.srcEl),g}):this.targetEl?this.layout(function(){return e.targetEl.appendChild(g),g}):f.reject("Did not append widget")},params:function(){var a,b;return this.srcOb?b=this.srcOb:(a=this.srcEl&&this.srcEl.href&&this.srcEl.href.split("?")[1],b=a?g.decode(a):{}),this.params=function(){return b},b},dataAttr:function(a){return this.srcEl&&this.srcEl.getAttribute("data-"+a)},attr:function(a){return this.srcEl&&this.srcEl.getAttribute(a)},layout:function(a){return o.enqueue(a)},styles:{base:[["font","normal normal normal 11px/18px 'Helvetica Neue', Arial, sans-serif"],["margin","0"],["padding","0"],["whiteSpace","nowrap"]],button:[["fontWeight","bold"],["textShadow","0 1px 0 rgba(255,255,255,.5)"]],large:[["fontSize","13px"],["lineHeight","26px"]],vbubble:[["fontSize","16px"]]},width:function(){throw new Error(name+" not implemented")},height:function(){return this.size=="m"?20:28},minWidth:function(){},maxWidth:function(){},minHeight:function(){},maxHeight:function(){},dimensions:function(){function a(a){switch(typeof a){case"string":return a;case"undefined":return;default:return a+"px"}}var b={width:this.width(),height:this.height()};return this.minWidth()&&(b["min-width"]=this.minWidth()),this.maxWidth()&&(b["max-width"]=this.maxWidth()),this.minHeight()&&(b["min-height"]=this.minHeight()),this.maxHeight()&&(b["max-height"]=this.maxHeight()),i.forIn(b,function(c,d){b[c]=a(d)}),b},generateId:function(){return this.srcEl&&this.srcEl.id||"twitter-widget-"+k++}}),r.afterLoad=function(a){n.push(a)},r.doLayout=function(){o.exec()},r.doLayoutAsync=function(){o.delayedExec()},r.init=function(a){l=a},r.find=function(a){return a&&m.byId[a]?m.byId[a].element:null},r.embed=function(a){function g(a){var b=a.element&&a.element()||a;if(a!==document.body)return b}var c=l.widgets,d=[],e=[];h.isArray(a)||(a=[a||document]),i.forEach(a,function(a){i.forIn(c,function(c,e){var f,g;c.match(/\./)?(f=c.split("."),g=b.all(f[1],a,f[0])):g=a.getElementsByTagName(c),i.forEach(g,function(a){if(a.getAttribute(p))return;a.setAttribute(p,"true"),d.push(new e(a))})})}),r.doLayout(),i.forEach(d,function(a){var b;m.byId[a.id]=a,m.list.push(a),b=a.render(l),a.rendered&&(b=a.rendered()),e.push(b),b.then(function(a){var b=g(a);b&&twttr.events.trigger("rendered",{target:b})})}),f.every.apply(null,e).then(function(a){var b=i.map(Array.prototype.slice.call(a),g);b=i.filter(b,function(a){return a}),b.length&&twttr.events.trigger("loaded",{widgets:b})}),r.doLayoutAsync(),s()},window.setInterval(function(){r.doLayout()},500),a(r)})});
provide("tfw/widget/intent",function(a){using("tfw/widget/base","util/util","util/querystring","util/uri","util/promise",function(b,c,d,e,f){function n(a){var b=Math.round(l/2-i/2),c=0;k>j&&(c=Math.round(k/2-j/2)),window.open(a,undefined,[h,"width="+i,"height="+j,"left="+b,"top="+c].join(","))}function o(a,b){using("tfw/hub/client",function(c){c.openIntent(a,b)})}function p(a){var b="original_referer="+location.href;return[a,b].join(a.indexOf("?")==-1?"?":"&")}function q(a){var b,d,e,f;a=a||window.event,b=a.target||a.srcElement;if(a.altKey||a.metaKey||a.shiftKey)return;while(b){if(~c.indexOf(["A","AREA"],b.nodeName))break;b=b.parentNode}b&&b.href&&(d=b.href.match(g),d&&(f=p(b.href),f=f.replace(/^http[:]/,"https:"),f=f.replace(/^\/\//,"https://"),r(f,b),a.returnValue=!1,a.preventDefault&&a.preventDefault()))}function r(a,b){if(twttr.events.hub&&b){var c=new s(m.generateId(),b);m.add(c),o(a,b),twttr.events.trigger("click",{target:b,region:"intent",type:"click",data:{}})}else n(a)}function s(a,b){this.id=a,this.element=this.srcEl=b}function t(a){this.srcEl=[],this.element=a}var g=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,h="scrollbars=yes,resizable=yes,toolbar=no,location=yes",i=550,j=520,k=screen.height,l=screen.width,m;t.prototype=new b,c.aug(t.prototype,{render:function(a){return m=this,window.__twitterIntentHandler||(document.addEventListener?document.addEventListener("click",q,!1):document.attachEvent&&document.attachEvent("onclick",q),window.__twitterIntentHandler=!0),f.fulfill(document.body)}}),t.open=r,a(t)})});
provide("dom/classname",function(a){function b(a){return new RegExp("\\b"+a+"\\b","g")}function c(a,c){if(a.classList){a.classList.add(c);return}b(c).test(a.className)||(a.className+=" "+c)}function d(a,c){if(a.classList){a.classList.remove(c);return}a.className=a.className.replace(b(c)," ")}function e(a,b,e){return a.classList&&a.classList.toggle?a.classList.toggle(b,e):(e?c(a,b):d(a,b),e)}function f(a,e,f){if(a.classList&&g(a,e)){d(a,e),c(a,f);return}a.className=a.className.replace(b(e),f)}function g(a,c){return a.classList?a.classList.contains(c):b(c).test(a.className)}a({add:c,remove:d,replace:f,toggle:e,present:g})});
provide("util/throttle",function(a){function b(a,b,c){function g(){var c=+(new Date);window.clearTimeout(f);if(c-e>b){e=c,a.call(d);return}f=window.setTimeout(g,b)}var d=c||this,e=0,f;return g}a(b)});
provide("util/css",function(a){using("util/util",function(b){a({sanitize:function(a,c,d){var e=/^[\w ,%\/"'\-_#]+$/,f=a&&b.map(a.split(";"),function(a){return b.map(a.split(":").slice(0,2),function(a){return b.trim(a)})}),g=0,h,i=[],j=d?"!important":"";c=c||/^(font|text\-|letter\-|color|line\-)[\w\-]*$/;for(;f&&(h=f[g]);g++)h[0].match(c)&&h[1].match(e)&&i.push(h.join(":")+j);return i.join(";")}})})});
provide("tfw/util/params",function(a){using("util/querystring","util/twitter",function(b,c){a(function(a,d){return function(e){var f,g="data-tw-params",h,i=e.innerHTML;if(!e)return;if(!c.isTwitterURL(e.href))return;if(e.getAttribute(g))return;e.setAttribute(g,!0);if(typeof d=="function"){f=d.call(this,e);for(h in f)f.hasOwnProperty(h)&&(a[h]=f[h])}e.href=b.url(e.href,a)}})})});
provide("util/params",function(a){using("util/querystring",function(b){var c=function(a){var c=a.search.substr(1);return b.decode(c)},d=function(a){var c=a.href,d=c.indexOf("#"),e=d<0?"":c.substring(d+1);return b.decode(e)},e=function(a){var b={},e=c(a),f=d(a);for(var g in e)e.hasOwnProperty(g)&&(b[g]=e[g]);for(var g in f)f.hasOwnProperty(g)&&(b[g]=f[g]);return b};a({combined:e,fromQuery:c,fromFragment:d})})});
provide("tfw/util/env",function(a){using("util/params",function(b){function d(){var a=36e5,d=b.combined(document.location)._;return c!==undefined?c:(c=!1,d&&/^\d+$/.test(d)&&(c=+(new Date)-parseInt(d)<a),c)}var c;a({isDynamicWidget:d})})});
provide("util/decider",function(a){function c(a){var c=b[a]||!1;if(!c)return!1;if(c===!0||c===100)return!0;var d=Math.random()*100,e=c>=d;return b[a]=e,e}var b={force_new_cookie:100,rufous_pixel:100,decider_fixture:12.34};a({isAvailable:c})});
provide("dom/cookie",function(a){using("util/util",function(b){a(function(a,c,d){var e=b.aug({},d);if(arguments.length>1&&String(c)!=="[object Object]"){if(c===null||c===undefined)e.expires=-1;if(typeof e.expires=="number"){var f=e.expires,g=new Date((new Date).getTime()+f*60*1e3);e.expires=g}return c=String(c),document.cookie=[encodeURIComponent(a),"=",e.raw?c:encodeURIComponent(c),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("")}e=c||{};var h,i=e.raw?function(a){return a}:decodeURIComponent;return(h=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)")).exec(document.cookie))?i(h[1]):null})})});
provide("util/donottrack",function(a){using("dom/cookie",function(b){a(function(a,c){var d=/\.(gov|mil)(:\d+)?$/i,e=/https?:\/\/([^\/]+).*/i;return a=a||document.referrer,a=e.test(a)&&e.exec(a)[1],c=c||document.location.host,b("dnt")?!0:d.test(c)?!0:a&&d.test(a)?!0:document.navigator?document.navigator["doNotTrack"]==1:navigator?navigator["doNotTrack"]==1||navigator["msDoNotTrack"]==1:!1})})});
provide("tfw/util/guest_cookie",function(a){using("dom/cookie","util/donottrack","util/decider",function(b,c,d){function f(){var a=b(e)||!1;if(!a)return;a.match(/^v3\:/)||g()}function g(){b(e)&&b(e,null,{domain:".twitter.com",path:"/"})}function h(){c()&&g()}var e="pid";a({set:h,destroy:g,forceNewCookie:f,guest_id_cookie:e})})});
provide("sandbox/baseframe",function(a){using("util/domready","util/env","util/iframe","util/promise","util/util",function(b,c,d,e,f){function h(a,b,c,g){var h;this.readyPromise=new e(f.bind(function(a){this.resolver=a},this)),this.attrs=a||{},this.styles=b||{},this.appender=c||function(a){document.body.appendChild(a)},this.layout=g||function(a){return new e(function(b){return b.fulfill(a())})},this.frame=h=d(this.attrs,this.styles),h.onreadystatechange=h.onload=this.getCallback(this.onLoad),this.layout(f.bind(function(){this.appender(h)},this))}var g=0;window.twttr=window.twttr||{},window.twttr.sandbox=window.twttr.sandbox||{},h.prototype.getCallback=function(a){var b=this,c=!1;return function(){c||(c=!0,a.call(b))}},h.prototype.registerCallback=function(a){var b="cb"+g++;return window.twttr.sandbox[b]=a,b},h.prototype.onLoad=function(){try{this.document=this.frame.contentWindow.document}catch(a){this.setDocDomain();return}this.writeStandardsDoc(),this.resolver.fulfill(this)},h.prototype.ready=function(){return this.readyPromise},h.prototype.setDocDomain=function(){var a=d(this.attrs,this.styles),b=this.registerCallback(this.getCallback(this.onLoad));a.src=["javascript:",'document.write("");',"try { window.parent.document; }","catch (e) {",'document.domain="'+document.domain+'";',"}",'window.parent.twttr.sandbox["'+b+'"]();'].join(""),this.layout(f.bind(function(){this.frame.parentNode.removeChild(this.frame),this.frame=null,this.appender?this.appender(a):document.body.appendChild(a),this.frame=a},this))},h.prototype.writeStandardsDoc=function(){if(!c.anyIE()||c.cspEnabled())return;var a=["<!DOCTYPE html>","<html>","<head>","<scr","ipt>","try { window.parent.document; }",'catch (e) {document.domain="'+document.domain+'";}',"</scr","ipt>","</head>","<body></body>","</html>"].join("");this.document.write(a),this.document.close()},a(h)})});
provide("sandbox/minimal",function(a){using("sandbox/baseframe","util/env","util/promise","util/util",function(b,c,d,e){function f(a,b){if(!a)return;this._frame=a,this._win=a.contentWindow,this._doc=this._win.document,this._body=this._doc.body,this._head=this._body.parentNode.children[0],this.layout=b}e.aug(f.prototype,{createElement:function(a){return this._doc.createElement(a)},createDocumentFragment:function(){return this._doc.createDocumentFragment()},appendChild:function(a){return this.layout(e.bind(function(){return this._body.appendChild(a)},this))},setBaseTarget:function(a){var b=this._doc.createElement("base");return b.target=a,this.layout(e.bind(function(){return this._head.appendChild(b)},this))},setTitle:function(a){if(!a)return;this._frame.title=a},element:function(){return this._frame},document:function(){return this._doc}}),f.createSandbox=function(a,c,d,e){var g=new b(a,c,d,e);return g.ready().then(function(a){return new f(a.frame,a.layout)})},a(f)})});
provide("tfw/util/tracking",function(a){using("dom/cookie","dom/delegate","sandbox/minimal","util/donottrack","util/promise","tfw/util/guest_cookie","tfw/util/env","util/iframe","util/util","$xd/json2.js",function(b,c,d,e,f,g,h,i,j){function w(){return t?t:t=d.createSandbox({id:"rufous-sandbox"},{display:"none"}).then(j.bind(function(a){s=a,o=J(),p=K();while(q[0])D.apply(this,q.shift());return r?E():[o,p]},this))}function x(a,b,c,d){var e=!j.isObject(a),f=b?!j.isObject(b):!1,g,h;if(e||f)return;g=G(a),h=H(b,!!c,!!d),C(g,h,!0)}function y(a,c,d,f){var i=l[c],k,m,n=g.guest_id_cookie;if(!i)return;a=a||{},f=!!f,d=!!d,m=a.original_redirect_referrer||document.referrer,f=f||e(m),k=j.aug({},a),d||(B(k,"referrer",m),B(k,"widget",+h.isDynamicWidget()),B(k,"hask",+!!b("k")),B(k,"li",+!!b("twid")),B(k,n,b(n)||"")),f&&(B(k,"dnt",1),M(k)),L(i+"?"+I(k))}function z(a,b,c,d,e){var f=A(a.target||a.srcElement);f.action=e||"click",x(f,b,c,d)}function A(a,b){var c;return b=b||{},!a||a.nodeType!==1?b:((c=a.getAttribute("data-scribe"))&&j.forEach(c.split(" "),function(a){var c=j.trim(a).split(":"),d=c[0],e=c[1];d&&e&&!b[d]&&(b[d]=e)}),A(a.parentNode,b))}function B(a,b,c){var d=k+b;if(!a)return;return a[d]=c,a}function C(a,b,c){var d,e,f,g,h=u+"?";if(!j.isObject(a)||!j.isObject(b))return;f=j.aug({},b,{event_namespace:a}),c?(h+=I({l:N(f)}),L(h)):(d=o.firstChild,d.value=+d.value||+f.dnt,g=N(f),e=s.createElement("input"),e.type="hidden",e.name="l",e.value=g,o.appendChild(e))}function D(a,b,c,d){var e=!j.isObject(a),f=b?!j.isObject(b):!1,g,h;if(e||f)return;if(!s||!o){q.push([a,b,c,d]);return}g=G(a),h=H(b,!!c,!!d),C(g,h)}function E(){if(!o)return r=!0,t||f.reject();if(o.children.length<=2)return f.reject();var a=f.every(s.appendChild(o),s.appendChild(p)).then(function(a){var b=a[0],d=a[1];return c.on(d,"load",function(){window.setTimeout(F(b,d),0)}),b.submit(),a});return o=J(),p=K(),a}function F(a,b){return function(){var c=a.parentNode;if(!c)return;c.removeChild(a),c.removeChild(b)}}function G(a){return j.aug({client:"tfw"},a||{})}function H(a,b,c){var d={_category_:"tfw_client_event"},f,g;return b=!!b,c=!!c,f=j.aug(d,a||{}),g=f.widget_origin||document.referrer,f.format_version=1,f.dnt=c=c||e(g),f.triggered_on=f.triggered_on||+(new Date),b||(f.widget_origin=g),c&&M(f),f}function I(a){var b=[],c,d,e;for(c in a)a.hasOwnProperty(c)&&(d=encodeURIComponent(c),e=encodeURIComponent(a[c]),e=e.replace(/'/g,"%27"),b.push(d+"="+e));return b.join("&")}function J(){var a=s.createElement("form"),b=s.createElement("input"),c=s.createElement("input");return n++,a.action=u,a.method="POST",a.target="rufous-frame-"+n,a.id="rufous-form-"+n,b.type="hidden",b.name="dnt",b.value=0,c.type="hidden",c.name="tfw_redirect",c.value=v,a.appendChild(b),a.appendChild(c),a}function K(){var a="rufous-frame-"+n;return i({id:a,name:a,width:0,height:0,border:0},{display:"none"},s.document())}function L(a){var b=new Image;b.src=a}function M(a){j.forIn(a,function(b){~j.indexOf(m,b)&&delete a[b]})}function N(a){var b=Array.prototype.toJSON,c;return delete Array.prototype.toJSON,c=JSON.stringify(a),b&&(Array.prototype.toJSON=b),c}var k="twttr_",l={tweetbutton:"//p.twitter.com/t.gif",followbutton:"//p.twitter.com/f.gif",tweetembed:"//p.twitter.com/e.gif"},m=["hask","li","logged_in","pid","user_id",g.guest_id_cookie,k+"hask",k+"li",k+g.guest_id_cookie],n=0,o,p,q=[],r,s,t,u="https://twitter.com/i/jot",v="https://platform.twitter.com/jot.html";g.forceNewCookie(),a({enqueue:D,flush:E,initPostLogging:w,scribeInteraction:z,extractTermsFromDOM:A,addPixel:x,addLegacyPixel:y,addVar:B})})});
provide("tfw/util/data",function(a){using("util/logger","util/util","util/querystring",function(b,c,d){function l(a){return function(c){c.error?a.error&&a.error(c):c.headers&&c.headers.status!=200?(a.error&&a.error(c),b.warn(c.headers.message)):a.success&&a.success(c),a.complete&&a.complete(c),m(a)}}function m(a){var b=a.script;b&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),a.script=undefined,b=undefined),a.callbackName&&twttr.tfw.callbacks[a.callbackName]&&delete twttr.tfw.callbacks[a.callbackName]}function n(a){var b={};return a.success&&c.isType("function",a.success)&&(b.success=a.success),a.error&&c.isType("function",a.error)&&(b.error=a.error),a.complete&&c.isType("function",a.complete)&&(b.complete=a.complete),b}window.twttr=window.twttr||{},twttr.tfw=twttr.tfw||{},twttr.tfw.callbacks=twttr.tfw.callbacks||{};var e="twttr.tfw.callbacks",f=twttr.tfw.callbacks,g="cb",h=0,i=!1,j={},k={tweets:"https://syndication.twitter.com/tweets.json",timeline:"https://cdn.syndication.twimg.com/widgets/timelines/",timelinePoll:"https://syndication.twitter.com/widgets/timelines/paged/",timelinePreview:"https://syndication.twitter.com/widgets/timelines/preview/"};twttr.widgets&&twttr.widgets.endpoints&&c.aug(k,twttr.widgets.endpoints),j.jsonp=function(a,b,c){var j=c||g+h,k=e+"."+j,m=document.createElement("script"),n={callback:k,suppress_response_codes:!0};f[j]=l(b);if(i||!/^https?\:$/.test(window.location.protocol))a=a.replace(/^\/\//,"https://");m.src=d.url(a,n),m.async="async",document.body.appendChild(m),b.script=m,b.callbackName=j,c||h++},j.config=function(a){if(a.forceSSL===!0||a.forceSSL===!1)i=a.forceSSL},j.tweets=function(a){var b=arguments[0],c=n(b),e={ids:a.ids.join(","),lang:a.lang},f=d.url(k.tweets,e);this.jsonp(f,c)},j.timeline=function(a){var b=arguments[0],e=n(b),f,g=9e5,h=Math.floor(+(new Date)/g),i={lang:a.lang,t:h,domain:window.location.host,dnt:a.dnt,override_type:a.overrideType,override_id:a.overrideId,override_name:a.overrideName,override_owner_id:a.overrideOwnerId,override_owner_name:a.overrideOwnerName,with_replies:a.withReplies};c.compact(i),f=d.url(k.timeline+a.id,i),this.jsonp(f,e,"tl_"+a.id+"_"+a.instanceId)},j.timelinePoll=function(a){var b=arguments[0],e=n(b),f={lang:a.lang,since_id:a.sinceId,max_id:a.maxId,min_position:a.minPosition,max_position:a.maxPosition,domain:window.location.host,dnt:a.dnt,override_type:a.overrideType,override_id:a.overrideId,override_name:a.overrideName,override_owner_id:a.overrideOwnerId,override_owner_name:a.overrideOwnerName,with_replies:a.withReplies},g;c.compact(f),g=d.url(k.timelinePoll+a.id,f),this.jsonp(g,e,"tlPoll_"+a.id+"_"+a.instanceId+"_"+(a.sinceId||a.maxId||a.maxPosition||a.minPosition))},j.timelinePreview=function(a){var b=arguments[0],c=n(b),e=a.params,f=d.url(k.timelinePreview,e);this.jsonp(f,c)},a(j)})});
provide("anim/transition",function(a){function b(a,b){var c;return b=b||window,c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.msRequestAnimationFrame||b.oRequestAnimationFrame||function(c){b.setTimeout(function(){a(+(new Date))},1e3/60)},c(a)}function c(a,b){return Math.sin(Math.PI/2*b)*a}function d(a,c,d,e,f){function i(){var h=+(new Date),j=h-g,k=Math.min(j/d,1),l=e?e(c,k):c*k;a(l);if(k==1)return;b(i,f)}var g=+(new Date),h;b(i)}a({animate:d,requestAnimationFrame:b,easeOut:c})});
provide("util/datetime",function(a){using("util/util",function(b){function m(a){return a<10?"0"+a:a}function n(a){function e(a,c){return b&&b[a]&&(a=b[a]),a.replace(/%\{([\w_]+)\}/g,function(a,b){return c[b]!==undefined?c[b]:a})}var b=a&&a.phrases,c=a&&a.months||f,d=a&&a.formats||g;this.timeAgo=function(a){var b=n.parseDate(a),f=+(new Date),g=f-b,m;return b?isNaN(g)||g<h*2?e("now"):g<i?(m=Math.floor(g/h),e(d.abbr,{number:m,symbol:e(l,{abbr:e("s"),expanded:m>1?e("seconds"):e("second")})})):g<j?(m=Math.floor(g/i),e(d.abbr,{number:m,symbol:e(l,{abbr:e("m"),expanded:m>1?e("minutes"):e("minute")})})):g<k?(m=Math.floor(g/j),e(d.abbr,{number:m,symbol:e(l,{abbr:e("h"),expanded:m>1?e("hours"):e("hour")})})):g<k*365?e(d.shortdate,{day:b.getDate(),month:e(c[b.getMonth()])}):e(d.longdate,{day:b.getDate(),month:e(c[b.getMonth()]),year:b.getFullYear().toString().slice(2)}):""},this.localTimeStamp=function(a){var b=n.parseDate(a),f=b&&b.getHours();return b?e(d.full,{day:b.getDate(),month:e(c[b.getMonth()]),year:b.getFullYear(),hours24:m(f),hours12:f<13?f?f:"12":f-12,minutes:m(b.getMinutes()),seconds:m(b.getSeconds()),amPm:f<12?e("AM"):e("PM")}):""}}var c=/(\d{4})-?(\d{2})-?(\d{2})T(\d{2}):?(\d{2}):?(\d{2})(Z|[\+\-]\d{2}:?\d{2})/,d=/[a-z]{3,4} ([a-z]{3}) (\d{1,2}) (\d{1,2}):(\d{2}):(\d{2}) ([\+\-]\d{2}:?\d{2}) (\d{4})/i,e=/^\d+$/,f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g={abbr:"%{number}%{symbol}",shortdate:"%{day} %{month}",longdate:"%{day} %{month} %{year}",full:"%{hours12}:%{minutes} %{amPm} - %{day} %{month} %{year}"},h=1e3,i=h*60,j=i*60,k=j*24,l='<abbr title="%{expanded}">%{abbr}</abbr>';n.parseDate=function(a){var g=a||"",h=g.toString(),i,j;return i=function(){var a;if(e.test(h))return parseInt(h,10);if(a=h.match(d))return Date.UTC(a[7],b.indexOf(f,a[1]),a[2],a[3],a[4],a[5]);if(a=h.match(c))return Date.UTC(a[1],a[2]-1,a[3],a[4],a[5],a[6])}(),i?(j=new Date(i),!isNaN(j.getTime())&&j):!1},a(n)})});
provide("sandbox/frame",function(a){using("sandbox/baseframe","sandbox/minimal","util/env","util/promise","util/util",function(b,c,d,e,f){function m(){var a,b;i={};if(j)return;a=document.body.offsetHeight,b=document.body.offsetWidth;if(a==l&&b==k)return;f.forEach(h,function(a){a.dispatchFrameResize(k,l)}),l=a,k=b}function n(a){var b;return a.id?a.id:(b=a.getAttribute("data-twttr-id"))?b:(b="twttr-sandbox-"+g++,a.setAttribute("data-twttr-id",b),b)}function o(a,b){c.apply(this,[a,b]),this._resizeHandlers=[],h.push(this),this._win.addEventListener?this._win.addEventListener("resize",f.bind(function(){this.dispatchFrameResize()},this),!0):this._win.attachEvent("onresize",f.bind(function(){this.dispatchFrameResize(this._win.event)},this))}var g=0,h=[],i={},j,k=0,l=0;window.addEventListener?window.addEventListener("resize",m,!0):document.body.attachEvent("onresize",function(){m(window.event)}),o.prototype=new c,f.aug(o.prototype,{dispatchFrameResize:function(){var a=this._frame.parentNode,b=n(a),c=i[b];j=!0;if(!this._resizeHandlers.length)return;c||(c=i[b]={w:this._frame.offsetWidth,h:this._frame.offsetHeight});if(this._frameWidth==c.w&&this._frameHeight==c.h)return;this._frameWidth=c.w,this._frameHeight=c.h,f.forEach(this._resizeHandlers,function(a){a(c.w,c.h)}),window.setTimeout(function(){i={}},50)},appendStyleSheet:function(a){var b=this._doc.createElement("link");return b.type="text/css",b.rel="stylesheet",b.href=a,this.layout(f.bind(function(){return this._head.appendChild(b)},this))},appendCss:function(a){var b;return d.cspEnabled()?e.reject("CSP enabled; cannot embed inline styles."):(b=this._doc.createElement("style"),b.type="text/css",b.styleSheet?b.styleSheet.cssText=a:b.appendChild(this._doc.createTextNode(a)),this.layout(f.bind(function(){return this._head.appendChild(b)},this)))},style:function(a){return this.layout(f.bind(function(){f.forIn(a,f.bind(function(a,b){this._frame.style[a]=b},this))},this))},onresize:function(a){this._resizeHandlers.push(a)},width:function(a){return a!==undefined&&(this._frame.width=a),this._frame.offsetWidth},height:function(a){return a!==undefined&&(this._frame.height=a),this._frame.offsetHeight}}),o.createSandbox=function(a,c,d,e){var f=new b(a,c,d,e);return f.ready().then(function(a){return new o(a.frame,a.layout)})},a(o)})});
provide("tfw/util/assets",function(a){using("util/env",function(b){function d(a,d){var e=c[a],f;return b.retina()?f="2x":b.ie6()||b.ie7()?f="gif":f="default",d&&(f+=".rtl"),e[f]}var c={"embed/timeline.css":{"default":"embed/timeline.633fdd7a8cbe780bedb23434c948fe33.default.css","2x":"embed/timeline.633fdd7a8cbe780bedb23434c948fe33.2x.css",gif:"embed/timeline.633fdd7a8cbe780bedb23434c948fe33.gif.css","default.rtl":"embed/timeline.633fdd7a8cbe780bedb23434c948fe33.default.rtl.css","2x.rtl":"embed/timeline.633fdd7a8cbe780bedb23434c948fe33.2x.rtl.css","gif.rtl":"embed/timeline.633fdd7a8cbe780bedb23434c948fe33.gif.rtl.css"}};a(d)})});
provide("tfw/widget/syndicatedbase",function(a){using("tfw/widget/base","tfw/widget/intent","tfw/util/assets","tfw/util/globals","tfw/util/tracking","dom/classname","dom/get","dom/delegate","sandbox/frame","util/env","util/promise","util/twitter","util/util",function(b,c,d,e,f,g,h,i,j,k,l,m,n){function w(){s=x.VALID_COLOR.test(e.val("widgets:link-color"))&&RegExp.$1,u=x.VALID_COLOR.test(e.val("widgets:border-color"))&&RegExp.$1,t=e.val("widgets:theme")}function x(a){if(!a)return;var c;this.readyPromise=new l(n.bind(function(a){this.readyResolver=a},this)),this.renderedPromise=new l(n.bind(function(a){this.renderResolver=a},this)),b.apply(this,[a]),c=this.params(),this.targetEl=this.srcEl&&this.srcEl.parentNode||c.targetEl||document.body,this.predefinedWidth=x.VALID_UNIT.test(c.width||this.attr("width"))&&RegExp.$1,this.layout(n.bind(function(){return this.containerWidth=this.targetEl&&this.targetEl.offsetWidth},this)).then(n.bind(function(a){var b=this.predefinedWidth||a||this.dimensions.DEFAULT_WIDTH;this.height=x.VALID_UNIT.test(c.height||this.attr("height"))&&RegExp.$1,this.width=Math.max(this.dimensions.MIN_WIDTH,Math.min(b,this.dimensions.DEFAULT_WIDTH))},this)),x.VALID_COLOR.test(c.linkColor||this.dataAttr("link-color"))?this.linkColor=RegExp.$1:this.linkColor=s,x.VALID_COLOR.test(c.borderColor||this.dataAttr("border-color"))?this.borderColor=RegExp.$1:this.borderColor=u,this.theme=c.theme||this.attr("data-theme")||t,this.theme=/(dark|light)/.test(this.theme)?this.theme:"",this.classAttr.push(k.touch()?"is-touch":"not-touch"),k.ie9()&&this.classAttr.push("ie9"),j.createSandbox({"class":this.renderedClassNames,id:this.id},{width:"1px",height:"0px",border:"none",position:"absolute",visibility:"hidden"},n.bind(function(a){this.srcEl?this.targetEl.insertBefore(a,this.srcEl):this.targetEl.appendChild(a)},this),this.layout).then(n.bind(function(a){this.setupSandbox(a)},this))}var o=[".customisable",".customisable:link",".customisable:visited",".customisable:hover",".customisable:focus",".customisable:active",".customisable-highlight:hover",".customisable-highlight:focus","a:hover .customisable-highlight","a:focus .customisable-highlight"],p=["a:hover .ic-mask","a:focus .ic-mask"],q=[".customisable-border"],r=[".timeline-header h1.summary",".timeline-header h1.summary a:link",".timeline-header h1.summary a:visited"],s,t,u,v={TWEET:0,RETWEET:10};x.prototype=new b,n.aug(x.prototype,{setupSandbox:function(a){this.sandbox=a,l.some(a.appendCss("body{display:none}"),a.setBaseTarget("_blank"),a.appendStyleSheet(twttr.widgets.config.assetUrl()+"/"+d("embed/timeline.css"))).then(n.bind(function(){this.readyResolver.fulfill(a)},this))},ready:function(){return this.readyPromise},rendered:function(){return this.renderedPromise},contentWidth:function(a){var b=this.dimensions,c=this.fullBleedPhoto?0:this.chromeless&&this.narrow?b.NARROW_MEDIA_PADDING_CL:this.chromeless?b.WIDE_MEDIA_PADDING_CL:this.narrow?b.NARROW_MEDIA_PADDING:b.WIDE_MEDIA_PADDING;return(a||this.width)-c},addSiteStyles:function(){var a=n.bind(function(a){return(this.theme=="dark"?".thm-dark ":"")+a},this),b=[];this.headingStyle&&b.push(n.map(r,a).join(",")+"{"+this.headingStyle+"}"),this.linkColor&&(b.push(n.map(o,a).join(",")+"{color:"+this.linkColor+"}"),b.push(n.map(p,a).join(",")+"{background-color:"+this.linkColor+"}")),this.borderColor&&b.push(n.map(q,a).concat(this.theme=="dark"?[".thm-dark.customisable-border"]:[]).join(",")+"{border-color:"+this.borderColor+"}");if(!b.length)return;return this.sandbox.appendCss(b.join(""))},setNarrow:function(){var a=this.narrow;return this.narrow=this.width<this.dimensions.NARROW_WIDTH,a!=this.narrow?this.layout(n.bind(function(){return g.toggle(this.element,"var-narrow",this.narrow)},this)):l.fulfill(this.narrow)},bindIntentHandlers:function(){function d(c){var d=h.ancestor(".tweet",this,b),e=n.aug({},a.baseScribeData(),a.extractTweetScribeDetails(d));f.scribeInteraction(c,e,!0,a.dnt)}var a=this,b=this.element;i.delegate(b,"click","A",d),i.delegate(b,"click","BUTTON",d),i.delegate(b,"click",".profile",function(b){var d;if(b.altKey||b.metaKey||b.shiftKey)return;a.addUrlParams(this),d=m.intentForProfileURL(this.href),d&&(c.open(d,a.sandbox.element()),i.preventDefault(b))}),i.delegate(b,"click",".web-intent",function(b){a.addUrlParams(this);if(b.altKey||b.metaKey||b.shiftKey)return;c.open(this.href,a.sandbox.element()),i.preventDefault(b)})},baseScribeData:function(){return{}},extractTweetScribeDetails:function(a){var b=a.getAttribute("data-tweet-id"),c=a.getAttribute("data-rendered-tweet-id")||b,d={};return c==b?d[c]={item_type:v.TWEET}:b&&(d[c]={item_type:v.RETWEET,target_type:v.TWEET,target_id:b}),d},constrainMedia:function(a,b){var c=0,d=this.fullBleedPhoto?500:375;a=a||this.element,b=b||this.contentWidth();if(!a)return;return n.forEach(h.all("autosized-media",a),n.bind(function(a){var e=x.scaleDimensions(a.getAttribute("data-width"),a.getAttribute("data-height"),b,d);this.layout(function(){e.width>0&&(a.width=e.width),e.height>0&&(a.height=e.height)}),c=e.height>c?e.height:c},this)),c}}),x.VALID_UNIT=/^([0-9]+)( ?px)?$/,x.VALID_COLOR=/^(#(?:[0-9a-f]{3}|[0-9a-f]{6}))$/i,x.retinize=function(a){if(!k.retina())return;n.forEach(a.getElementsByTagName("IMG"),function(a){var b=a.getAttribute("data-src-2x");b&&(a.src=b)})},x.scaleDimensions=function(a,b,c,d){return b>a&&b>d&&(a*=d/b,b=d),a>c&&(b*=c/a,a=c,b>d&&(a*=d/b,b=d)),{width:Math.ceil(a),height:Math.ceil(b)}},w(),a(x)})});
provide("tfw/widget/timeline",function(a){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","util/promise","anim/transition","tfw/util/article","tfw/util/data","tfw/util/tracking","tfw/util/params","util/css","util/env","util/throttle","util/twitter","util/querystring","util/typevalidator","util/util","dom/delegate","dom/classname","dom/get",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){function N(a){if(!a)return;var b,d,e,f,g,h,i,j;c.apply(this,[a]),b=this.params(),d=(b.chrome||this.dataAttr("chrome")||"").split(" "),this.preview=b.previewParams,this.widgetId=b.widgetId||this.dataAttr("widget-id"),this.instanceId=++M,this.cursors={maxPosition:0,minPosition:0},(f=b.screenName||this.dataAttr("screen-name"))||(g=b.userId||this.dataAttr("user-id"))?this.override={overrideType:"user",overrideId:g,overrideName:f,withReplies:p.asBoolean(b.showReplies||this.dataAttr("show-replies"))?"true":"false"}:(f=b.favoritesScreenName||this.dataAttr("favorites-screen-name"))||(g=b.favoritesUserId||this.dataAttr("favorites-user-id"))?this.override={overrideType:"favorites",overrideId:g,overrideName:f}:((f=b.listOwnerScreenName||this.dataAttr("list-owner-screen-name"))||(g=b.listOwnerId||this.dataAttr("list-owner-id")))&&((h=b.listId||this.dataAttr("list-id"))||(i=b.listSlug||this.dataAttr("list-slug")))?this.override={overrideType:"list",overrideOwnerId:g,overrideOwnerName:f,overrideId:h,overrideName:i}:(j=b.customTimelineId||this.dataAttr("custom-timeline-id"))?this.override={overrideType:"custom",overrideId:j}:this.override={},this.tweetLimit=p.asInt(b.tweetLimit||this.dataAttr("tweet-limit")),this.staticTimeline=this.tweetLimit>0,d.length&&(e=~q.indexOf(d,"none"),this.chromeless=e||~q.indexOf(d,"transparent"),this.headerless=e||~q.indexOf(d,"noheader"),this.footerless=e||~q.indexOf(d,"nofooter"),this.borderless=e||~q.indexOf(d,"noborders"),this.noscrollbar=~q.indexOf(d,"noscrollbar")),this.headingStyle=k.sanitize(b.headingStyle||this.dataAttr("heading-style"),undefined,!0),this.classAttr.push("twitter-timeline-rendered"),this.ariaPolite=b.ariaPolite||this.dataAttr("aria-polite")}var u="1.0",v={CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2},w="timeline",x="new-tweets-bar",y="timeline-header",z="timeline-footer",A="stream",B="h-feed",C="tweet",D="expanded",E="detail-expander",F="expand",G="permalink",H="twitter-follow-button",I="no-more-pane",J="pending-scroll-in",K="pending-new-tweet",L="pending-new-tweet-display",M=0;N.prototype=new c,q.aug(N.prototype,{renderedClassNames:"twitter-timeline twitter-timeline-rendered",dimensions:{DEFAULT_HEIGHT:"600",DEFAULT_WIDTH:"520",NARROW_WIDTH:"320",MIN_WIDTH:"180",MIN_HEIGHT:"200",WIDE_MEDIA_PADDING:81,NARROW_MEDIA_PADDING:16,WIDE_MEDIA_PADDING_CL:60,NARROW_MEDIA_PADDING_CL:12},create:function(a){var d=this.sandbox.createElement("div"),e,f,g,h=[],j;d.innerHTML=a.body,e=d.children[0]||!1;if(!e)return;return this.reconfigure(a.config),this.discardStaticOverflow(e),this.sandbox.setTitle(e.getAttribute("data-iframe-title")||"Timeline"),c.retinize(e),this.constrainMedia(e),this.searchQuery=e.getAttribute("data-search-query"),this.profileId=e.getAttribute("data-profile-id"),this.timelineType=e.getAttribute("data-timeline-type"),j=this.getTweetDetails(d),q.forIn(j,function(a){h.push(a)}),g=this.baseScribeData(),g.item_ids=h,g.item_details=j,this.timelineType&&i.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:h.length?"results":"no_results"},g,!0,this.dnt),i.enqueue({page:"timeline",component:"timeline",element:"initial",action:h.length?"results":"no_results"},g,!0,this.dnt),i.flush(),this.ariaPolite=="assertive"&&(f=t.one(x,e,"DIV"),f.setAttribute("aria-polite","assertive")),e.id=this.id,e.className+=" "+this.classAttr.join(" "),e.lang=this.lang,this.augmentWidgets(e),this.ready().then(q.bind(function(a){a.appendChild(e).then(q.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),a.style({cssText:"",border:"none",maxWidth:"100%",minWidth:this.dimensions.MIN_WIDTH+"px"}),this.layout(q.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl),this.predefinedWidth=this.width,this.predefinedHeight=this.height,this.width=a.width(this.width),this.height=a.height(this.height)},this)).then(q.bind(function(){this.width<this.predefinedWidth&&(this.layout(q.bind(function(){this.width=a.width(this.predefinedWidth)},this)),b.doLayoutAsync()),this.height<this.predefinedHeight&&(this.layout(q.bind(function(){this.height=a.height(this.predefinedHeight),this.recalculateStreamHeight()},this)),b.doLayoutAsync())},this)),this.setNarrow().then(q.bind(function(){this.sandbox.onresize(q.bind(this.handleResize,this))},this))},this)),e},render:function(a,c){var d,f;return!this.preview&&!this.widgetId?e.reject(400):(f=new e(function(a){d=a}),this.staticTimeline?this.rendered().then(q.bind(function(a){this.layout(q.bind(function(){a.height(this.height=this.element.offsetHeight)},this)),b.doLayoutAsync()},this)):this.rendered().then(q.bind(function(){this.recalculateStreamHeight(),b.doLayoutAsync()},this)),this.preview?this.getPreviewTimeline(d):this.getTimeline(d),c&&f.then(c),f)},getPreviewTimeline:function(a){h.timelinePreview({success:q.bind(function(c){this.ready().then(q.bind(function(){this.element=this.create(c),this.readTranslations(),this.bindInteractions(),this.updateCursors(c.headers,{initial:!0}),b.doLayoutAsync(),a.fulfill(this.element)},this))},this),error:function(b){if(!b||!b.headers)return;a.reject(b.headers.status)},params:this.preview})},getTimeline:function(a){i.initPostLogging(),h.timeline(q.aug({id:this.widgetId,instanceId:this.instanceId,dnt:this.dnt,lang:this.lang,success:q.bind(function(c){this.ready().then(q.bind(function(){this.element=this.create(c),this.readTranslations(),this.bindInteractions(),this.updateTimeStamps(),this.updateCursors(c.headers,{initial:!0}),c.headers.xPolling&&/\d/.test(c.headers.xPolling)&&(this.pollInterval=c.headers.xPolling*1e3),this.staticTimeline||this.schedulePolling(),b.doLayoutAsync(),a.fulfill(this.sandbox.element())},this))},this),error:function(b){if(!b||!b.headers)return;a.reject(b.headers.status)}},this.override))},reconfigure:function(a){this.lang=a.lang,this.theme||(this.theme=a.theme),this.theme=="dark"&&this.classAttr.push("thm-dark"),this.chromeless&&this.classAttr.push("var-chromeless"),this.borderless&&this.classAttr.push("var-borderless"),this.headerless&&this.classAttr.push("var-headerless"),this.footerless&&this.classAttr.push("var-footerless"),this.staticTimeline&&this.classAttr.push("var-static"),!this.linkColor&&a.linkColor&&c.VALID_COLOR.test(a.linkColor)&&(this.linkColor=RegExp.$1),!this.height&&c.VALID_UNIT.test(a.height)&&(this.height=RegExp.$1),this.height=Math.max(this.dimensions.MIN_HEIGHT,this.height?this.height:this.dimensions.DEFAULT_HEIGHT),this.preview&&this.classAttr.push("var-preview"),this.narrow=this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.addSiteStyles()},getTweetDetails:function(a){var b=t.one(B,a),c,d={},e,f,g=0;c=b&&b.children||[];for(;e=c[g];g++)f=t.one(G,e,"A"),q.aug(d,this.extractTweetScribeDetails(e));return d},baseScribeData:function(){return{widget_id:this.widgetId,widget_origin:g.url(),client_version:u,message:this.partner,query:this.searchQuery,profile_id:this.profileId}},bindInteractions:function(){var a=this,b=this.element,c=!0;this.bindIntentHandlers(),r.delegate(b,"click",".load-tweets",function(b){c&&(c=!1,a.forceLoad(),r.stop(b))}),r.delegate(b,"click",".display-sensitive-image",function(c){a.showNSFW(t.ancestor("."+C,this,b)),r.stop(c)}),r.delegate(b,"mouseover","."+w,function(){a.mouseOver=!0}),r.delegate(b,"mouseout","."+w,function(){a.mouseOver=!1}),r.delegate(b,"mouseover","."+x,function(){a.mouseOverNotifier=!0}),r.delegate(b,"mouseout","."+x,function(){a.mouseOverNotifier=!1,window.setTimeout(function(){a.hideNewTweetNotifier()},3e3)});if(this.staticTimeline)return;r.delegate(b,"click","."+F,function(c){if(c.altKey||c.metaKey||c.shiftKey)return;a.toggleExpando(t.ancestor("."+C,this,b)),r.stop(c)}),r.delegate(b,"click","A",function(a){r.stopPropagation(a)}),r.delegate(b,"click",".with-expansion",function(b){a.toggleExpando(this),r.stop(b)}),r.delegate(b,"click",".load-more",function(){a.loadMore()}),r.delegate(b,"click","."+x,function(){a.scrollToTop(),a.hideNewTweetNotifier(!0)})},scrollToTop:function(){var a=t.one(A,this.element,"DIV");a.scrollTop=0,a.focus()},update:function(){var a=this,b=t.one(B,this.element),c=b&&b.children[0],d=c&&c.getAttribute("data-tweet-id");this.updateTimeStamps(),this.requestTweets(d,!0,function(b){b.childNodes.length>0&&a.insertNewTweets(b)})},loadMore:function(){var a=this,b=t.all(C,this.element,"LI").pop(),c=b&&b.getAttribute("data-tweet-id");this.requestTweets(c,!1,function(b){var d=t.one(I,a.element,"P"),e=b.childNodes[0];d.style.cssText="",e&&e.getAttribute("data-tweet-id")==c&&b.removeChild(e);if(b.childNodes.length>0){a.appendTweets(b);return}s.add(a.element,"no-more"),d.focus()})},forceLoad:function(){var a=this,b=!!t.all(B,this.element,"OL").length;this.requestTweets(1,!0,function(c){c.childNodes.length&&(a[b?"insertNewTweets":"appendTweets"](c),s.add(a.element,"has-tweets"))})},schedulePolling:function(a){var b=this;if(this.pollInterval===null)return;a=twttr.widgets.poll||a||this.pollInterval||1e4,a>-1&&window.setTimeout(function(){this.isUpdating||b.update(),b.schedulePolling()},a)},updateCursors:function(a,b){(b||{}).initial?(this.cursors.maxPosition=a.maxPosition,this.cursors.minPosition=a.minPosition):(b||{}).newer?this.cursors.maxPosition=a.maxPosition||this.cursors.maxPosition:this.cursors.minPosition=a.minPosition||this.cursors.minPosition},requestTweets:function(a,b,d){var e=this,f={id:this.widgetId,instanceId:this.instanceId,screenName:this.widgetScreenName,userId:this.widgetUserId,withReplies:this.widgetShowReplies,dnt:this.dnt,lang:this.lang};b&&this.cursors.maxPosition?f.minPosition=this.cursors.maxPosition:!b&&this.cursors.minPosition?f.maxPosition=this.cursors.minPosition:b?f.sinceId=a:f.maxId=a,f.complete=function(){this.isUpdating=!1},f.error=function(a){if(a&&a.headers){if(a.headers.status=="404"){e.pollInterval=null;return}if(a.headers.status=="503"){e.pollInterval*=1.5;return}}},f.success=function(a){var f=e.sandbox.createDocumentFragment(),g=e.sandbox.createElement("div"),h,j=[],k,l;e.updateCursors(a.headers,{newer:b}),a&&a.headers&&a.headers.xPolling&&/\d+/.test(a.headers.xPolling)&&(e.pollInterval=a.headers.xPolling*1e3);if(a&&a.body!==undefined){g.innerHTML=a.body;if(g.children[0]&&g.children[0].tagName!="LI")return;k=e.getTweetDetails(g);for(l in k)k.hasOwnProperty(l)&&j.push(l);j.length&&(h=e.baseScribeData(),h.item_ids=j,h.item_details=k,h.event_initiator=b?v.CLIENT_SIDE_APP:v.CLIENT_SIDE_USER,this.timelineType&&i.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:j.length?"results":"no_results"},h,!0,this.dnt),i.enqueue({page:"timeline",component:"timeline",element:b?"newer":"older",action:"results"},h,!0,e.dnt),i.flush()),c.retinize(g),e.constrainMedia(g);while(g.children[0])f.appendChild(g.children[0]);d(f)}},h.timelinePoll(q.aug(f,this.override))},insertNewTweets:function(a){var b=this,c=t.one(A,this.element,"DIV"),d=t.one(B,c,"OL"),e=d.offsetHeight,g;d.insertBefore(a,d.firstChild),g=d.offsetHeight-e;if(c.scrollTop>40||this.mouseIsOver()){c.scrollTop=c.scrollTop+g,this.updateTimeStamps(),this.showNewTweetNotifier();return}s.remove(this.element,J),d.style.cssText="margin-top: -"+g+"px",window.setTimeout(function(){c.scrollTop=0,s.add(b.element,J),l.cssTransitions()?d.style.cssText="":f.animate(function(a){a<g?d.style.cssText="margin-top: -"+(g-a)+"px":d.style.cssText=""},g,500,f.easeOut)},500),this.updateTimeStamps(),this.timelineType!="custom"&&this.gcTweets(50)},appendTweets:function(a){var b=t.one(A,this.element,"DIV"),c=t.one(B,b,"OL");c.appendChild(a),this.updateTimeStamps()},gcTweets:function(a){var b=t.one(B,this.element,"OL"),c=b.children.length,d;a=a||50;for(;c>a&&(d=b.children[c-1]);c--)b.removeChild(d)},showNewTweetNotifier:function(){var a=this,b=t.one(x,this.element,"DIV"),c=b.children[0];b.style.cssText="",b.removeChild(c),b.appendChild(c),s.add(this.element,L),window.setTimeout(function(){s.add(a.element,K)},10),this.newNoticeDisplayTime=+(new Date),window.setTimeout(function(){a.hideNewTweetNotifier()},5e3)},hideNewTweetNotifier:function(a){var b=this;if(!a&&this.mouseOverNotifier)return;s.remove(this.element,K),window.setTimeout(function(){s.remove(b.element,L)},500)},augmentWidgets:function(a){var b=t.one(H,a,"A");if(!b)return;b.setAttribute("data-related",this.related),b.setAttribute("data-partner",this.partner),b.setAttribute("data-dnt",this.dnt),b.setAttribute("data-search-query",this.searchQuery),b.setAttribute("data-profile-id",this.profileId),this.width<250&&b.setAttribute("data-show-screen-name","false"),twttr.widgets.load(b.parentNode)},discardStaticOverflow:function(a){var b=t.one(B,a,"OL"),c;if(this.staticTimeline){this.height=0;while(c=b.children[this.tweetLimit])b.removeChild(c)}},hideStreamScrollBar:function(){var a=t.one(A,this.element,"DIV"),b=t.one(B,this.element,"OL"),c;a.style.width="",c=this.element.offsetWidth-b.offsetWidth,c>0&&(a.style.width=this.element.offsetWidth+c+"px")},readTranslations:function(){var a=this.element,b="data-dt-";this.datetime=new d(q.compact({phrases:{now:a.getAttribute(b+"now"),s:a.getAttribute(b+"s"),m:a.getAttribute(b+"m"),h:a.getAttribute(b+"h"),second:a.getAttribute(b+"second"),seconds:a.getAttribute(b+"seconds"),minute:a.getAttribute(b+"minute"),minutes:a.getAttribute(b+"minutes"),hour:a.getAttribute(b+"hour"),hours:a.getAttribute(b+"hours")},months:a.getAttribute(b+"months").split("|"),formats:{abbr:a.getAttribute(b+"abbr"),shortdate:a.getAttribute(b+"short"),longdate:a.getAttribute(b+"long")}}))},updateTimeStamps:function(){var a=t.all(G,this.element,"A"),b,c,d=0,e,f;for(;b=a[d];d++){e=b.getAttribute("data-datetime"),f=e&&this.datetime.timeAgo(e,this.i18n),c=b.getElementsByTagName("TIME")[0];if(!f)continue;if(c&&c.innerHTML){c.innerHTML=f;continue}b.innerHTML=f}},mouseIsOver:function(){return this.mouseOver},addUrlParams:function(a){var b=this,c={tw_w:this.widgetId,related:this.related,partner:this.partner,query:this.searchQuery,profile_id:this.profileId,original_referer:g.url(),tw_p:"embeddedtimeline"};return this.addUrlParams=j(c,function(a){var c=t.ancestor("."+C,a,b.element);return c&&{tw_i:c.getAttribute("data-tweet-id")}}),this.addUrlParams(a)},showNSFW:function(a){var b=t.one("nsfw",a,"DIV"),d,e,f=0,g,h,i,j;if(!b)return;e=c.scaleDimensions(b.getAttribute("data-width"),b.getAttribute("data-height"),this.contentWidth(),b.getAttribute("data-height")),d=!!(h=b.getAttribute("data-player")),d?i=this.sandbox.createElement("iframe"):(i=this.sandbox.createElement("img"),h=b.getAttribute(l.retina()?"data-image-2x":"data-image"),i.alt=b.getAttribute("data-alt"),j=this.sandbox.createElement("a"),j.href=b.getAttribute("data-href"),j.appendChild(i)),i.title=b.getAttribute("data-title"),i.src=h,i.width=e.width,i.height=e.height,g=t.ancestor("."+E,b,a),f=e.height-b.offsetHeight,b.parentNode.replaceChild(d?i:j,b),g.style.cssText="height:"+(g.offsetHeight+f)+"px"},toggleExpando:function(a){var d=t.one(E,a,"DIV"),e=d&&d.children[0],f=e&&e.getAttribute("data-expanded-media"),g,h=0,i=t.one(F,a,"A"),j=i&&i.getElementsByTagName("B")[0],k=j&&(j.innerText||j.textContent),l;if(!j)return;this.layout(function(){j.innerHTML=i.getAttribute("data-toggled-text"),i.setAttribute("data-toggled-text",k)});if(s.present(a,D)){this.layout(function(){s.remove(a,D)});if(!d){b.doLayout();return}this.layout(function(){d.style.cssText="",e.innerHTML=""}),b.doLayout();return}f&&(g=this.sandbox.createElement("DIV"),g.innerHTML=f,c.retinize(g),h=this.constrainMedia(g),this.layout(function(){e.appendChild(g)})),d&&this.layout(function(){l=Math.max(e.offsetHeight,h),d.style.cssText="height:"+l+"px"}),this.layout(function(){s.add(a,D)}),b.doLayout()},recalculateStreamHeight:function(a){var b=t.one(y,this.element,"DIV"),c=t.one(z,this.element,"DIV"),d=t.one(A,this.element,"DIV");this.layout(q.bind(function(){var e=b.offsetHeight+(c?c.offsetHeight:0),f=a||this.sandbox.height();d.style.cssText="height:"+(f-e-2)+"px",this.noscrollbar&&this.hideStreamScrollBar()},this))},handleResize:function(a,c){var d=Math.min(this.dimensions.DEFAULT_WIDTH,Math.max(this.dimensions.MIN_WIDTH,Math.min(this.predefinedWidth||this.dimensions.DEFAULT_WIDTH,a)));if(d==this.width&&c==this.height)return;this.width=d,this.height=c,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(d)),this.staticTimeline?this.layout(q.bind(function(){this.height=this.element.offsetHeight,this.sandbox.height(this.height)},this)):this.recalculateStreamHeight(c),b.doLayoutAsync()}}),a(N)})});
provide("tfw/widget/embed",function(a){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","tfw/util/params","dom/classname","dom/get","util/env","util/promise","util/util","util/throttle","util/twitter","tfw/util/article","tfw/util/data","tfw/util/tracking",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){function u(a,b,c,d){var e=g.one("subject",a,"BLOCKQUOTE"),f=g.one("reply",a,"BLOCKQUOTE"),h=e&&e.getAttribute("data-tweet-id"),i=f&&f.getAttribute("data-tweet-id"),k={},l={};if(!h)return;k[h]={item_type:0},o.enqueue({page:"tweet",section:"subject",component:"tweet",action:"results"},j.aug({},b,{item_ids:[h],item_details:k}),!0,d);if(!i)return;l[i]={item_type:0},o.enqueue({page:"tweet",section:"conversation",component:"tweet",action:"results"},j.aug({},b,{item_ids:[i],item_details:l,associations:{4:{association_id:h,association_type:4}}}),!0,d)}function v(a,b,c){var d={};if(!a)return;d[a]={item_type:0},o.enqueue({page:"tweet",section:"subject",component:"rawembedcode",action:"no_results"},{client_version:p,widget_origin:m.url(),widget_frame:m.frameUrl(),message:b,item_ids:[a],item_details:d},!0,c)}function w(a,b,c,d){r[a]=r[a]||[],r[a].push({s:c,f:d,lang:b})}function x(){t.length&&twttr.widgets.load(t)}function y(a){if(!a)return;var b,d,e;c.apply(this,[a]),b=this.params(),d=this.srcEl&&this.srcEl.getElementsByTagName("A"),e=d&&d[d.length-1],this.hideThread=(b.conversation||this.dataAttr("conversation"))=="none"||~j.indexOf(this.classAttr,"tw-hide-thread"),this.hideCard=(b.cards||this.dataAttr("cards"))=="hidden"||~j.indexOf(this.classAttr,"tw-hide-media");if((b.align||this.attr("align"))=="left"||~j.indexOf(this.classAttr,"tw-align-left"))this.align="left";else if((b.align||this.attr("align"))=="right"||~j.indexOf(this.classAttr,"tw-align-right"))this.align="right";else if((b.align||this.attr("align"))=="center"||~j.indexOf(this.classAttr,"tw-align-center"))this.align="center",this.containerWidth>this.dimensions.MIN_WIDTH*(1/.7)&&this.width>this.containerWidth*.7&&(this.width=this.containerWidth*.7);this.narrow=b.narrow||this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.tweetId=b.tweetId||e&&l.status(e.href)}var p="2.0",q="tweetembed",r={},s=[],t=[];y.prototype=new c,j.aug(y.prototype,{renderedClassNames:"twitter-tweet twitter-tweet-rendered",dimensions:{DEFAULT_HEIGHT:"0",DEFAULT_WIDTH:"500",NARROW_WIDTH:"350",MIN_WIDTH:"220",MIN_HEIGHT:"0",WIDE_MEDIA_PADDING:32,NARROW_MEDIA_PADDING:32},create:function(a){var b=this.sandbox.createElement("div"),d;b.innerHTML=a,d=b.children[0]||!1;if(!d)return;return this.theme=="dark"&&this.classAttr.push("thm-dark"),this.linkColor&&this.addSiteStyles(),f.present(d,"media-forward")&&(this.fullBleedPhoto=!0),this.augmentWidgets(d),c.retinize(d),d.id=this.id,d.className+=" "+this.classAttr.join(" "),d.lang=this.lang,this.sandbox.setTitle(d.getAttribute("data-iframe-title")||"Tweet"),this.sandbox.appendChild(d).then(j.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),this.sandbox.style({cssText:"",display:"block",maxWidth:"99%",minWidth:this.dimensions.MIN_WIDTH+"px",padding:"0",borderRadius:"5px",margin:"10px 0",border:"#ddd 1px solid",borderTopColor:"#eee",borderBottomColor:"#bbb",boxShadow:"0 1px 3px rgba(0,0,0,0.15)",position:"absolute",visibility:"hidden"}),this.layout(j.bind(function(){this.predefinedWidth=this.width,this.width=this.sandbox.width(this.width)},this),"Insert Sandbox"),this.setNarrow().then(j.bind(function(){this.constrainMedia(d,this.contentWidth(this.width))},this)),u(d,this.baseScribeData(),this.partner,this.dnt),d},render:function(a,c){var d="",e=this.tweetId,f,g;return e?(g=new i(function(a){f=a}),this.hideCard&&(d+="c"),this.hideThread&&(d+="t"),d&&(e+="-"+d),this.rendered().then(j.bind(function(a){this.srcEl&&this.srcEl.parentNode&&this.layout(j.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl)},this),"Remove Embed Code"),this.align=="center"?a.style({margin:"7px auto",cssFloat:"none"}):this.align&&(this.width==this.dimensions.DEFAULT_WIDTH&&(this.predefinedWidth=this.width=this.dimensions.NARROW_WIDTH),a.style({cssFloat:this.align})),this.layout(j.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this)).then(j.bind(function(){return b.doLayoutAsync(),this.layout(j.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this))},this)).then(j.bind(function(){a.onresize(j.bind(this.handleResize,this))},this)),a.style({position:"static",visibility:"visible"}),b.doLayoutAsync()},this)),w(e,this.lang,j.bind(function(a){this.ready().then(j.bind(function(){this.element=this.create(a),this.readTimestampTranslations(),this.updateTimeStamps(),this.bindIntentHandlers(),b.doLayoutAsync(),f.fulfill(this.sandbox.element())},this))},this),j.bind(function(){v(this.tweetId,this.partner,this.dnt),f.fulfill(this.srcEl)},this)),s.push(g),c&&g.then(c),g):i.fulfill(this.srcEl)},augmentWidgets:function(a){var b=g.one("twitter-follow-button",a,"A");if(!b)return;b.setAttribute("data-related",this.related),b.setAttribute("data-partner",this.partner),b.setAttribute("data-dnt",this.dnt),b.setAttribute("data-show-screen-name","false"),t.push(b.parentNode)},addUrlParams:function(a){var b=this,c={related:this.related,partner:this.partner,original_referer:m.url(),tw_p:q};return this.addUrlParams=e(c,function(a){var c=g.ancestor(".tweet",a,b.element);return{tw_i:c.getAttribute("data-tweet-id")}}),this.addUrlParams(a)},baseScribeData:function(){return{client_version:p,widget_origin:m.url(),widget_frame:m.frameUrl(),message:this.partner}},handleResize:function(a){var c=Math.min(this.dimensions.DEFAULT_WIDTH,Math.max(this.dimensions.MIN_WIDTH,Math.min(this.predefinedWidth||this.dimensions.DEFAULT_WIDTH,a)));if(c==this.width)return;this.width=c,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(c)),this.layout(j.bind(function(){this.height=this.element.offsetHeight,this.sandbox.height(this.height)},this),"Embed Resize"),b.doLayoutAsync()},readTimestampTranslations:function(){var a=this.element,b="data-dt-",c=a.getAttribute(b+"months")||"";this.datetime=new d(j.compact({phrases:{AM:a.getAttribute(b+"am"),PM:a.getAttribute(b+"pm")},months:c.split("|"),formats:{full:a.getAttribute(b+"full")}}))},updateTimeStamps:function(){var a=g.one("long-permalink",this.element,"A"),c=a.getAttribute("data-datetime"),d=c&&this.datetime.localTimeStamp(c),e=a.getElementsByTagName("TIME")[0];if(!d)return;this.layout(function(){if(e&&e.innerHTML){e.innerHTML=d;return}a.innerHTML=d},"Update Timestamp"),b.doLayoutAsync()}}),y.fetchAndRender=function(){var a=r,c=[],d,e;r={};if(a.keys)c=a.keys();else for(d in a)a.hasOwnProperty(d)&&c.push(d);if(!c.length)return;o.initPostLogging(),e=a[c[0]][0].lang,n.tweets({ids:c.sort(),lang:e,complete:function(c){j.forIn(c,function(b,c){var d=a[b];j.forEach(d,function(a){a.s&&a.s.call(this,c)}),delete a[b]}),b.doLayout(),j.forIn(a,function(a,b){j.forEach(b,function(b){b.f&&b.f.call(this,a)})}),b.doLayout()}}),i.every.apply(null,s).then(function(){x(),o.flush()})},b.afterLoad(y.fetchAndRender),a(y)})});
provide("dom/textsize",function(a){function c(a,b,c){var d=[],e=0,f;for(;f=c[e];e++)d.push(f[0]),d.push(f[1]);return a+b+d.join(":")}function d(a){var b=a||"";return b.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}var b={};a(function(a,e,f){var g=document.createElement("span"),h={},i="",j,k=0,l=0,m=[];f=f||[],e=e||"",i=c(a,e,f);if(b[i])return b[i];g.className=e+" twitter-measurement";try{for(;j=f[k];k++)g.style[j[0]]=j[1]}catch(n){for(;j=f[l];l++)m.push(d(j[0])+":"+j[1]);g.setAttribute("style",m.join(";")+";")}return g.innerHTML=a,document.body.appendChild(g),h.width=g.clientWidth||g.offsetWidth,h.height=g.clientHeight||g.offsetHeight,document.body.removeChild(g),delete g,b[i]=h})});
provide("tfw/widget/tweetbase",function(a){using("util/util","tfw/widget/base","util/querystring","util/twitter",function(b,c,d,e){function f(a){if(!a)return;var b;c.apply(this,[a]),b=this.params(),this.text=b.text||this.dataAttr("text"),this.text&&/\+/.test(this.text)&&!/ /.test(this.text)&&(this.text=this.text.replace(/\+/g," ")),this.align=b.align||this.dataAttr("align")||"",this.via=b.via||this.dataAttr("via"),this.placeid=b.placeid||this.dataAttr("placeid"),this.hashtags=b.hashtags||this.dataAttr("hashtags"),this.screen_name=e.screenName(b.screen_name||b.screenName||this.dataAttr("button-screen-name")),this.url=b.url||this.dataAttr("url")}f.prototype=new c,b.aug(f.prototype,{parameters:function(){var a={text:this.text,url:this.url,related:this.related,lang:this.lang,placeid:this.placeid,original_referer:location.href,id:this.id,screen_name:this.screen_name,hashtags:this.hashtags,partner:this.partner,dnt:this.dnt,_:+(new Date)};return b.compact(a),d.encode(a)}}),a(f)})});
provide("tfw/widget/tweetbutton",function(a){using("tfw/widget/tweetbase","util/util","util/querystring","util/uri","util/twitter","dom/textsize",function(b,c,d,e,f,g){function k(a){b.apply(this,[a]);var d=this.params(),g=d.count||this.dataAttr("count"),k=d.size||this.dataAttr("size"),l=e.getScreenNameFromPage();this.classAttr.push("twitter-tweet-button");if(d.type=="hashtag"||~c.indexOf(this.classAttr,"twitter-hashtag-button"))this.type="hashtag",this.classAttr.push("twitter-hashtag-button");else if(d.type=="mention"||~c.indexOf(this.classAttr,"twitter-mention-button"))this.type="mention",this.classAttr.push("twitter-mention-button");this.counturl=d.counturl||this.dataAttr("counturl"),this.searchlink=d.searchlink||this.dataAttr("searchlink"),this.button_hashtag=f.hashTag(d.button_hashtag||d.hashtag||this.dataAttr("button-hashtag"),!1),this.size=k=="large"?"l":"m",this.type?(this.count="none",l&&(this.related=this.related?l+","+this.related:l)):(this.text=this.text||h,this.url=this.url||e.getCanonicalURL()||i,this.count=~c.indexOf(j,g)?g:"horizontal",this.count=this.count=="vertical"&&this.size=="l"?"none":this.count,this.via=this.via||l)}var h=document.title,i=encodeURI(location.href),j=["vertical","horizontal","none"];k.prototype=new b,c.aug(k.prototype,{parameters:function(){var a={text:this.text,url:this.url,via:this.via,related:this.related,count:this.count,lang:this.lang,counturl:this.counturl,searchlink:this.searchlink,placeid:this.placeid,original_referer:location.href,id:this.id,size:this.size,type:this.type,screen_name:this.screen_name,button_hashtag:this.button_hashtag,hashtags:this.hashtags,align:this.align,partner:this.partner,dnt:this.dnt,_:+(new Date)};return c.compact(a),d.encode(a)},height:function(){return this.count=="vertical"?62:this.size=="m"?20:28},width:function(){var a={ver:8,cnt:14,btn:24,xlcnt:18,xlbtn:38},b=this.count=="vertical",d=this.type=="hashtag"&&this.button_hashtag?"Tweet %{hashtag}":this.type=="mention"&&this.screen_name?"Tweet to %{name}":"Tweet",e=this._(d,{name:"@"+this.screen_name,hashtag:"#"+this.button_hashtag}),f=this._("K"),h=this._("100K+"),i=(b?"8888":"88888")+f,j=0,k=0,l=0,m=0,n=this.styles.base,o=n;return~c.indexOf(["ja","ko"],this.lang)?i+=this._("10k unit"):i=i.length>h.length?i:h,b?(o=n.concat(this.styles.vbubble),m=a.ver,l=a.btn):this.size=="l"?(n=o=n.concat(this.styles.large),l=a.xlbtn,m=a.xlcnt):(l=a.btn,m=a.cnt),this.count!="none"&&(k=g(i,"",o).width+m),j=g(e,"",n.concat(this.styles.button)).width+l,b?j>k?j:k:this.calculatedWidth=j+k},render:function(a,b){var d=twttr.widgets.config.assetUrl()+"/widgets/tweet_button.1386967771.html#"+this.parameters(),e;return this.count&&this.classAttr.push("twitter-count-"+this.count),e=this.create(d,this.dimensions(),{title:this._("Twitter Tweet Button")}).then(c.bind(function(a){return this.element=a},this)),b&&e.then(b),e}}),a(k)})});
provide("tfw/widget/follow",function(a){using("util/util","tfw/widget/base","util/querystring","util/uri","util/twitter","util/promise","dom/textsize",function(b,c,d,e,f,g,h){function i(a){if(!a)return;var b,d,e,g;c.apply(this,[a]),b=this.params(),d=b.size||this.dataAttr("size"),e=b.showScreenName||this.dataAttr("show-screen-name"),g=b.count||this.dataAttr("count"),this.classAttr.push("twitter-follow-button"),this.showScreenName=e!="false",this.showCount=b.showCount!==!1&&this.dataAttr("show-count")!="false",g=="none"&&(this.showCount=!1),this.explicitWidth=b.width||this.dataAttr("width")||"",this.screenName=b.screen_name||b.screenName||f.screenName(this.attr("href")),this.preview=b.preview||this.dataAttr("preview")||"",this.align=b.align||this.dataAttr("align")||"",this.size=d=="large"?"l":"m"}i.prototype=new c,b.aug(i.prototype,{parameters:function(){var a={screen_name:this.screenName,lang:this.lang,show_count:this.showCount,show_screen_name:this.showScreenName,align:this.align,id:this.id,preview:this.preview,size:this.size,partner:this.partner,dnt:this.dnt,_:+(new Date)};return b.compact(a),d.encode(a)},width:function(){if(this.calculatedWidth)return this.calculatedWidth;if(this.explicitWidth)return this.explicitWidth;var a={cnt:13,btn:24,xlcnt:22,xlbtn:38},c=this.showScreenName?"Follow %{screen_name}":"Follow",d=this._(c,{screen_name:"@"+this.screenName}),e=~b.indexOf(["ja","ko"],this.lang)?this._("10k unit"):this._("M"),f=this._("%{followers_count} followers",{followers_count:"88888"+e}),g=0,i=0,j,k,l=this.styles.base;return this.size=="l"?(l=l.concat(this.styles.large),j=a.xlbtn,k=a.xlcnt):(j=a.btn,k=a.cnt),this.showCount&&(i=h(f,"",l).width+k),g=h(d,"",l.concat(this.styles.button)).width+j,this.calculatedWidth=g+i},render:function(a,c){if(!this.screenName)return g.reject("Missing Screen Name").then(c);var d=twttr.widgets.config.assetUrl()+"/widgets/follow_button.1386967771.html#"+this.parameters(),e=this.create(d,this.dimensions(),{title:this._("Twitter Follow Button")}).then(b.bind(function(a){return this.element=a},this));return c&&e.then(c),e}}),a(i)})});
!function(){window.twttr=window.twttr||{},twttr.host=twttr.host||"platform.twitter.com",using("util/domready","util/env",function(a,b){function c(a){return(a||!/^http\:$/.test(window.location.protocol))&&!twttr.ignoreSSL?"https":"http"}if(b.ie6())return;if(twttr.widgets&&twttr.widgets.loaded)return twttr.widgets.load(),!1;if(twttr.init)return!1;twttr.init=!0,twttr._e=twttr._e||[],twttr.ready=twttr.ready||function(a){twttr.widgets&&twttr.widgets.loaded?a(twttr):twttr._e.push(a)},using.path.length||(using.path=c()+"://"+twttr.host+"/js"),twttr.ignoreSSL=twttr.ignoreSSL||!1;var d=[];twttr.events={bind:function(a,b){return d.push([a,b])}},a(function(){using("tfw/widget/base","tfw/widget/follow","tfw/widget/tweetbutton","tfw/widget/embed","tfw/widget/timeline","tfw/widget/intent","tfw/util/article","util/events","util/util",function(a,b,e,f,g,h,i,j,k){function q(a){var b=twttr.host;return c(a)=="https"&&twttr.secureHost&&(b=twttr.secureHost),c(a)+"://"+b}function r(){using("tfw/hub/client",function(a){twttr.events.hub=a.init(n),a.init(n,!0)})}var l,m,n={widgets:{"a.twitter-share-button":e,"a.twitter-mention-button":e,"a.twitter-hashtag-button":e,"a.twitter-follow-button":b,"blockquote.twitter-tweet":f,"a.twitter-timeline":g,"div.twitter-timeline":g,body:h}},o=twttr.events&&twttr.events.hub?twttr.events:{},p;n.assetUrl=q,twttr.widgets=twttr.widgets||{},k.aug(twttr.widgets,{config:{assetUrl:q},load:function(b){a.init(n),a.embed(b),twttr.widgets.loaded=!0},createShareButton:function(b,c,d,f){if(!b||!c)return d&&d(!1);f=k.aug({},f||{},{url:b,targetEl:c});var g=new e(f);a.doLayout(),g.render(n,d)},createHashtagButton:function(b,c,d,f){if(!b||!c)return d&&d(!1);f=k.aug({},f||{},{hashtag:b,targetEl:c,type:"hashtag"});var g=new e(f);a.doLayout(),g.render(n,d)},createMentionButton:function(b,c,d,f){if(!b||!c)return d&&d(!1);f=k.aug({},f||{},{screenName:b,targetEl:c,type:"mention"});var g=new e(f);a.doLayout(),g.render(n,d)},createFollowButton:function(c,d,e,f){if(!c||!d)return e&&e(!1);f=k.aug({},f||{},{screenName:c,targetEl:d});var g=new b(f);a.doLayout(),g.render(n,e)},createTweet:function(b,c,d,e){if(!b||!c)return d&&d(!1);e=k.aug({},e||{},{tweetId:b,targetEl:c});var g=new f(e);a.doLayout(),g.render(n,d),f.fetchAndRender()},createTimeline:function(b,c,d,e){if(!b||!c)return d&&d(!1);e=k.aug({},e||{},{widgetId:b,targetEl:c});var f=new g(e);a.doLayout(),f.render(n,d)}}),k.aug(twttr.events,o,j.Emitter),p=twttr.events.bind,twttr.events.bind=function(a,b){r(),this.bind=p,this.bind(a,b)};for(l=0;m=d[l];l++)twttr.events.bind(m[0],m[1]);for(l=0;m=twttr._e[l];l++)m(twttr);twttr.ready=function(a){a(twttr)},/twitter\.com(\:\d+)?$/.test(document.location.host)&&(twttr.widgets.createTimelinePreview=function(b,c,d){if(!n||!c)return d&&d(!1);var e=new g({previewParams:b,targetEl:c,linkColor:b.link_color,theme:b.theme,height:b.height});a.doLayout(),e.render(n,d)}),twttr.widgets.createTweetEmbed=twttr.widgets.createTweet,twttr.widgets.load()})})})}()});