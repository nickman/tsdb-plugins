!function(){top!==window&&(alert("For security reasons, framing is not allowed."),top.location.replace(document.location))}.call(this),function(){var t,e;t=function(){return Promise.resolve($.ajax("/sessions/in_sudo.json"))},e=function(){return $.facebox({div:"#js-sudo-prompt"},"sudo").then(function(t){return new Promise(function(e,n){var r,a;return a=null,r=$(t).find(".js-sudo-form"),r.find(".js-sudo-login, .js-sudo-password").first().focus(),r.on("ajaxSuccess",function(){return a=!0,$(document).trigger("close.facebox")}),r.on("ajaxError",function(){return a=!1,$(this).find(".js-sudo-error").text("Incorrect Password.").show(),$(this).find(".js-sudo-password").val("")}),$(document).one("afterClose.facebox",function(){return a?e(!0):n(new Error("sudo prompt canceled"))})})})},$.sudo=function(){return t().then(function(t){return t||e()})},$(document).on("click",".js-sudo-required",function(){return $.sudo().then(function(t){return function(){return location.href=t.href}}(this)),!1})}.call(this),function(){null==window.GitHub&&(window.GitHub={})}.call(this),function(t){t.fn.autocompleteField=function(e){var n=t.extend({searchVar:"q",url:null,delay:250,useCache:!1,extraParams:{},autoClearResults:!0,dataType:"html",minLength:1},e);return t(this).each(function(){function e(e){if(a&&a.readyState<4&&a.abort(),n.useCache&&c.hasOwnProperty(e))o.trigger("autocomplete:finish",c[e]);else{var r={};r[n.searchVar]=e,r=t.extend(!0,n.extraParams,r),o.trigger("autocomplete:beforesend"),a=t.get(n.url,r,function(t){n.useCache&&(c[e]=t),o.val()===e&&o.trigger("autocomplete:finish",t)},n.dataType)}}function r(t){t.length>=n.minLength?i!=t&&(e(t),i=t):o.trigger("autocomplete:clear")}var a,s,i,o=t(this),c={};null!=n.url&&(o.attr("autocomplete","off"),o.keyup(function(t){t.preventDefault(),clearTimeout(s),s=setTimeout(function(){clearTimeout(s),r(o.val())},n.delay)}),o.blur(function(){i=null}))})}}(jQuery),function(t){t.fn.caret=function(t){return"undefined"==typeof t?this[0].selectionStart:(this[0].focus(),this[0].setSelectionRange(t,t))},t.fn.caretSelection=function(t,e){return"undefined"==typeof t&&"undefined"==typeof e?[this[0].selectionStart,this[0].selectionEnd]:(this[0].focus(),this[0].setSelectionRange(t,e))}}(jQuery),DateInput=function(t){function e(n,r){"object"!=typeof r&&(r={}),t.extend(this,e.DEFAULT_OPTS,r),this.input=t(n),this.bindMethodsToObj("show","hide","hideIfClickOutside","keydownHandler","selectDate"),this.build(),this.selectDate(),this.show(),this.input.hide(),this.input.data("datePicker",this)}return e.DEFAULT_OPTS={month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],short_month_names:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],short_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],start_of_week:1},e.prototype={build:function(){var e=t('<p class="month_nav"><span class="button prev" title="[Page-Up]">&#171;</span> <span class="month_name"></span> <span class="button next" title="[Page-Down]">&#187;</span></p>');this.monthNameSpan=t(".month_name",e),t(".prev",e).click(this.bindToObj(function(){this.moveMonthBy(-1)})),t(".next",e).click(this.bindToObj(function(){this.moveMonthBy(1)}));var n=t('<p class="year_nav"><span class="button prev" title="[Ctrl+Page-Up]">&#171;</span> <span class="year_name"></span> <span class="button next" title="[Ctrl+Page-Down]">&#187;</span></p>');this.yearNameSpan=t(".year_name",n),t(".prev",n).click(this.bindToObj(function(){this.moveMonthBy(-12)})),t(".next",n).click(this.bindToObj(function(){this.moveMonthBy(12)}));var r=t('<div class="nav"></div>').append(e,n),a="<table><thead><tr>";t(this.adjustDays(this.short_day_names)).each(function(){a+="<th>"+this+"</th>"}),a+="</tr></thead><tbody></tbody></table>",this.dateSelector=this.rootLayers=t('<div class="date_selector no_shadow"></div>').append(r,a).insertAfter(this.input),this.tbody=t("tbody",this.dateSelector),this.input.change(this.bindToObj(function(){this.selectDate()})),this.selectDate()},selectMonth:function(e){var n=new Date(e.getFullYear(),e.getMonth(),1);if(!this.currentMonth||this.currentMonth.getFullYear()!=n.getFullYear()||this.currentMonth.getMonth()!=n.getMonth()){this.currentMonth=n;for(var r=this.rangeStart(e),a=this.rangeEnd(e),s=this.daysBetween(r,a),i="",o=0;s>=o;o++){var c=new Date(r.getFullYear(),r.getMonth(),r.getDate()+o,12,0);this.isFirstDayOfWeek(c)&&(i+="<tr>"),i+=c.getMonth()==e.getMonth()?'<td class="selectable_day" date="'+this.dateToString(c)+'">'+c.getDate()+"</td>":'<td class="unselected_month" date="'+this.dateToString(c)+'">'+c.getDate()+"</td>",this.isLastDayOfWeek(c)&&(i+="</tr>")}this.tbody.empty().append(i),this.monthNameSpan.empty().append(this.monthName(e)),this.yearNameSpan.empty().append(this.currentMonth.getFullYear()),t(".selectable_day",this.tbody).click(this.bindToObj(function(e){this.changeInput(t(e.target).attr("date"))})),t("td[date='"+this.dateToString(new Date)+"']",this.tbody).addClass("today"),t("td.selectable_day",this.tbody).mouseover(function(){t(this).addClass("hover")}),t("td.selectable_day",this.tbody).mouseout(function(){t(this).removeClass("hover")})}t(".selected",this.tbody).removeClass("selected"),t('td[date="'+this.selectedDateString+'"]',this.tbody).addClass("selected")},selectDate:function(t){"undefined"==typeof t&&(t=this.stringToDate(this.input.val())),t||(t=new Date),this.selectedDate=t,this.selectedDateString=this.dateToString(this.selectedDate),this.selectMonth(this.selectedDate)},resetDate:function(){t(".selected",this.tbody).removeClass("selected"),this.changeInput("")},changeInput:function(t){this.input.val(t).change(),this.hide()},show:function(){this.rootLayers.css("display","block"),t([window,document.body]).click(this.hideIfClickOutside),this.input.unbind("focus",this.show),this.rootLayers.keydown(this.keydownHandler),this.setPosition()},hide:function(){},hideIfClickOutside:function(t){t.target==this.input[0]||this.insideSelector(t)||this.hide()},insideSelector:function(e){return $target=t(e.target),$target.parents(".date_selector").length||$target.is(".date_selector")},keydownHandler:function(t){switch(t.keyCode){case 9:case 27:return this.hide(),void 0;case 13:this.changeInput(this.selectedDateString);break;case 33:this.moveDateMonthBy(t.ctrlKey?-12:-1);break;case 34:this.moveDateMonthBy(t.ctrlKey?12:1);break;case 38:this.moveDateBy(-7);break;case 40:this.moveDateBy(7);break;case 37:this.moveDateBy(-1);break;case 39:this.moveDateBy(1);break;default:return}t.preventDefault()},stringToDate:function(t){var e;return(e=t.match(/^(\d{1,2}) ([^\s]+) (\d{4,4})$/))?new Date(e[3],this.shortMonthNum(e[2]),e[1],12,0):null},dateToString:function(t){return t.getDate()+" "+this.short_month_names[t.getMonth()]+" "+t.getFullYear()},setPosition:function(){var t=this.input.offset();this.rootLayers.css({top:t.top+this.input.outerHeight(),left:t.left}),this.ieframe&&this.ieframe.css({width:this.dateSelector.outerWidth(),height:this.dateSelector.outerHeight()})},moveDateBy:function(t){var e=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),this.selectedDate.getDate()+t);this.selectDate(e)},moveDateMonthBy:function(t){var e=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+t,this.selectedDate.getDate());e.getMonth()==this.selectedDate.getMonth()+t+1&&e.setDate(0),this.selectDate(e)},moveMonthBy:function(t){var e=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+t,this.currentMonth.getDate());this.selectMonth(e)},monthName:function(t){return this.month_names[t.getMonth()]},bindToObj:function(t){var e=this;return function(){return t.apply(e,arguments)}},bindMethodsToObj:function(){for(var t=0;t<arguments.length;t++)this[arguments[t]]=this.bindToObj(this[arguments[t]])},indexFor:function(t,e){for(var n=0;n<t.length;n++)if(e==t[n])return n},monthNum:function(t){return this.indexFor(this.month_names,t)},shortMonthNum:function(t){return this.indexFor(this.short_month_names,t)},shortDayNum:function(t){return this.indexFor(this.short_day_names,t)},daysBetween:function(t,e){return t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),(e-t)/864e5},changeDayTo:function(t,e,n){var r=n*(Math.abs(e.getDay()-t-7*n)%7);return new Date(e.getFullYear(),e.getMonth(),e.getDate()+r)},rangeStart:function(t){return this.changeDayTo(this.start_of_week,new Date(t.getFullYear(),t.getMonth()),-1)},rangeEnd:function(t){return this.changeDayTo((this.start_of_week-1)%7,new Date(t.getFullYear(),t.getMonth()+1,0),1)},isFirstDayOfWeek:function(t){return t.getDay()==this.start_of_week},isLastDayOfWeek:function(t){return t.getDay()==(this.start_of_week-1)%7},adjustDays:function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[(n+this.start_of_week)%7];return e}},e}(jQuery),function(t){t.fn.errorify=function(e,n){return t.extend({},t.fn.errorify.defaults,n),this.each(function(){var n=t(this);n.removeClass("warn"),n.addClass("errored"),n.find("p.note").hide(),n.find("dd.error").remove(),n.find("dd.warning").remove();var r=t("<dd>").addClass("error").text(e);n.append(r)})},t.fn.errorify.defaults={},t.fn.unErrorify=function(e){return t.extend({},t.fn.unErrorify.defaults,e),this.each(function(){var e=t(this);e.removeClass("errored warn"),e.find("p.note").show(),e.find("dd.error").remove(),e.find("dd.warning").remove()})},t.fn.unErrorify.defaults={}}(jQuery),$.fn.selectableList=function(t,e){return $(this).each(function(){var n=$(this),r=$.extend({toggleClassName:"selected",wrapperSelector:"a",mutuallyExclusive:!1,itemParentSelector:"li",enableShiftSelect:!1,ignoreLinks:!1},e);return n.delegate(t+" "+r.itemParentSelector+" "+r.wrapperSelector,"click",function(e){if(e.which>1||e.metaKey||r.ignoreLinks&&$(e.target).closest("a").length)return!0;var a=$(this),s=a.find(":checkbox, :radio"),i=n.find(t+" ."+r.toggleClassName),o=n.find(t+" *[data-last]");if(a.is(":checkbox, :radio")||e.target==s[0]||(s.prop("checked")&&!s.is(":radio")?s.prop("checked",!1):s.prop("checked",!0)),r.mutuallyExclusive&&i.removeClass(r.toggleClassName),a.toggleClass(r.toggleClassName),s.change(),r.enableShiftSelect&&e.shiftKey&&i.length>0){if(o.length>0){var c=o.offset().top,l=a.offset().top,u="#"+a.attr("id"),d=$,h=$,f=$;c>l?d=o.prevUntil(u):l>c&&(d=o.nextUntil(u)),h=d.find(":checkbox"),f=d.find(":checked"),f.length==h.length?(d.removeClass(r.toggleClassName),h.prop("checked",!1)):(d.addClass(r.toggleClassName),h.prop("checked",!0))}a.trigger("selectableList:shiftClicked")}o.removeAttr("data-last"),a.attr("data-last",!0)}),n.delegate(t+" li :checkbox,"+t+" li :radio","change",function(){var e=$(this),a=e.closest(r.wrapperSelector);r.mutuallyExclusive&&n.find(t+" ."+r.toggleClassName).removeClass(r.toggleClassName),$(this).prop("checked")?a.addClass(r.toggleClassName):a.removeClass(r.toggleClassName)}),n.find(t)})},function(t,e,n){function r(t){var e={},r=/^jQuery\d+$/;return n.each(t.attributes,function(t,n){n.specified&&!r.test(n.name)&&(e[n.name]=n.value)}),e}function a(t,r){var a=this,s=n(a);if(a.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){if(s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id")),t===!0)return s[0].value=r;s.focus()}else a.value="",s.removeClass("placeholder"),a==e.activeElement&&a.select()}function s(){var t,e=this,s=n(e),i=this.id;if(""==e.value){if("password"==e.type){if(!s.data("placeholder-textinput")){try{t=s.clone().attr({type:"text"})}catch(o){t=n("<input>").attr(n.extend(r(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":i}).bind("focus.placeholder",a),s.data({"placeholder-textinput":t,"placeholder-id":i}).before(t)}s=s.removeAttr("id").hide().prev().attr("id",i).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}var i,o,c="placeholder"in e.createElement("input"),l="placeholder"in e.createElement("textarea"),u=n.fn,d=n.valHooks;c&&l?(o=u.placeholder=function(){return this},o.input=o.textarea=!0):(o=u.placeholder=function(){var t=this;return t.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":a,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},o.input=c,o.textarea=l,i={get:function(t){var e=n(t);return e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,r){var i=n(t);return i.data("placeholder-enabled")?(""==r?(t.value=r,t!=e.activeElement&&s.call(t)):i.hasClass("placeholder")?a.call(t,!0,r)||(t.value=r):t.value=r,i):t.value=r}},c||(d.input=i),l||(d.textarea=i),n(function(){n(e).delegate("form","submit.placeholder",function(){var t=n(".placeholder",this).each(a);setTimeout(function(){t.each(s)},10)})}),n(t).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(t){function e(t,e){var n=t.find("a");if(n.length>1){var r=n.filter(".selected"),a=n.get().indexOf(r.get(0));return a+=e,a>=n.length?a=0:0>a&&(a=n.length-1),r.removeClass("selected"),n.eq(a).addClass("selected"),!0}}t.fn.quicksearch=function(n){var r=t.extend({url:null,delay:150,loading:t(".quicksearch-loading")},n),a=function(t){return r.results.html(t).show()};return r.results.delegate("a","mouseover",function(){var e=t(this);e.hasClass("selected")||(r.results.find("a.selected").removeClass("selected"),e.addClass("selected"))}),this.each(function(){function n(){i.trigger("quicksearch.loading"),r.loading&&a(r.loading.html())}function s(){i.trigger("quicksearch.loaded")}var i=t(this);i.autocompleteField({url:r.url||i.attr("data-url"),dataType:r.dataType,delay:r.delay,useCache:!0,minLength:2}).bind("keyup",function(t){13!=t.which&&i.val().length>=2&&r.results.is(":empty")&&n()}).bind("autocomplete:beforesend",function(){n()}).bind("autocomplete:finish",function(t,e){a(e||{}),s()}).bind("autocomplete:clear",function(){r.results.html("").hide(),s()}).bind("focus",function(){i.val()&&i.trigger("keyup")}).bind("blur",function(){setTimeout(function(){i.trigger("autocomplete:clear")},250)}).bind("keydown",function(n){switch(n.hotkey){case"up":if(e(r.results,-1))return!1;break;case"down":if(e(r.results,1))return!1;break;case"esc":return t(this).trigger("autocomplete:clear"),!1;case"tab":t(this).trigger("autocomplete:clear");break;case"enter":var a=r.results.find("a.selected");if(a.length)return t(this).blur(),a.hasClass("initial")?a.closest("form").submit():window.location=a.attr("href"),!1;t(this).trigger("autocomplete:clear")}})})}}(jQuery),function(t){function e(t){return"tagName"in t?t:t.parentNode}try{window.document.createEvent("TouchEvent")}catch(n){return!1}var r,a={};t(document).ready(function(){t(document.body).bind("touchstart",function(t){var n=Date.now(),s=n-(a.last||n);a.target=e(t.originalEvent.touches[0].target),r&&clearTimeout(r),a.x1=t.originalEvent.touches[0].pageX,s>0&&250>=s&&(a.isDoubleTap=!0),a.last=n}).bind("touchmove",function(t){a.x2=t.originalEvent.touches[0].pageX}).bind("touchend",function(){a.isDoubleTap?(t(a.target).trigger("doubleTap"),a={}):a.x2>0?(Math.abs(a.x1-a.x2)>30&&t(a.target).trigger("swipe")&&t(a.target).trigger("swipe"+(a.x1-a.x2>0?"Left":"Right")),a.x1=a.x2=a.last=0):"last"in a&&(r=setTimeout(function(){r=null,t(a.target).trigger("tap"),a={}},250))}).bind("touchcancel",function(){a={}})}),["swipe","swipeLeft","swipeRight","doubleTap","tap"].forEach(function(e){t.fn[e]=function(t){return this.bind(e,t)}})}(jQuery),function(){var t,e;t=function(t){return Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.name="DataRemoteError",this.message=t},t.prototype=new Error,t.prototype.constructor=t,e=function(){return $("#ajax-error-message").show(function(){return $(this).addClass("visible")})},$(document).on("ajaxError","[data-remote]",function(n,r,a,s){var i,o;if(this===n.target&&"abort"!==s){if(o="."+this.className.split(" ").sort().join("."),i=new t(""+s+" ("+r.status+") from "+o),/<html/.test(r.responseText))throw e(),n.stopImmediatePropagation(),i;return setTimeout(function(){if(!n.isDefaultPrevented())throw e(),i},0)}}),$(document).on("ajaxBeforeSend","[data-remote]",function(){return $("#ajax-error-message").hide().removeClass("visible")}),$(document).on("click",".js-ajax-error-dismiss",function(){return $("#ajax-error-message").hide().removeClass("visible"),!1})}.call(this),function(){$(document).on("ajaxSend","[data-remote]",function(t){return t.isDefaultPrevented()?void 0:($(this).addClass("loading"),$(document.documentElement).addClass("ajax-loading"))}),$(document).on("ajaxComplete","[data-remote]",function(){return $(document.documentElement).removeClass("ajax-loading"),$(this).removeClass("loading")})}.call(this),function(){var t,e,n,r;r=new WeakMap,e=new WeakMap,n=function(t){return $.param(t).split("&").sort().join("&")},t=function(t){var a,s,i,o,c,l,u;a=$(t),c=a.val(),s=!$.trim(c),o={type:"POST",url:t.getAttribute("data-autocheck-url"),data:{value:c}},i=$.Event("autocheck:send"),s||a.trigger(i,o),i.isDefaultPrevented()||n(o.data)!==e.get(t)&&(a.closest("dl.form").removeClass("errored successed"),a.removeClass("is-autocheck-successful is-autocheck-errored"),null!=(u=r.get(t))&&u.abort(),s||(a.addClass("is-autocheck-loading"),a.closest("dl.form").addClass("is-loading"),e.set(t,n(o.data)),l=$.ajax(o).done(function(){return a.addClass("is-autocheck-successful"),a.closest("dl.form").unErrorify().addClass("successed"),a.trigger("autocheck:success",arguments)}).fail(function(t,e){return"abort"!==e&&a.is($.visible)?(a.addClass("is-autocheck-errored"),/<html/.test(t.responseText)?a.closest("dl.form").errorify("Something went wrong."):a.closest("dl.form").errorify(t.responseText),a.trigger("autocheck:error",arguments)):void 0}).always(function(t,e){return"abort"!==e?(a.removeClass("is-autocheck-loading"),a.closest("dl.form").removeClass("is-loading"),a.trigger("autocheck:complete",arguments)):void 0}),r.set(t,l)))},$(document).on("change","input[data-autocheck-url]",function(){return t(this)}),$(document).onFocusedInput("input[data-autocheck-url]",function(e){return $(this).on("throttled:input."+e,function(){return t(this)}),!1})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this.onNavigationOpen=e(this.onNavigationOpen,this),this.onNavigationKeyDown=e(this.onNavigationKeyDown,this),this.onResultsChange=e(this.onResultsChange,this),this.onInputChange=e(this.onInputChange,this),this.onResultsMouseDown=e(this.onResultsMouseDown,this),this.onInputBlur=e(this.onInputBlur,this),this.onInputFocus=e(this.onInputFocus,this);var t;this.focusedInput=this.focusedResults=null,this.mouseDown=!1,t=this,$(document).focused("input[data-autocomplete]")["in"](function(){return t.onInputFocus(this)})}return t.prototype.bindEvents=function(t,e){return $(t).on("blur",this.onInputBlur),$(t).on("throttled:input",this.onInputChange),$(e).on("mousedown",this.onResultsMouseDown),$(e).on("autocomplete:change",this.onResultsChange),$(e).on("navigation:open","[data-autocomplete-value]",this.onNavigationOpen),$(e).on("navigation:keydown","[data-autocomplete-value]",this.onNavigationKeyDown)},t.prototype.unbindEvents=function(t,e){return $(t).off("blur",this.onInputBlur),$(t).off("throttled:input",this.onInputChange),$(e).off("mousedown",this.onResultsMouseDown),$(e).off("autocomplete:change",this.onResultsChange),$(e).off("navigation:open","[data-autocomplete-value]",this.onNavigationOpen),$(e).off("navigation:keydown","[data-autocomplete-value]",this.onNavigationKeyDown)},t.prototype.onInputFocus=function(t){var e;e=document.getElementById($(t).attr("data-autocomplete")),this.focusedInput=t,this.focusedResults=e,this.bindEvents(t,e),$(t).attr("autocomplete","off"),$(t).trigger("autocomplete:focus"),$(t).trigger("autocomplete:search",[$(t).val()])},t.prototype.onInputBlur=function(t){var e,n;e=t.currentTarget,n=this.focusedResults,this.mouseDown||(this.hideResults(),this.inputValue=null,this.focusedInput=this.focusedResults=null,this.unbindEvents(e,n),$(e).trigger("autocomplete:blur"))},t.prototype.onResultsMouseDown=function(){var t;this.mouseDown=!0,t=function(e){return function(){return e.mouseDown=!1,$(document).off("mouseup",t)}}(this),$(document).on("mouseup",t)},t.prototype.onInputChange=function(t,e){var n;n=t.currentTarget,this.inputValue!==e&&($(n).removeAttr("data-autocompleted"),$(n).trigger("autocomplete:autocompleted:changed")),$(n).trigger("autocomplete:change",[e]),$(n).trigger("autocomplete:search",[e])},t.prototype.onResultsChange=function(){var t,e;e=$(this.focusedInput).val(),t=$(this.focusedResults).find("[data-autocomplete-value]"),0===t.length?this.hideResults():this.inputValue!==e&&(this.inputValue=e,this.showResults(),$(this.focusedInput).is("[data-autocomplete-autofocus]")&&$(this.focusedResults).find("ul").navigation("focus"))},t.prototype.onNavigationKeyDown=function(t){switch(t.hotkey){case"tab":return this.onNavigationOpen(t),!1;case"esc":return this.hideResults(),!1}},t.prototype.onNavigationOpen=function(t){var e,n;e=t.currentTarget,n=$(e).attr("data-autocomplete-value"),this.inputValue=n,$(this.focusedInput).val(n),$(this.focusedInput).attr("data-autocompleted",n),$(this.focusedInput).trigger("autocomplete:autocompleted:changed",[n]),$(this.focusedInput).trigger("autocomplete:result",[n]),$(e).removeClass("active"),this.hideResults()},t.prototype.showResults=function(t,e){var n,r,a,s,i;return null==t&&(t=this.focusedInput),null==e&&(e=this.focusedResults),$(e).is($.visible)?void 0:(i=$(t).offset(),a=i.top,r=i.left,n=a+$(t).innerHeight(),s=$(t).innerWidth(),$(e).css({display:"block",position:"absolute",width:s+2}),$(e).offset({top:n+5,left:r+1}),$(t).addClass("js-navigation-enable"),$(e).find("ul").navigation("push"),$(e).show())},t.prototype.hideResults=function(t,e){return null==t&&(t=this.focusedInput),null==e&&(e=this.focusedResults),$(e).is($.visible)?($(t).removeClass("js-navigation-enable"),$(e).find("ul").navigation("pop"),$(e).hide()):void 0},t}(),new t}.call(this),function(){$(document).focused(".js-autosearch-field")["in"](function(){var t,e,n;return t=$(this),e=t.closest("form"),n=$("#"+e.attr("data-results-container")),e.on("throttled:input.autosearch_form",function(){var t,r;return e.addClass("is-sending"),t=e.prop("action"),r=$.ajax({url:t,data:e.serializeArray(),context:this}),r.always(function(){return e.removeClass("is-sending")}),r.done(function(t){return $.support.pjax&&window.history.replaceState(null,"","?"+e.serialize()),n.html(t)})})}).out(function(){return $(this).off(".autosearch_form")})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.container=t,this.hoverEnd=e(this.hoverEnd,this),this.hoverStart=e(this.hoverStart,this),this.items=this.container.find(".avatars li"),this.items.length>1&&this.container.hover(this.hoverStart,this.hoverEnd)}return t.prototype.namespace="avatarStack",t.prototype.hoverStart=function(){return this.container.addClass("avatar-stack-focus")},t.prototype.hoverEnd=function(){return this.container.removeClass("avatar-stack-focus")},t}(),$(function(){return $(".avatar-stack").each(function(){return new t($(this))})})}.call(this),function(){$(document).on("submit",".js-braintree-encrypt",function(){var t;t=Braintree.create($(this).attr("data-braintree-key")),t.encryptForm(this)})}.call(this),function(){var t,e,n,r,a,s,i,o,c,l,u,d,h,f,m,p,g,v,$,b=[].slice,y=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=jQuery,t.payment={},t.payment.fn={},t.fn.payment=function(){var e,n;return n=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],t.payment.fn[n].apply(this,e)},a=/(\d{1,4})/g,r=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:a,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:a,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:a,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:a,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:a,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:a,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:a,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:a,length:[13,14,15,16],cvcLength:[3],luhn:!0}],e=function(t){var e,n,a;for(t=(t+"").replace(/\D/g,""),n=0,a=r.length;a>n;n++)if(e=r[n],e.pattern.test(t))return e},n=function(t){var e,n,a;for(n=0,a=r.length;a>n;n++)if(e=r[n],e.type===t)return e},h=function(t){var e,n,r,a,s,i;for(r=!0,a=0,n=(t+"").split("").reverse(),s=0,i=n.length;i>s;s++)e=n[s],e=parseInt(e,10),(r=!r)&&(e*=2),e>9&&(e-=9),a+=e;return 0===a%10},d=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document?null!=(e=document.selection)?"function"==typeof e.createRange?e.createRange().text:void 0:void 0:void 0)?!0:!1},f=function(e){return setTimeout(function(){var n,r;return n=t(e.currentTarget),r=n.val(),r=t.payment.formatCardNumber(r),n.val(r)})},o=function(n){var r,a,s,i,o,c,l;return s=String.fromCharCode(n.which),!/^\d+$/.test(s)||(r=t(n.currentTarget),l=r.val(),a=e(l+s),i=(l.replace(/\D/g,"")+s).length,c=16,a&&(c=a.length[a.length.length-1]),i>=c||null!=r.prop("selectionStart")&&r.prop("selectionStart")!==l.length)?void 0:(o=a&&"amex"===a.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,o.test(l)?(n.preventDefault(),r.val(l+" "+s)):o.test(l+s)?(n.preventDefault(),r.val(l+s+" ")):void 0)},s=function(e){var n,r;return n=t(e.currentTarget),r=n.val(),e.meta||8!==e.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==r.length?void 0:/\d\s$/.test(r)?(e.preventDefault(),n.val(r.replace(/\d\s$/,""))):/\s\d?$/.test(r)?(e.preventDefault(),n.val(r.replace(/\s\d?$/,""))):void 0},c=function(e){var n,r,a;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(n=t(e.currentTarget),a=n.val()+r,/^\d$/.test(a)&&"0"!==a&&"1"!==a?(e.preventDefault(),n.val("0"+a+" / ")):/^\d\d$/.test(a)?(e.preventDefault(),n.val(""+a+" / ")):void 0):void 0},l=function(e){var n,r,a;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(n=t(e.currentTarget),a=n.val(),/^\d\d$/.test(a)?n.val(""+a+" / "):void 0):void 0},u=function(e){var n,r,a;return r=String.fromCharCode(e.which),"/"===r?(n=t(e.currentTarget),a=n.val(),/^\d$/.test(a)&&"0"!==a?n.val("0"+a+" / "):void 0):void 0},i=function(e){var n,r;if(!e.meta&&(n=t(e.currentTarget),r=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===r.length)))return/\d(\s|\/)+$/.test(r)?(e.preventDefault(),n.val(r.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(r)?(e.preventDefault(),n.val(r.replace(/\s\/\s?\d?$/,""))):void 0},v=function(t){var e;return t.metaKey||t.ctrlKey?!0:32===t.which?!1:0===t.which?!0:t.which<33?!0:(e=String.fromCharCode(t.which),!!/[\d\s]/.test(e))},p=function(n){var r,a,s,i;return r=t(n.currentTarget),s=String.fromCharCode(n.which),/^\d+$/.test(s)&&!d(r)?(i=(r.val()+s).replace(/\D/g,""),a=e(i),a?i.length<=a.length[a.length.length-1]:i.length<=16):void 0},g=function(e){var n,r,a;return n=t(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!d(n)?(a=n.val()+r,a=a.replace(/\D/g,""),a.length>6?!1:void 0):void 0},m=function(e){var n,r,a;return n=t(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)?(a=n.val()+r,a.length<=4):void 0},$=function(e){var n,a,s,i,o;return n=t(e.currentTarget),o=n.val(),i=t.payment.cardType(o)||"unknown",n.hasClass(i)?void 0:(a=function(){var t,e,n;for(n=[],t=0,e=r.length;e>t;t++)s=r[t],n.push(s.type);return n}(),n.removeClass("unknown"),n.removeClass(a.join(" ")),n.addClass(i),n.toggleClass("identified","unknown"!==i),n.trigger("payment.cardType",i))},t.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this},t.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",c),this.on("keypress",u),this.on("keypress",l),this.on("keydown",i),this},t.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",p),this.on("keypress",o),this.on("keydown",s),this.on("keyup",$),this.on("paste",f),this},t.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},t.payment.fn.cardExpiryVal=function(){return t.payment.cardExpiryVal(t(this).val())},t.payment.cardExpiryVal=function(t){var e,n,r,a;return t=t.replace(/\s/g,""),a=t.split("/",2),e=a[0],r=a[1],2===(null!=r?r.length:void 0)&&/^\d+$/.test(r)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),r=n+r),e=parseInt(e,10),r=parseInt(r,10),{month:e,year:r}},t.payment.validateCardNumber=function(t){var n,r;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(n=e(t),n?(r=t.length,y.call(n.length,r)>=0&&(n.luhn===!1||h(t))):!1):!1},t.payment.validateCardExpiry=function(e,n){var r,a,s,i;return"object"==typeof e&&"month"in e&&(i=e,e=i.month,n=i.year),e&&n?(e=t.trim(e),n=t.trim(n),/^\d+$/.test(e)?/^\d+$/.test(n)?parseInt(e,10)<=12?(2===n.length&&(s=(new Date).getFullYear(),s=s.toString().slice(0,2),n=s+n),a=new Date(n,e),r=new Date,a.setMonth(a.getMonth()-1),a.setMonth(a.getMonth()+1,1),a>r):!1:!1:!1):!1},t.payment.validateCardCVC=function(e,r){var a,s;return e=t.trim(e),/^\d+$/.test(e)?r?(a=e.length,y.call(null!=(s=n(r))?s.cvcLength:void 0,a)>=0):e.length>=3&&e.length<=4:!1},t.payment.cardType=function(t){var n;return t?(null!=(n=e(t))?n.type:void 0)||null:null},t.payment.formatCardNumber=function(t){var n,r,a,s;return(n=e(t))?(a=n.length[n.length.length-1],t=t.replace(/\D/g,""),t=t.slice(0,+a+1||9e9),n.format.global?null!=(s=t.match(n.format))?s.join(" "):void 0:(r=n.format.exec(t),null!=r&&r.shift(),null!=r?r.join(" "):void 0)):t}}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};$.observe(".js-card-select-number-field",function(){$(this).payment("formatCardNumber")}),$.observe(".js-card-cvv",function(){$(this).payment("formatCardCVC")}),$.observe(".js-card-select-number-field",function(){var t,e,n;e=$(this).closest("form"),t=e.find(".js-card"),n=e.find(".js-card-select-type-field"),$(this).on("input",function(){var e,r,a,s,i;if(a=$(this).val(),r=$.payment.cardType(a))for(s=0,i=t.length;i>s;s++)e=t[s],$(e).toggleClass("enabled",$(e).attr("data-name")===r),$(e).toggleClass("disabled",$(e).attr("data-name")!==r);else t.removeClass("enabled disabled");n.val(r)})}),$(document).on("blur",".js-card-select-number-field",function(){return $(this).val($.payment.formatCardNumber($(this).val()))}),$(document).on("click",".js-card",function(){var t,e;return t=$(this).closest("form"),e=t.find(".js-card-select-number-field"),e.focus()}),$(document).on("click",".js-enter-new-card",function(t){var e,n;return e=$(this).closest(".js-setup-creditcard"),n=e.find(".js-card-select-number-field"),e.removeClass("has-credit-card"),n.attr("required","required"),n.attr("data-encrypted-name","billing[number]"),t.preventDefault()}),$(document).on("click",".js-cancel-enter-new-card",function(t){var e,n;return e=$(this).closest(".js-setup-creditcard"),n=e.find(".js-card-select-number-field"),e.addClass("has-credit-card"),n.removeAttr("required"),n.removeAttr("data-encrypted-name"),t.preventDefault()}),$(document).on("change",".js-select-country",function(){var e,n,r,a,s,i;return n=$(this).find("option:selected").text(),a={Austria:"ATU000000000",Belgium:"BE0000000000",Bulgaria:"BG000000000...",Croatia:"",Cyprus:"CY000000000X","Czech Republic":"CZ00000000...",Denmark:"DK00 00 00 00",Estonia:"EE000000000",Finland:"FI00000000",France:"FRXX 000000000",Germany:"DE000000000",Greece:"EL000000000",Hungary:"HU00000000",Iceland:"",Ireland:"IE...",Italy:"IT00000000000",Latvia:"LV00000000000",Lithuania:"LT000000000...",Luxembourg:"LU00000000",Malta:"MT00000000",Netherlands:"NL000000000B00",Norway:"",Poland:"PL0000000000",Portugal:"PT000000000",Romania:"RO...",Slovakia:"SK0000000000",Slovenia:"",Spain:"ES...",Sweden:"SE000000000000",Switzerland:"","United Kingdom":"GB..."},r=["Angola","Antigua and Barbuda","Aruba","Bahamas","Belize","Benin","Botswana","Cameroon","Comoros","Congo (Brazzaville)","Congo (Kinshasa)","Cook Islands","Côte d'Ivoire","Djibouti","Dominica","Fiji","French Southern Lands","Ghana","Guyana","Hong Kong","Ireland","Kiribati","Korea, North","Malawi","Maritania","Mauritius","Montserrat","Nauru","Niue","Qatar","Saint Kitts and Nevis","Saint Lucia","Sao Tome and Principe","Seychelles","Sierra Leone","Sint Maarten (Dutch part)","Solomon Islands","Somalia","Suriname","Syria","Togo","Tokelau","Tonga","United Arab Emirates","Vanuatu","Yemen","Zimbabwe"],s=a[n],$(".js-setup-creditcard").toggleClass("is-vat-country",null!=s),i=null!=s?"("+s+")":"",e=$(this).parents(".js-setup-creditcard").find(".js-vat-help-text"),e.html(i),"United States of America"!==n?($(".js-setup-creditcard").addClass("is-international"),$(".js-select-state").removeAttr("required").val("")):($(".js-setup-creditcard").removeClass("is-international"),$(".js-select-state").attr("required","required")),t.call(r,n)>=0?($(".js-postal-code-form").hide(),$(".js-postal-code-field").removeAttr("required").val("")):($(".js-postal-code-form").show(),$(".js-postal-code-field").attr("required","required"))
})}.call(this),function(){$(document).on("click",".js-toggle-currency",function(){return $(".js-currency").toggleClass("is-hidden"),!1})}.call(this),function(){$(document).on("click:prepare",".minibutton.disabled",function(t){t.preventDefault(),t.stopPropagation()})}.call(this),function(){var t,e,n;t=function(t){return $(t).closest(".js-check-all-container")[0]||document.body},e=function(t,e,n){e.checked!==n&&(e.checked=n,$(e).fire("change",{relatedTarget:t,async:!0}))},$(document).on("change","input.js-check-all",function(n){var r,a,s,i,o;if(!$(n.relatedTarget).is("input.js-check-all-item")){for(r=$(t(this)),a=r.find("input.js-check-all-item"),i=0,o=a.length;o>i;i++)s=a[i],e(this,s,this.checked);a.removeClass("is-last-changed")}}),n=null,$(document).on("mousedown","input.js-check-all-item",function(t){n=t.shiftKey}),$(document).on("change","input.js-check-all-item",function(r){var a,s,i,o,c,l,u,d,h,f,m,p,g,v;if(!$(r.relatedTarget).is("input.js-check-all, input.js-check-all-item")){if(a=$(t(this)),i=a.find("input.js-check-all")[0],s=a.find("input.js-check-all-item"),n&&(d=s.filter(".is-last-changed")[0]))for(o=s.toArray(),g=[o.indexOf(d),o.indexOf(this)].sort(),h=g[0],l=g[1],v=o.slice(h,+l+1||9e9),m=0,p=v.length;p>m;m++)u=v[m],e(this,u,this.checked);n=null,s.removeClass("is-last-changed"),$(this).addClass("is-last-changed"),f=s.length,c=function(){var t,e,n;for(n=[],t=0,e=s.length;e>t;t++)u=s[t],u.checked&&n.push(u);return n}().length,e(this,i,c===f)}}),$(document).on("change","input.js-check-all-item",function(){var e,n,r;e=$(t(this)),n=e.find(".js-check-all-count"),n.length&&(r=e.find("input.js-check-all-item:checked").length,n.text(r))})}.call(this),function(){var t;null==window.GitHub&&(window.GitHub={}),window.GitHub.assetHostUrl=null!=(t=$("link[rel=assets]").prop("href"))?t:"/"}.call(this),function(){var t,e;ZeroClipboard.config({moviePath:""+GitHub.assetHostUrl+"flash/ZeroClipboard.v1.3.2.swf",trustedOrigins:[location.hostname],allowScriptAccess:"always",cacheBust:null!=(e=/MSIE/.test(navigator.userAgent)||/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/.test(navigator.userAgent))?e:{"true":!1}}),$.observe("button.js-zeroclipboard",t=function(t){var e;e=new ZeroClipboard(t),e.on("mouseover",function(){var e,n;return $(t).hasClass("js-zeroclipboard-no-tooltip")?!0:($("#global-zeroclipboard-html-bridge").addClass("tooltipped tooltipped-s"),n=$(t).attr("aria-label"),e=$("#global-zeroclipboard-html-bridge").attr("aria-label",n||"Copy to clipboard."))}),e.on("mouseout",function(){return $("#global-zeroclipboard-html-bridge").removeClass("tooltipped tooltipped-s")}),e.on("complete",function(){var e,n;return n=$(t).attr("data-copied-hint"),e=$("#global-zeroclipboard-html-bridge").attr("aria-label",n||"Copied!")}),e.on("noflash wrongflash",function(){return $(t).remove()})})}.call(this),function(){$(document).on("ajaxBeforeSend",".js-new-comment-form",function(t){return this===t.target?$(this).data("remote-xhr")?!1:void 0:void 0}),$(document).on("ajaxSend",".js-new-comment-form",function(t){return this===t.target?$(this).find(".js-comment-form-error").hide():void 0}),$(document).on("ajaxSuccess",".js-new-comment-form",function(t,e,n,r){var a,s,i,o;if(this===t.target){this.reset(),$(this).find(".js-comment-field").trigger("validation:field:change"),$(this).find(".js-write-tab").click(),o=r.updateContent;for(i in o)s=o[i],a=$(i),a[0]||console.warn("couldn't find "+i+" for immediate update"),a.updateContent(s)}}),$(document).on("ajaxError",".js-new-comment-form",function(t,e){var n,r;if(this===t.target)return r="There was an error",422===e.status&&(n=JSON.parse(e.responseText),n.errors&&(r+=" — your comment ",r+=" "+n.errors.join(", ")),r+="."),$(this).find(".js-comment-form-error").show().text(r),!1})}.call(this),function(){var t,e,n;t=new WeakMap,e=function(e){var n,r,a,s;for(s=[],r=0,a=e.length;a>r;r++)n=e[r],t.get(n)?s.push(void 0):s.push(t.set(n,$(n).text()));return s},n=function(e,n){return e.text(function(){return n.value.trim()?this.getAttribute("data-comment-text"):t.get(this)})},$(document).onFocusedInput(".js-comment-field",function(){var t;return t=$(this).closest("form").find(".js-comment-and-button"),t.length?(e(t),function(){n(t,this)}):void 0})}.call(this),function(){$(document).on("click",".js-comment-edit-button",function(){var t;return t=$(this).closest(".js-comment"),t.addClass("is-comment-editing"),t.find(".js-comment-field").focus().trigger("change"),!1}),$(document).on("click",".js-comment-cancel-button",function(){var t;return t=$(this).closest("form"),t.hasDirtyFields()&&!confirm($(this).attr("data-confirm-text"))?!1:(t[0].reset(),$(this).closest(".js-comment").removeClass("is-comment-editing"),!1)}),$(document).on("ajaxSend",".js-comment-delete, .js-comment-update, .js-issue-update",function(t,e){var n,r;return r=$(this).closest(".js-comment"),r.addClass("is-comment-loading"),r.find(".minibutton").addClass("disabled"),(n=r.attr("data-body-version"))?e.setRequestHeader("X-Body-Version",n):void 0}),$(document).on("ajaxError",".js-comment-update",function(t,e,n,r){var a,s,i,o;if(console.error("ajaxError for js-comment-update",r),422===e.status)try{if(s=JSON.parse(e.responseText),a=$(this).closest(".js-comment"),s.stale)return e.stale=!0,a.addClass("is-comment-stale"),a.find(".minibutton").addClass("disabled"),a.hasClass("is-updating-task-list")&&window.location.reload(),t.preventDefault();if(s.errors)return i="There was an error posting your comment: "+s.errors.join(", "),a.find(".js-comment-update-error").text(i).show(),t.preventDefault()}catch(o){return o=o,console.error("Error trying to handle ajaxError for js-comment-update: "+o)}}),$(document).on("ajaxComplete",".js-comment-delete, .js-comment-update",function(t,e){var n;return n=$(this).closest(".js-comment"),n.removeClass("is-comment-loading"),n.find(".minibutton").removeClass("disabled"),e.stale?n.find(".form-actions button[type=submit].minibutton").addClass("disabled"):void 0}),$(document).on("ajaxSuccess",".js-comment-delete",function(){var t,e;return t=$(this).closest(".js-comment"),e=$(this).closest(".js-comment-container"),e.length||(e=t),e.fadeOut(function(){return t.removeClass("is-comment-editing")})}),$(document).on("ajaxSuccess",".js-comment-update",function(t,e,n,r){var a,s,i,o,c,l;for(a=$(this).closest(".js-comment"),s=$(this).closest(".js-comment-container"),s.length||(s=a),a.find(".js-comment-body").html(r.body),a.find(".js-comment-update-error").hide(),a.attr("data-body-version",r.newBodyVersion),l=a.find("input, textarea"),o=0,c=l.length;c>o;o++)i=l[o],i.defaultValue=i.value;return a.removeClass("is-comment-editing"),s.pageUpdate()}),$(document).on("ajaxSuccess",".js-issue-update",function(t,e,n,r){var a,s,i,o,c;for(a=$(this).parents(".js-details-container"),a.find(".js-details-target").last().click(),null!=r.issue_title&&(a.find(".js-issue-title").text(r.issue_title),a.closest(".js-issues-results").find(".js-merge-pull-request textarea").val(r.issue_title)),document.title=r.page_title,c=a.find("input"),i=0,o=c.length;o>i;i++)s=c[i],s.defaultValue=s.value;return a.pageUpdate()})}.call(this),function(){$(document).on("focusin",".js-write-bucket",function(){return $(this).addClass("focused")}),$(document).on("focusout",".js-write-bucket",function(){return $(this).removeClass("focused")})}.call(this),function(){$(document).onFocusedKeydown(".js-comment-field",function(){return function(t){var e;return"ctrl+L"!==t.hotkey&&"meta+L"!==t.hotkey||!(e=$(this).parents(".js-previewable-comment-form").find(".js-enable-fullscreen"))?void 0:(e.click(),!1)}})}.call(this),function(){var t;$(document).on("click","tr[data-remote] .add-line-comment",function(){var e,n;return $(this).hasClass("loading")?!1:($(this).closest(".file").find(".js-show-inline-comments-toggle").prop("checked",!0).trigger("change"),n=$(this).closest("tr"),e=n.next("tr.inline-comments"),e.length?t(e):($(this).addClass("loading"),$.ajax({context:this,url:n.attr("data-remote"),success:function(e){return n.after(e).pageUpdate(),t(n.next("tr.inline-comments"))},complete:function(){return $(this).removeClass("loading")}})))}),t=function(t){return t.find(".js-write-tab").click(),t.addClass("show-inline-comment-form").find(".js-comment-field").focus()},$(document).on("quote:selection",".js-line-comments",function(){$(this).find(".js-show-inline-comment-form").click()}),$(document).on("click",".js-show-inline-comment-form",function(){return t($(this).closest(".inline-comments")),!1}),$(document).on("click",".js-hide-inline-comment-form",function(){var t;return t=$(this).closest(".inline-comments"),t.removeClass("show-inline-comment-form"),t.find(".inline-comment-form .js-comment-field").val(""),t.find(".js-comments-holder").children().visible().length||t.remove(),!1}),$(document).onFocusedKeydown(".inline-comment-form .js-comment-field",function(){return function(t){var e;if(!$(this).hasClass("js-navigation-enable"))return"esc"===t.hotkey&&0===this.value.length?(e=$(this).closest(".inline-comments"),e.find(".js-hide-inline-comment-form").click(),!1):void 0}}),$(document).on("ajaxSend",".js-inline-comment-form",function(){return $(this).find(".ajaxindicator").show()}),$(document).on("ajaxComplete",".js-inline-comment-form",function(){return $(this).find(".ajaxindicator").hide()}),$(document).on("ajaxSuccess",".js-inline-comment-form",function(t,e,n,r){var a,s;if(this===t.target)return s=$(this).closest(".js-line-comments"),s.find(".js-comments-holder").append(r),s.find(".js-hide-inline-comment-form").click(),a=s.closest(".inline-comments").find(".comment-count .counter"),a.text(parseInt(a.text().replace(",",""))+1),s.closest(".inline-comments").pageUpdate()}),$(document).on("ajaxSuccess",".inline-comments .js-comment-delete",function(){var t,e;return t=$(this).closest(".inline-comments"),e=$(this).closest(".timeline-comment"),e.remove(),setTimeout(function(){return t.find(".js-comments-holder").children().visible().length?void 0:t.remove()},500)})}.call(this),function(){var t,e;$(document).on("click",".js-write-tab",function(){var t;return t=$(this).closest(".js-previewable-comment-form"),t.addClass("write-selected").removeClass("preview-selected"),t.find(".tabnav-tab").removeClass("selected"),$(this).addClass("selected"),!1}),$(document).on("click",".js-preview-tab",function(){var n;return n=$(this).closest(".js-previewable-comment-form"),n.addClass("preview-selected").removeClass("write-selected"),n.find(".tabnav-tab").removeClass("selected"),$(this).addClass("selected"),t(n),e(n),!1}),e=function(t){var e;return e=t.find(".comment-body"),e.html("<p>Loading preview&hellip;</p>"),$.ajax({context:t[0],type:"POST",url:t.attr("data-preview-url"),data:{text:t.find(".js-comment-field").val()},success:function(t){return e.html(t||"<p>Nothing to preview</p>")}})},$(document).onFocusedKeydown(".js-comment-field",function(){return function(t){var e;return"ctrl+P"!==t.hotkey&&"meta+P"!==t.hotkey||(e=$(this).closest(".js-previewable-comment-form"),!e.hasClass("write-selected"))?void 0:($(this).blur(),e.find(".preview-tab").click(),t.stopImmediatePropagation(),!1)}}),t=function(t){return $(document).off("keydown.unpreview"),$(document).on("keydown.unpreview",function(e){return"ctrl+P"===e.hotkey||"meta+P"===e.hotkey?(t.find(".js-write-tab").click(),t.find(".js-comment-field").focus(),$(document).off("keydown.unpreview"),!1):void 0})}}.call(this),function(){$(document).on("pjax:send",".context-loader-container",function(){var t;return t=$(this).find(".context-loader").first(),t.length?t.addClass("is-context-loading"):$(".page-context-loader").addClass("is-context-loading")}),$(document).on("pjax:complete",".context-loader-container",function(t){return $(t.target).find(".context-loader").first().removeClass("is-context-loading"),$(".page-context-loader").removeClass("is-context-loading"),$(document.body).removeClass("disables-context-loader")}),$(document).on("pjax:timeout",".context-loader-container",function(){return!1})}.call(this),function(t){t.Jcrop=function(e,n){function r(t){return Math.round(t)+"px"}function a(t){return B.baseClass+"-"+t}function s(){return t.fx.step.hasOwnProperty("backgroundColor")}function i(e){var n=t(e).offset();return[n.left,n.top]}function o(t){return[t.pageX-M[0],t.pageY-M[1]]}function c(e){"object"!=typeof e&&(e={}),B=t.extend(B,e),t.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof B[e]&&(B[e]=function(){})})}function l(t,e,n){if(M=i(R),me.setCursor("move"===t?t:t+"-resize"),"move"===t)return me.activateHandlers(d(e),g,n);var r=de.getFixed(),a=h(t),s=de.getCorner(h(a));de.setPressed(de.getCorner(a)),de.setCurrent(s),me.activateHandlers(u(t,r),g,n)}function u(t,e){return function(n){if(B.aspectRatio)switch(t){case"e":n[1]=e.y+1;break;case"w":n[1]=e.y+1;break;case"n":n[0]=e.x+1;break;case"s":n[0]=e.x+1}else switch(t){case"e":n[1]=e.y2;break;case"w":n[1]=e.y2;break;case"n":n[0]=e.x2;break;case"s":n[0]=e.x2}de.setCurrent(n),fe.update()}}function d(t){var e=t;return pe.watchKeys(),function(t){de.moveOffset([t[0]-e[0],t[1]-e[1]]),e=t,fe.update()}}function h(t){switch(t){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function f(t){return function(e){return B.disabled?!1:"move"!==t||B.allowMove?(M=i(R),re=!0,l(t,o(e)),e.stopPropagation(),e.preventDefault(),!1):!1}}function m(t,e,n){var r=t.width(),a=t.height();r>e&&e>0&&(r=e,a=e/t.width()*t.height()),a>n&&n>0&&(a=n,r=n/t.height()*t.width()),ee=t.width()/r,ne=t.height()/a,t.width(r).height(a)}function p(t){return{x:t.x*ee,y:t.y*ne,x2:t.x2*ee,y2:t.y2*ne,w:t.w*ee,h:t.h*ne}}function g(){var t=de.getFixed();t.w>B.minSelect[0]&&t.h>B.minSelect[1]?(fe.enableHandles(),fe.done()):fe.release(),me.setCursor(B.allowSelect?"crosshair":"default")}function v(t){if(B.disabled)return!1;if(!B.allowSelect)return!1;re=!0,M=i(R),fe.disableHandles(),me.setCursor("crosshair");var e=o(t);return de.setPressed(e),fe.update(),me.activateHandlers($,g,"touch"===t.type.substring(0,5)),pe.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}function $(t){de.setCurrent(t),fe.update()}function b(){var e=t("<div></div>").addClass(a("tracker"));return O&&e.css({opacity:0,backgroundColor:"white"}),e}function y(t){Y.removeClass().addClass(a("holder")).addClass(t)}function j(t,e){function n(){window.setTimeout($,d)}var r=t[0]/ee,a=t[1]/ne,s=t[2]/ee,i=t[3]/ne;if(!ae){var o=de.flipCoords(r,a,s,i),c=de.getFixed(),l=[c.x,c.y,c.x2,c.y2],u=l,d=B.animationDelay,h=o[0]-l[0],f=o[1]-l[1],m=o[2]-l[2],p=o[3]-l[3],g=0,v=B.swingSpeed;r=u[0],a=u[1],s=u[2],i=u[3],fe.animMode(!0);var $=function(){return function(){g+=(100-g)/v,u[0]=Math.round(r+g/100*h),u[1]=Math.round(a+g/100*f),u[2]=Math.round(s+g/100*m),u[3]=Math.round(i+g/100*p),g>=99.8&&(g=100),100>g?(x(u),n()):(fe.done(),fe.animMode(!1),"function"==typeof e&&e.call(ge))}}();n()}}function w(t){x([t[0]/ee,t[1]/ne,t[2]/ee,t[3]/ne]),B.onSelect.call(ge,p(de.getFixed())),fe.enableHandles()}function x(t){de.setPressed([t[0],t[1]]),de.setCurrent([t[2],t[3]]),fe.update()}function k(){return p(de.getFixed())}function C(){return de.getFixed()}function S(t){c(t),E()}function _(){B.disabled=!0,fe.disableHandles(),fe.setCursor("default"),me.setCursor("default")}function T(){B.disabled=!1,E()}function D(){fe.done(),me.activateHandlers(null,null)}function A(){Y.remove(),N.show(),N.css("visibility","visible"),t(e).removeData("Jcrop")}function P(t,e){fe.release(),_();var n=new Image;n.onload=function(){var r=n.width,a=n.height,s=B.boxWidth,i=B.boxHeight;R.width(r).height(a),R.attr("src",t),V.attr("src",t),m(R,s,i),H=R.width(),K=R.height(),V.width(H).height(K),oe.width(H+2*ie).height(K+2*ie),Y.width(H).height(K),he.resize(H,K),T(),"function"==typeof e&&e.call(ge)},n.src=t}function L(t,e,n){var r=e||B.bgColor;B.bgFade&&s()&&B.fadeTime&&!n?t.animate({backgroundColor:r},{queue:!1,duration:B.fadeTime}):t.css("backgroundColor",r)}function E(t){B.allowResize?t?fe.enableOnly():fe.enableHandles():fe.disableHandles(),me.setCursor(B.allowSelect?"crosshair":"default"),fe.setCursor(B.allowMove?"move":"default"),B.hasOwnProperty("trueSize")&&(ee=B.trueSize[0]/H,ne=B.trueSize[1]/K),B.hasOwnProperty("setSelect")&&(w(B.setSelect),fe.done(),delete B.setSelect),he.refresh(),B.bgColor!=ce&&(L(B.shade?he.getShades():Y,B.shade?B.shadeColor||B.bgColor:B.bgColor),ce=B.bgColor),le!=B.bgOpacity&&(le=B.bgOpacity,B.shade?he.refresh():fe.setBgOpacity(le)),X=B.maxSize[0]||0,Q=B.maxSize[1]||0,Z=B.minSize[0]||0,te=B.minSize[1]||0,B.hasOwnProperty("outerImage")&&(R.attr("src",B.outerImage),delete B.outerImage),fe.refresh()}var M,B=t.extend({},t.Jcrop.defaults),I=navigator.userAgent.toLowerCase(),O=/msie/.test(I),F=/msie [1-6]\./.test(I);"object"!=typeof e&&(e=t(e)[0]),"object"!=typeof n&&(n={}),c(n);var q={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},N=t(e),z=!0;if("IMG"==e.tagName){if(0!=N[0].width&&0!=N[0].height)N.width(N[0].width),N.height(N[0].height);else{var U=new Image;U.src=N[0].src,N.width(U.width),N.height(U.height)}var R=N.clone().removeAttr("id").css(q).show();R.width(N.width()),R.height(N.height()),N.after(R).hide()}else R=N.css(q).show(),z=!1,null===B.shade&&(B.shade=!0);m(R,B.boxWidth,B.boxHeight);var H=R.width(),K=R.height(),Y=t("<div />").width(H).height(K).addClass(a("holder")).css({position:"relative",backgroundColor:B.bgColor}).insertAfter(N).append(R);B.addClass&&Y.addClass(B.addClass);var V=t("<div />"),W=t("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),J=t("<div />").width("100%").height("100%").css("zIndex",320),G=t("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=de.getFixed();B.onDblClick.call(ge,t)}).insertBefore(R).append(W,J);z&&(V=t("<img />").attr("src",R.attr("src")).css(q).width(H).height(K),W.append(V)),F&&G.css({overflowY:"hidden"});var X,Q,Z,te,ee,ne,re,ae,se,ie=B.boundary,oe=b().width(H+2*ie).height(K+2*ie).css({position:"absolute",top:r(-ie),left:r(-ie),zIndex:290}).mousedown(v),ce=B.bgColor,le=B.bgOpacity;M=i(R);var ue=function(){function t(){var t,e={},n=["touchstart","touchmove","touchend"],r=document.createElement("div");try{for(t=0;t<n.length;t++){var a=n[t];a="on"+a;var s=a in r;s||(r.setAttribute(a,"return;"),s="function"==typeof r[a]),e[n[t]]=s}return e.touchstart&&e.touchend&&e.touchmove}catch(i){return!1}}function e(){return B.touchSupport===!0||B.touchSupport===!1?B.touchSupport:t()}return{createDragger:function(t){return function(e){return B.disabled?!1:"move"!==t||B.allowMove?(M=i(R),re=!0,l(t,o(ue.cfilter(e)),!0),e.stopPropagation(),e.preventDefault(),!1):!1}},newSelection:function(t){return v(ue.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:t,support:e()}}(),de=function(){function t(t){t=i(t),m=h=t[0],p=f=t[1]}function e(t){t=i(t),u=t[0]-m,d=t[1]-p,m=t[0],p=t[1]}function n(){return[u,d]}function r(t){var e=t[0],n=t[1];0>h+e&&(e-=e+h),0>f+n&&(n-=n+f),p+n>K&&(n+=K-(p+n)),m+e>H&&(e+=H-(m+e)),h+=e,m+=e,f+=n,p+=n}function a(t){var e=s();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}}function s(){if(!B.aspectRatio)return c();var t,e,n,r,a=B.aspectRatio,s=B.minSize[0]/ee,i=B.maxSize[0]/ee,u=B.maxSize[1]/ne,d=m-h,g=p-f,v=Math.abs(d),$=Math.abs(g),b=v/$;return 0===i&&(i=10*H),0===u&&(u=10*K),a>b?(e=p,n=$*a,t=0>d?h-n:n+h,0>t?(t=0,r=Math.abs((t-h)/a),e=0>g?f-r:r+f):t>H&&(t=H,r=Math.abs((t-h)/a),e=0>g?f-r:r+f)):(t=m,r=v/a,e=0>g?f-r:f+r,0>e?(e=0,n=Math.abs((e-f)*a),t=0>d?h-n:n+h):e>K&&(e=K,n=Math.abs(e-f)*a,t=0>d?h-n:n+h)),t>h?(s>t-h?t=h+s:t-h>i&&(t=h+i),e=e>f?f+(t-h)/a:f-(t-h)/a):h>t&&(s>h-t?t=h-s:h-t>i&&(t=h-i),e=e>f?f+(h-t)/a:f-(h-t)/a),0>t?(h-=t,t=0):t>H&&(h-=t-H,t=H),0>e?(f-=e,e=0):e>K&&(f-=e-K,e=K),l(o(h,f,t,e))}function i(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>H&&(t[0]=H),t[1]>K&&(t[1]=K),[Math.round(t[0]),Math.round(t[1])]}function o(t,e,n,r){var a=t,s=n,i=e,o=r;return t>n&&(a=n,s=t),e>r&&(i=r,o=e),[a,i,s,o]}function c(){var t,e=m-h,n=p-f;return X&&Math.abs(e)>X&&(m=e>0?h+X:h-X),Q&&Math.abs(n)>Q&&(p=n>0?f+Q:f-Q),te/ne&&Math.abs(n)<te/ne&&(p=n>0?f+te/ne:f-te/ne),Z/ee&&Math.abs(e)<Z/ee&&(m=e>0?h+Z/ee:h-Z/ee),0>h&&(m-=h,h-=h),0>f&&(p-=f,f-=f),0>m&&(h-=m,m-=m),0>p&&(f-=p,p-=p),m>H&&(t=m-H,h-=t,m-=t),p>K&&(t=p-K,f-=t,p-=t),h>H&&(t=h-K,p-=t,f-=t),f>K&&(t=f-K,p-=t,f-=t),l(o(h,f,m,p))}function l(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var u,d,h=0,f=0,m=0,p=0;return{flipCoords:o,setPressed:t,setCurrent:e,getOffset:n,moveOffset:r,getCorner:a,getFixed:s}}(),he=function(){function e(t,e){m.left.css({height:r(e)}),m.right.css({height:r(e)})}function n(){return a(de.getFixed())}function a(t){m.top.css({left:r(t.x),width:r(t.w),height:r(t.y)}),m.bottom.css({top:r(t.y2),left:r(t.x),width:r(t.w),height:r(K-t.y2)}),m.right.css({left:r(t.x2),width:r(H-t.x2)}),m.left.css({width:r(t.x)})}function s(){return t("<div />").css({position:"absolute",backgroundColor:B.shadeColor||B.bgColor}).appendTo(f)}function i(){h||(h=!0,f.insertBefore(R),n(),fe.setBgOpacity(1,0,1),V.hide(),o(B.shadeColor||B.bgColor,1),fe.isAwake()?l(B.bgOpacity,1):l(1,1))}function o(t,e){L(d(),t,e)}function c(){h&&(f.remove(),V.show(),h=!1,fe.isAwake()?fe.setBgOpacity(B.bgOpacity,1,1):(fe.setBgOpacity(1,1,1),fe.disableHandles()),L(Y,0,1))}function l(t,e){h&&(B.bgFade&&!e?f.animate({opacity:1-t},{queue:!1,duration:B.fadeTime}):f.css({opacity:1-t}))}function u(){B.shade?i():c(),fe.isAwake()&&l(B.bgOpacity)}function d(){return f.children()}var h=!1,f=t("<div />").css({position:"absolute",zIndex:240,opacity:0}),m={top:s(),left:s().height(K),right:s().height(K),bottom:s()};return{update:n,updateRaw:a,getShades:d,setBgColor:o,enable:i,disable:c,resize:e,refresh:u,opacity:l}}(),fe=function(){function e(e){var n=t("<div />").css({position:"absolute",opacity:B.borderOpacity}).addClass(a(e));return W.append(n),n}function n(e,n){var r=t("<div />").mousedown(f(e)).css({cursor:e+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+e);return ue.support&&r.bind("touchstart.jcrop",ue.createDragger(e)),J.append(r),r}function s(t){var e=B.handleSize,r=n(t,_++).css({opacity:B.handleOpacity}).addClass(a("handle"));return e&&r.width(e).height(e),r}function i(t){return n(t,_++).addClass("jcrop-dragbar")}function o(t){var e;for(e=0;e<t.length;e++)A[t[e]]=i(t[e])}function c(t){var n,r;for(r=0;r<t.length;r++){switch(t[r]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}T[t[r]]=e(n)}}function l(t){var e;for(e=0;e<t.length;e++)D[t[e]]=s(t[e])}function u(t,e){B.shade||V.css({top:r(-e),left:r(-t)}),G.css({top:r(e),left:r(t)})}function d(t,e){G.width(Math.round(t)).height(Math.round(e))}function h(){var t=de.getFixed();de.setPressed([t.x,t.y]),de.setCurrent([t.x2,t.y2]),m()}function m(t){return S?g(t):void 0}function g(t){var e=de.getFixed();d(e.w,e.h),u(e.x,e.y),B.shade&&he.updateRaw(e),S||$(),t?B.onSelect.call(ge,p(e)):B.onChange.call(ge,p(e))}function v(t,e,n){(S||e)&&(B.bgFade&&!n?R.animate({opacity:t},{queue:!1,duration:B.fadeTime}):R.css("opacity",t))}function $(){G.show(),B.shade?he.opacity(le):v(le,!0),S=!0}function y(){x(),G.hide(),B.shade?he.opacity(1):v(1),S=!1,B.onRelease.call(ge)}function j(){P&&J.show()}function w(){return P=!0,B.allowResize?(J.show(),!0):void 0}function x(){P=!1,J.hide()}function k(t){t?(ae=!0,x()):(ae=!1,w())}function C(){k(!1),h()}var S,_=370,T={},D={},A={},P=!1;B.dragEdges&&t.isArray(B.createDragbars)&&o(B.createDragbars),t.isArray(B.createHandles)&&l(B.createHandles),B.drawBorders&&t.isArray(B.createBorders)&&c(B.createBorders),t(document).bind("touchstart.jcrop-ios",function(e){t(e.currentTarget).hasClass("jcrop-tracker")&&e.stopPropagation()});var L=b().mousedown(f("move")).css({cursor:"move",position:"absolute",zIndex:360});return ue.support&&L.bind("touchstart.jcrop",ue.createDragger("move")),W.append(L),x(),{updateVisible:m,update:g,release:y,refresh:h,isAwake:function(){return S},setCursor:function(t){L.css("cursor",t)},enableHandles:w,enableOnly:function(){P=!0},showHandles:j,disableHandles:x,animMode:k,setBgOpacity:v,done:C}}(),me=function(){function e(e){oe.css({zIndex:450}),e?t(document).bind("touchmove.jcrop",i).bind("touchend.jcrop",c):h&&t(document).bind("mousemove.jcrop",r).bind("mouseup.jcrop",a)}function n(){oe.css({zIndex:290}),t(document).unbind(".jcrop")}function r(t){return u(o(t)),!1}function a(t){return t.preventDefault(),t.stopPropagation(),re&&(re=!1,d(o(t)),fe.isAwake()&&B.onSelect.call(ge,p(de.getFixed())),n(),u=function(){},d=function(){}),!1}function s(t,n,r){return re=!0,u=t,d=n,e(r),!1}function i(t){return u(o(ue.cfilter(t))),!1}function c(t){return a(ue.cfilter(t))}function l(t){oe.css("cursor",t)}var u=function(){},d=function(){},h=B.trackDocument;return h||oe.mousemove(r).mouseup(a).mouseout(a),R.before(oe),{activateHandlers:s,setCursor:l}}(),pe=function(){function e(){B.keySupport&&(s.show(),s.focus())}function n(){s.hide()}function r(t,e,n){B.allowMove&&(de.moveOffset([e,n]),fe.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}function a(t){if(t.ctrlKey||t.metaKey)return!0;se=t.shiftKey?!0:!1;var e=se?10:1;switch(t.keyCode){case 37:r(t,-e,0);break;case 39:r(t,e,0);break;case 38:r(t,0,-e);break;case 40:r(t,0,e);break;case 27:B.allowSelect&&fe.release();break;case 9:return!0}return!1}var s=t('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),i=t("<div />").css({position:"absolute",overflow:"hidden"}).append(s);return B.keySupport&&(s.keydown(a).blur(n),F||!B.fixedSupport?(s.css({position:"absolute",left:"-20px"}),i.append(s).insertBefore(R)):s.insertBefore(R)),{watchKeys:e}}();ue.support&&oe.bind("touchstart.jcrop",ue.newSelection),J.hide(),E(!0);var ge={setImage:P,animateTo:j,setSelect:w,setOptions:S,tellSelect:k,tellScaled:C,setClass:y,disable:_,enable:T,cancel:D,release:fe.release,destroy:A,focus:pe.watchKeys,getBounds:function(){return[H*ee,K*ne]},getWidgetSize:function(){return[H,K]},getScaleFactor:function(){return[ee,ne]},getOptions:function(){return B},ui:{holder:Y,selection:G}};return O&&Y.bind("selectstart",function(){return!1}),N.data("Jcrop",ge),ge},t.fn.Jcrop=function(e,n){var r;return this.each(function(){if(t(this).data("Jcrop")){if("api"===e)return t(this).data("Jcrop");t(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?t.Jcrop.Loader(this,function(){t(this).css({display:"block",visibility:"hidden"}),r=t.Jcrop(this,e),t.isFunction(n)&&n.call(r)}):(t(this).css({display:"block",visibility:"hidden"}),r=t.Jcrop(this,e),t.isFunction(n)&&n.call(r))}),this},t.Jcrop.Loader=function(e,n,r){function a(){i.complete?(s.unbind(".jcloader"),t.isFunction(n)&&n.call(i)):window.setTimeout(a,50)}var s=t(e),i=s[0];s.bind("load.jcloader",a).bind("error.jcloader",function(){s.unbind(".jcloader"),t.isFunction(r)&&r.call(i)}),i.complete&&t.isFunction(n)&&(s.unbind(".jcloader"),n.call(i))},t.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.clearCropFormValues=e(this.clearCropFormValues,this),this.setCropFormValues=e(this.setCropFormValues,this),this.setCurrentSelection=e(this.setCurrentSelection,this),this.setTrueSize=e(this.setTrueSize,this);var n,r,a;this.container=$(t),this.spinner=this.container.find(".profile-picture-spinner"),this.img=this.container.find(".js-croppable-avatar"),this.croppedX=this.container.find(".js-crop-cropped_x"),this.croppedY=this.container.find(".js-crop-cropped_y"),this.croppedW=this.container.find(".js-crop-cropped_width"),this.croppedH=this.container.find(".js-crop-cropped_height"),n=this.img.parent("div").width(),a={aspectRatio:1,onSelect:this.setCropFormValues,onRelease:this.clearCropFormValues,bgColor:"",maxSize:[3e3,3e3],boxWidth:n,boxHeight:n},this.setTrueSize(a),this.setCurrentSelection(a),r=this,this.img.Jcrop(a,function(){return r.spinner.addClass("hidden"),r.jcrop=this})}return t.prototype.setTrueSize=function(t){var e,n;return n=parseInt(this.img.data("true-width")),e=parseInt(this.img.data("true-height")),0!==n&&0!==e?t.trueSize=[n,e]:void 0},t.prototype.setCurrentSelection=function(t){var e,n,r,a;return n=parseInt(this.croppedW.val()),e=parseInt(this.croppedH.val()),0!==n&&0!==e?(r=parseInt(this.croppedX.val()),a=parseInt(this.croppedY.val()),t.setSelect=[r,a,r+n,a+e]):void 0},t.prototype.setCropFormValues=function(t){return this.croppedX.val(t.x),this.croppedY.val(t.y),this.croppedW.val(t.w),this.croppedH.val(t.h)},t.prototype.clearCropFormValues=function(){return this.croppedX.val("0"),this.croppedY.val("0"),this.croppedW.val("0"),this.croppedH.val("0")},t}(),$.observe(".js-croppable-container",{add:function(e){return new t(e)}}),$(document).on("afterClose.facebox",function(){return $(".js-avatar-field").val("")})}.call(this),function(){$.observe(".js-ds",function(){var t,e;(e=this.getAttribute("data-url"))&&(t=new XMLHttpRequest,t.open("GET",e,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send())})}.call(this),function(){$(document).on("deferredcontent:error",".js-deferred-content",function(){var t;t=$(this).attr("data-deferred-content-error"),t&&$(this).find(".js-deferred-content-error").text(t)})}.call(this),function(){$(document).on("details:toggled",function(t){var e;return e=$(t.target).find("input[autofocus], textarea[autofocus]").last()[0],e&&document.activeElement!==e?e.focus():void 0})}.call(this),function(){var t,e;$(document).on("reveal.facebox",function(){var t,n;t=$("#facebox"),t.pageUpdate(),n=t.find("input[autofocus], textarea[autofocus]").last()[0],n&&document.activeElement!==n&&n.focus(),$(document).on("keydown",e)}),$(document).on("afterClose.facebox",function(){return $(document).off("keydown",e),$("#facebox :focus").blur()}),e=function(t){var e,n,r,a,s,i;("tab"===(i=t.hotkey)||"shift+tab"===i)&&(t.preventDefault(),n=$("#facebox"),e=n.find("input, .button, textarea").visible(),a="shift+tab"===t.hotkey?-1:1,r=e.index(e.filter(":focus")),s=r+a,s===e.length||-1===r&&"tab"===t.hotkey?e.first().focus():-1===r?e.last().focus():e.get(s).focus())},$.observe("a[rel*=facebox]",t=function(){$(this).facebox()})}.call(this),function(){$(document).on("click",".js-flash-close",function(){var t;return t=$(this).closest(".flash-messages"),$(this).closest(".flash").fadeOut(300,function(){return $(this).remove(),0===t.find(".flash").length?t.remove():void 0})})}.call(this),function(){var t,e,n,r,a;r=new TryStorage(localStorage),e=function(t){var e,a,s,i,o,c,l,u,d,h;if((a=document.getElementById(t))&&(o=document.getElementById("fullscreen_overlay"),c=$(o).find(".js-fullscreen-contents"),u="gh-fullscreen-theme","dark"===r.getItem(u)?($(".js-fullscreen-overlay").addClass("dark-theme"),l="dark"):($(".js-fullscreen-overlay").removeClass("dark-theme"),l="light"),h=$(a).val(),e=$(a).caret(),$(o).attr("data-return-scroll-position",window.pageYOffset),$("body").addClass("fullscreen-overlay-enabled"),$(document).on("keydown",n),$(c).attr("placeholder",$(a).attr("placeholder")),$(c).val(h),$(c).caret(e),c.focus(),i="gh-fullscreen-known-user",s="known"===r.getItem(i),s||r.setItem(i,"known"),r.length))return d="other",t.match(/pull_request_body/g)?d="pull":t.match(/issue_body/g)?d="issue":t.match(/blob_contents/g)?d="blob":t.match(/comment_body/g)&&(d="comment"),$.ajax({url:"/_stats",data:{zenstats:{unique:!s,use_case:d,theme:l}}})},t=function(t){var e,r,a,s,i,o;if(r=document.getElementById(t))return a=document.getElementById("fullscreen_overlay"),i=$(a).find(".js-fullscreen-contents"),o=$(i).val(),e=$(i).caret(),$("body").removeClass("fullscreen-overlay-enabled"),$(document).off("keydown",n),(s=$(a).attr("data-return-scroll-position"))&&window.scrollTo(0,s),null!=window.editor?window.editor.setCode(o):($(r).val(o),$(r).caret(e),$(r).trigger("validation:field:change")),i.val("")},a=!1,n=function(t){return 27===t.keyCode||"ctrl+L"===t.hotkey||"meta+L"===t.hotkey?(a?history.back():window.location.hash="",t.preventDefault()):void 0},$(document).on("click",".js-exit-fullscreen",function(t){a&&(t.preventDefault(),history.back())
}),$(document).on("click",".js-theme-switcher",function(){var t;return $("body, .js-fullscreen-overlay").toggleClass("dark-theme"),t="gh-fullscreen-theme","dark"===r.getItem(t)?r.removeItem(t):r.setItem(t,"dark"),!1}),$.hashChange(function(n){var r,s,i;return i=n.oldURL,s=n.newURL,(r=null!=s?s.match(/\#fullscreen_(.+)$/):void 0)?(a=!!i,e(r[1])):(r=null!=i?i.match(/\#fullscreen_(.+)$/):void 0)?(a=!1,t(r[1])):void 0}),"dark"===r.getItem("gh-fullscreen-theme")&&$(function(){return $("body, .js-fullscreen-overlay").addClass("dark-theme")})}.call(this),function(){var t,e;t=document.referrer,$(document).on("pjax:start",function(){return t=$.pjax.state.url}),e=function(e){return e.href===t&&history.length>1},$(document).on("pjax:click",".js-history-back",function(){return e(this)?!1:void 0}),$(document).on("click",".js-history-back",function(t){return 1!==t.which||t.metaKey||t.ctrlKey?void 0:e(this)?(history.back(),!1):void 0})}.call(this),function(){var t,e,n,r,a,s,i;a=0,n=-1,e=function(t){var e,n,r,a;return e=t.getBoundingClientRect(),r=$(window).height(),a=$(window).width(),0===e.height?!1:e.height<r?e.top>=0&&e.left>=0&&e.bottom<=r&&e.right<=a:(n=Math.ceil(r/2),e.top>=0&&e.top+n<r)},t=function(t){var n,r,a,s,i,o,c;for(s=t.elements,c=[],r=0,a=s.length;a>r;r++)n=s[r],e(n)?c.push(null!=(i=t["in"])?i.call(n,n,t):void 0):c.push(null!=(o=t.out)?o.call(n,n,t):void 0);return c},i=function(e){return document.hasFocus()&&window.scrollY!==n&&(n=window.scrollY,!e.checkPending)?(e.checkPending=!0,window.requestAnimationFrame(function(){return e.checkPending=!1,t(e)})):void 0},r=function(e,n){return 0===n.elements.length&&(window.addEventListener("scroll",n.scrollHandler),$.pageFocused().then(function(){return t(n)})),n.elements.push(e)},s=function(t,e){var n;return n=e.elements.indexOf(t),-1!==n&&e.elements.splice(n,1),0===e.elements.length?window.removeEventListener("scroll",e.scrollHandler):void 0},$.inViewport=function(t,e){var n;return null!=e.call&&(e={"in":e}),n={id:a++,selector:t,"in":e["in"],out:e.out,elements:[],checkPending:!1},n.scrollHandler=function(){return i(n)},$.observe(t,{add:function(t){return r(t,n)},remove:function(t){return s(t,n)}}),n}}.call(this),function(){$.observe(".labeled-button:checked",{add:function(){return $(this).parent("label").addClass("selected")},remove:function(){return $(this).parent("label").removeClass("selected")}})}.call(this),function(){$(document).on("keydown","div.minibutton, span.minibutton",function(t){return"enter"===t.hotkey?($(this).click(),t.preventDefault()):void 0})}.call(this),function(){$(document).on("ajaxSuccess",".js-notice-dismiss",function(){return $(this).closest(".js-notice").fadeOut()})}.call(this),function(){$(document).on("click",".js-permalink-shortcut",function(){return window.location=this.href+window.location.hash,!1})}.call(this),function(){$.support.pjax&&($(document).on("pjax:start",function(t){var e;(e=t.relatedTarget)&&($(e).addClass("pjax-active"),$(e).parents(".js-pjax-active").addClass("pjax-active"))}),$(document).on("pjax:end",function(){$(".pjax-active").removeClass("pjax-active")}))}.call(this),function(){var t;t=function(){var t,e;return e=function(){var e,n,r;for(r=[],e=0,n=arguments.length;n>e;e++)t=arguments[e],r.push(t.split("/",3).join("/"));return r}.apply(this,arguments),e[0]===e[1]},$(document).on("pjax:click","#js-repo-pjax-container a[href]",function(){var e;return e=$(this).prop("pathname"),t(e,location.pathname)?void 0:!1})}.call(this),function(){var t;$.support.pjax&&($.pjax.defaults.fragment="#pjax-body",$.pjaxHeadCache=[],$(t=function(){return $.pjaxHeadCache[document.location.pathname]=$("head [data-pjax-transient]")}),$(document).on("pjax:success",function(t,e){var n,r,a;return a=$.parseHTML(e),r=a[0],"pjax-head"===r.id&&($.pjaxHeadCache[document.location.pathname]=$(r).children()),n=a[2],"pjax-flash"===n.id?$("#js-flash-container").html(n):void 0}),$(document).on("pjax:end",function(){var t,e,n;return t=$.pjaxHeadCache[document.location.pathname],t?($("head [data-pjax-transient]").remove(),n=$(t).not("title, script, link[rel='stylesheet']"),e=$(t).filter("link[rel='stylesheet']"),$(document.head).append(n.attr("data-pjax-transient",!0)),$(document.head).append(e)):void 0}))}.call(this),function(){var t;$.support.pjax&&(t=function(t){return $(t).is("[data-pjax-preserve-scroll]")?!1:0},$(document).on("click","[data-pjax] a, a[data-pjax]",function(e){var n,r,a;if(!$(this).is("[data-skip-pjax]")&&!$(this).is("[data-remote]"))return r=$(this).is("[data-pjax]")?this:$(this).closest("[data-pjax]")[0],a=t(this),(n=$(this).closest("[data-pjax-container]")[0])?$.pjax.click(e,{container:n,scrollTo:a}):void 0}),$(document).on("submit","form[data-pjax]",function(e){var n,r;return r=t(this),(n=$(this).closest("[data-pjax-container]")[0])?$.pjax.submit(e,{container:n,scrollTo:r}):void 0}))}.call(this),function(){$.support.pjax&&($.pjax.defaults.timeout=1e3)}.call(this),function(){$.observe(".js-poll",function(t){$.ajaxPoll({context:t,url:$(t).attr("data-url")})})}.call(this),function(){$(function(){return $(document.body).hasClass("js-print-popup")?(window.print(),setTimeout(window.close,1e3)):void 0})}.call(this),function(){$(document).onFocusedKeydown(".js-quick-submit",function(){return function(t){var e,n;return"ctrl+enter"===t.hotkey||"meta+enter"===t.hotkey?(n=$(this).closest("form"),e=n.find("input[type=submit], button[type=submit]").first(),e.prop("disabled")||n.submit(),!1):void 0}})}.call(this),function(){$(document).on("click",".js-reload",function(){return window.location.reload(),!1})}.call(this),function(){$(document).on("focusin",".js-repo-filter .js-filterable-field",function(){return $(this).closest(".js-repo-filter").find(".js-more-repos-link").click()}),$(document).on("click",".js-repo-filter .js-repo-filter-tab",function(){var t;return t=$(this).closest(".js-repo-filter"),t.find(".js-more-repos-link").click(),t.find(".js-repo-filter-tab").removeClass("filter-selected"),$(this).addClass("filter-selected"),t.find(".js-filterable-field").fire("filterable:change"),!1}),$(document).on("filterable:change",".js-repo-filter .js-repo-list",function(){var t,e;t=$(this).closest(".js-repo-filter"),(e=t.find(".js-repo-filter-tab.filter-selected").attr("data-filter"))&&$(this).children().not(e).hide()}),$(document).on("click:prepare",".js-repo-filter .js-more-repos-link",function(){return $(this).hasClass("is-loading")?!1:void 0}),$(document).on("ajaxSend",".js-repo-filter .js-more-repos-link",function(){return $(this).addClass("is-loading")}),$(document).on("ajaxComplete",".js-repo-filter .js-more-repos-link",function(){return $(this).removeClass("is-loading")}),$(document).on("ajaxSuccess",".js-repo-filter .js-more-repos-link",function(t,e,n,r){var a;return a=$(this).closest(".js-repo-filter"),a.find(".js-repo-list").html(r).pageUpdate(),a.find(".js-filterable-field").fire("filterable:change"),$(this).remove()})}.call(this),function(){var t,e,n,r;r=new TryStorage(sessionStorage),t=function(){var t;return(t=document.querySelector("meta[name=session-resume-id]"))?t.content:window.location.pathname},e=function(){var e,n;n=function(){var t,n,r,a;for(r=$(".js-session-resumable"),a=[],t=0,n=r.length;n>t;t++)e=r[t],e.id&&e.value!==e.defaultValue&&a.push([e.id,e.value]);return a}(),n.length&&r.setItem("session-resume:"+t(),JSON.stringify(n))},n=function(){var e,n,a,s,i,o,c,l,u;if(s="session-resume:"+t(),n=r.getItem(s))for(r.removeItem(s),l=JSON.parse(n),o=0,c=l.length;c>o;o++)u=l[o],a=u[0],i=u[1],(e=document.getElementById(a))&&e.value===e.defaultValue&&(e.value=i)},$(window).on("pageshow",function(){return n()}),$(window).on("pagehide",function(){return e()})}.call(this),function(){$(document).on("ajaxSuccess",".js-social-container",function(t,e,n,r){return $(this).find(".js-social-count").text(r.count)})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;"undefined"!=typeof EventSource&&null!==EventSource&&(navigator.userAgent.match(/iPhone/)||(t=function(){function t(t){this.base=t,this.flush=e(this.flush,this),this.setup=e(this.setup,this),this.readyState=this.CONNECTING,this.listeners={},setImmediate(this.setup)}return t.prototype.CONNECTING=0,t.prototype.OPEN=1,t.prototype.CLOSED=2,t.prototype.setup=function(){var t,e;(e=this.popMessages())&&(t={message:e}),$.ajax({type:"POST",url:this.base,data:t,success:function(t){return function(e,n,r){var a;return(a=r.getResponseHeader("Location"))?(t.pollUrl=a,t.messageUrl=""+t.pollUrl+"/message"):(t.pollUrl=e.pollUrl,t.messageUrl=e.messageUrl),t.pollUrl?(t.readyState=t.OPEN,t.fire("open"),t.readyState===t.OPEN?(t.flush(),t.start()):void 0):t.close()}}(this),error:function(t){return function(){return t.close()}}(this)})},t.prototype.start=function(){this.source=new EventSource(this.pollUrl),this.source.addEventListener("message",function(t){return function(e){var n;n=JSON.parse(e.data),t.fire("message",n)}}(this)),this.source.addEventListener("reopen",function(t){return function(){t.fire("reopen")}}(this)),this.source.addEventListener("error",function(t){return function(){t.source.readyState===EventSource.CLOSED&&t.close()}}(this))},t.prototype.on=function(t,e){var n;return null==(n=this.listeners)[t]&&(n[t]=[]),this.listeners[t].push(e),this},t.prototype.fire=function(){var t,e,r,a,s,i;if(a=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],r=this.listeners[a])for(s=0,i=r.length;i>s;s++)e=r[s],e.apply(this,t)},t.prototype.close=function(){var t;this.readyState=this.CLOSED,null!=(t=this.source)&&t.close(),this.source=null,this.pollUrl=null,this.messageUrl=null,this.fire("close")},t.prototype.send=function(t){null==this.outbox&&(this.outbox=[]),this.outbox.push(t),this.fire("send",t),this.readyState===this.OPEN&&null==this.flushTimeout&&(this.flushTimeout=setTimeout(this.flush,0))},t.prototype.flush=function(){var t;this.messageUrl&&(this.flushTimeout=null,(t=this.popMessages())&&$.ajax({type:"POST",url:this.messageUrl,data:{message:t},error:function(t){return function(){return t.close()}}(this)}))},t.prototype.popMessages=function(){var t;if(this.outbox)return t=this.outbox,this.outbox=null,t},t}(),$.socket=function(e){return new t(e)}))}.call(this),function(){$.socket&&($.fn.socket=function(){var t,e;if((t=this[0])&&$(t).is("link[rel=xhr-socket]"))return e=$(t).data("socket"),e&&e.readyState!==e.CLOSED?e:(e=$.socket(t.href),e.on("open",function(){return $(t).trigger("socket:open",[this])}),e.on("close",function(){return $(t).trigger("socket:close",[this])}),e.on("reopen",function(){return $(t).trigger("socket:reopen",[this])}),e.on("send",function(e){return $(t).trigger("socket:send",[e,this])}),e.on("message",function(e){return $(t).trigger("socket:message",[e,this])}),$(t).data("socket",e),e)})}.call(this),function(){var t,e,n,r,a,s,i;$.fn.socket&&(a={},t={},i=null,n=function(){var t;return null!=i?i:i=(t=$(document.head).find("link[rel=xhr-socket]")[0])?$(t).socket():!1},e=function(t){var e,n;return null!=(e=null!=(n=t.getAttribute("data-channel"))?n.split(/\s+/):void 0)?e:[]},r=function(r){var s,i,o,c,l;if(i=n())for(l=e(r),o=0,c=l.length;c>o;o++)s=l[o],a[s]||(i.send({subscribe:s}),a[s]=!0),null==t[s]&&(t[s]=[]),t[s].push(r)},s=function(n){var r,a,s,i;for(i=e(n),a=0,s=i.length;s>a;a++)r=i[a],t[r]=$(t[r]).not(n).slice(0)},$(document).on("socket:reopen","link[rel=xhr-socket]",function(t,e){var n,r;for(n in a)r=a[n],e.send({subscribe:n})}),$(document).on("socket:message","link[rel=xhr-socket]",function(e,n){var r,a;a=n[0],r=n[1],a&&r&&$(t[a]).trigger("socket:message",[r,a])}),$.observe(".js-socket-channel[data-channel]",{add:r,remove:s}))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){var n;this.textarea=t,this.deactivate=e(this.deactivate,this),this.onNavigationOpen=e(this.onNavigationOpen,this),this.onNavigationKeyDown=e(this.onNavigationKeyDown,this),this.onKeyUp=e(this.onKeyUp,this),this.teardown=e(this.teardown,this),$(this.textarea).on("focusout:delayed.suggester",this.teardown),$(this.textarea.form).on("reset.suggester",this.deactivate),$(this.textarea).on("keyup.suggester",this.onKeyUp),this.suggester=(n=$(this.textarea).attr("data-suggester"))?document.getElementById(n):$(this.textarea).closest(".js-suggester-container").find(".js-suggester")[0],$(this.suggester).on("navigation:keydown.suggester","[data-value]",this.onNavigationKeyDown),$(this.suggester).on("navigation:open.suggester","[data-value]",this.onNavigationOpen),this.loadSuggestions()}var n,r;return t.prototype.types={mention:{match:/(^|\s)(@([a-z0-9\-_\/]*))$/i,replace:"$1@$value ",search:function(t,e){var n,r;return n=$(t).find("ul.mention-suggestions"),r=n.fuzzyFilterSortList(e,{limit:5}),Promise.resolve([n,r])}},emoji:{match:/(^|\s)(:([a-z0-9\-\+_]*))$/i,replace:"$1:$value: ",search:function(t,e){var n,r;return n=$(t).find("ul.emoji-suggestions"),r=n.prefixFilterList(e,{limit:5}),Promise.resolve([n,r])}},hashed:{match:/(^|\s)(\#([a-z0-9\-_\/]*))$/i,replace:"$1#$value ",search:function(t,e){var n,r;return n=$(t).find("ul.hashed-suggestions"),r=n.fuzzyFilterSortList("#"+e,{limit:5}),Promise.resolve([n,r])}}},r=function(t){return t.replace(/`{3,}[^`]*\n(.+)?\n`{3,}/g,"")},n=function(t){var e,n;return(null!=(e=t.match(/`{3,}/g))?e.length:void 0)%2?!0:(null!=(n=r(t).match(/`/g))?n.length:void 0)%2?!0:void 0},t.prototype.teardown=function(){this.deactivate(),$(this.textarea).off(".suggester"),$(this.textarea.form).on(".suggester"),$(this.suggester).off(".suggester")},t.prototype.onKeyUp=function(){return this.checkQuery()?!1:void 0},t.prototype.onNavigationKeyDown=function(t){switch(t.hotkey){case"tab":return this.onNavigationOpen(t),!1;case"esc":return this.deactivate(),!1}},t.prototype.onNavigationOpen=function(t){var e,n,r;return r=$(t.target).attr("data-value"),n=this.textarea.value.substring(0,this.currentSearch.endIndex),e=this.textarea.value.substring(this.currentSearch.endIndex),n=n.replace(this.currentSearch.type.match,this.currentSearch.type.replace.replace("$value",r)),this.textarea.value=n+e,this.deactivate(),this.textarea.focus(),this.textarea.selectionStart=n.length,this.textarea.selectionEnd=n.length,!1},t.prototype.checkQuery=function(){var t,e;if(t=this.searchQuery()){if(t.query===(null!=(e=this.currentSearch)?e.query:void 0))return;return this.currentSearch=t,this.search(t.type,t.query).then(function(e){return function(n){return n?e.activate(t.startIndex):e.deactivate()}}(this)),this.currentSearch.query}this.currentSearch=null,this.deactivate()},t.prototype.activate=function(t){$(this.suggester).css($(this.textarea).textareaSelectionPosition(t+1)),$(this.suggester).hasClass("active")||($(this.suggester).addClass("active"),$(this.textarea).addClass("js-navigation-enable"),$(this.suggester).navigation("push"),$(this.suggester).navigation("focus"))},t.prototype.deactivate=function(){$(this.suggester).hasClass("active")&&($(this.suggester).removeClass("active"),$(this.suggester).find(".suggestions").hide(),$(this.textarea).removeClass("js-navigation-enable"),$(this.suggester).navigation("pop"))},t.prototype.search=function(t,e){return t.search(this.suggester,e).then(function(t){return function(e){var n,r;return n=e[0],r=e[1],r>0?(n.show(),$(t.suggester).navigation("focus"),!0):!1}}(this))},t.prototype.searchQuery=function(){var t,e,r,a,s,i;if(r=this.textarea.selectionEnd,a=this.textarea.value.substring(0,r),!n(a)){i=this.types;for(e in i)if(s=i[e],t=a.match(s.match))return{type:s,text:t[2],query:t[3],startIndex:r-t[2].length,endIndex:r}}},t.prototype.loadSuggestions=function(){return $(this.suggester).children().length?void 0:$.ajax({url:$(this.suggester).attr("data-url"),success:function(t){return function(e){return $(t.suggester).html(e),t.currentSearch=null,t.checkQuery()}}(this)})},t}(),$(document).on("focusin:delayed","textarea[data-suggester],.js-suggester-field",function(){new t(this)})}.call(this),function(){$(document).on("tasklist:change",".js-task-list-container",function(){return $(this).addClass("is-updating-task-list").taskList("disable")}),$(document).on("tasklist:changed",".js-task-list-container",function(t,e,n){var r,a,s,i;return a=$(this).find("form.js-comment-update"),s=a.find("input[name=task_list_key]"),s.length>0||(i=a.find(".js-task-list-field").attr("name").split("[")[0],s=$("<input>",{type:"hidden",name:"task_list_key",value:i}),a.append(s)),n=n?"1":"0",r=$("<input>",{type:"hidden",name:"task_list_checked",value:n}),a.append(r),a.one("ajaxComplete",function(){return r.remove()}),a.submit()}),$(document).on("ajaxSuccess",".js-task-list-container",function(t){return $(t.target).is("form.js-comment-update")?($(this).removeClass("is-updating-task-list"),$(this).taskList("enable")):void 0}),$.pageUpdate(function(){return $(this).find(".js-task-list-container:not(.is-updating-task-list)").taskList("enable")})}.call(this),function(){$(document).on("ajaxBeforeSend",function(t,e,n){var r;n.crossDomain||(r=document.getElementById("js-timeline-marker"))&&e.setRequestHeader("X-Timeline-Last-Modified",$(r).attr("data-last-modified"))})}.call(this),function(t){var e=function(){"use strict";var t="s",n=function(t){var e=-t.getTimezoneOffset();return null!==e?e:0},r=function(t,e,n){var r=new Date;return void 0!==t&&r.setFullYear(t),r.setMonth(e),r.setDate(n),r},a=function(t){return n(r(t,0,2))},s=function(t){return n(r(t,5,2))},i=function(t){var e=t.getMonth()>7,r=e?s(t.getFullYear()):a(t.getFullYear()),i=n(t),o=0>r,c=r-i;return o||e?0!==c:0>c},o=function(){var e=a(),n=s(),r=e-n;return 0>r?e+",1":r>0?n+",1,"+t:e+",0"},c=function(){var t=o();return new e.TimeZone(e.olson.timezones[t])},l=function(t){var e=new Date(2010,6,15,1,0,0,0),n={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":e,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":e,"Asia/Omsk":e,"Asia/Krasnoyarsk":e,"Asia/Irkutsk":e,"Asia/Yakutsk":e,"Asia/Vladivostok":e,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":e,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":e,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return n[t]};return{determine:c,date_is_dst:i,dst_start_for:l}}();e.TimeZone=function(t){"use strict";var n={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},r=t,a=function(){for(var t=n[r],a=t.length,s=0,i=t[0];a>s;s+=1)if(i=t[s],e.date_is_dst(e.dst_start_for(i)))return r=i,void 0},s=function(){return"undefined"!=typeof n[r]};return s()&&a(),{name:function(){return r}}},e.olson={},e.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"!=typeof exports?exports.jstz=e:t.jstz=e}(this),function(){var t,e;e=jstz.determine().name(),"https:"===location.protocol&&(t="secure"),document.cookie="tz="+encodeURIComponent(e)+"; path=/; "+t}.call(this),function(){var t,e,n;n=new TryStorage(sessionStorage),e=function(){return window.performance.timing?void 0:n.setItem("navigationStart",Date.now())},t=function(){return setTimeout(function(){var t,e,r,a,s,i,o,c,l,u,d;if(s={},s.crossBrowserLoadEvent=Date.now(),window.performance.timing){c=window.performance.timing;for(e in c)i=c[e],"number"==typeof i&&(s[e]=i);(t=null!=(l=window.chrome)?"function"==typeof l.loadTimes?null!=(u=l.loadTimes())?u.firstPaintTime:void 0:void 0:void 0)&&(s.chromeFirstPaintTime=Math.round(1e3*t))}else r=n.getItem("navigationStart"),r&&(s.simulatedNavigationStart=r);return a=null!=(d="function"==typeof(o=window.performance).getEntriesByType?o.getEntriesByType("resource"):void 0)?d:[],Object.keys(s).length>1||a.length?$.ajax({url:"/_stats",type:"POST",data:{timing:s,resources:a}}):void 0},0)},$(window).on("pagehide",e),$(window).on("load",t)}.call(this),function(){$(document).on("click",".js-toggler-container .js-toggler-target",function(t){return $(t.target).trigger("toggler:toggle"),0===$(this).parent(".js-toggler-form").length?!1:void 0}),$(document).on("ajaxBeforeSend",".js-toggler-container",function(){return this.classList.remove("success","error"),this.classList.add("loading")}),$(document).on("ajaxComplete",".js-toggler-container",function(){return this.classList.remove("loading")}),$(document).on("ajaxSuccess",".js-toggler-container",function(){return this.classList.add("success")}),$(document).on("ajaxError",".js-toggler-container",function(){return this.classList.add("error")}),$(document).on("toggler:toggle",".js-toggler-container",function(){return this.classList.toggle("on")})}.call(this),function(){var t,e;e=0,t=function(){var t;if(document.hasFocus())return t=$("#js-timeline-marker").attr("data-mark-as-read-url"),t?$.ajax({url:t,type:"post"}):void 0},$.inViewport(".js-unread-item",{"in":function(){return $(this).removeClass("js-unread-item unread-item")}}),$.observe(".js-unread-item",{add:function(){return e++},remove:function(){return e--,0===e?t():void 0}}),$(document).on("socket:message",".js-discussion",function(t){return this===t.target?$(".js-unread-item").removeClass("js-unread-item unread-item"):void 0})}.call(this),function(){var t,e,n;$.fn.updateContent=function(t){var n;return null!=(n=this.data("xhr"))&&n.abort(),e(this[0],t)},$(document).on("socket:message",".js-updatable-content",function(e,r,a){var s;this===e.target&&null==$(this).data("xhr")&&(s=t(this,a).then(function(t){return function(e){return n(t,e)}}(this)),s["catch"](function(t){return function(e){return"XMLHttpRequest abort"!==e.message?console.warn("Failed to update content",t,e):void 0}}(this)))}),t=function(t,e){var n;return null==e&&(e=null),n=$(t).ajax({channel:e}),Promise.resolve(n)["catch"](function(t){throw new Error("XMLHttpRequest "+t.statusText)})},e=function(t,e){return $.preserveInteractivePosition(function(){return $(t).replaceContent(e)})},n=function(t,n){if($(t).hasInteractions())throw new Error("element had interactions");return e(t,n)}}.call(this),function(){$(document).on("upload:complete",".js-upload-avatar-image",function(t){var e;return e=t.upload.result,$.facebox({ajax:"/settings/avatars/"+e.id})})}.call(this),function(){var t,e,n;e=function(t){return t.toLowerCase().replace(/[^a-z0-9\-_]+/gi,".").replace(/\.{2,}/g,".").replace(/^\.|\.$/gi,"")},n=function(t){return"![Uploading "+t+" . . .]()"},t=function(t){return e(t).replace(/\.[^.]+$/,"").replace(/\./g," ")},$(document).on("upload:setup",".js-upload-markdown-image",function(t){var e;return e=$(this).find(".js-comment-field"),e.insertText(n(t.upload.file.name)+"\n"),$(this).trigger("validation:change",!1)}),$(document).on("upload:complete",".js-upload-markdown-image",function(e){var r,a,s;return r=$(this).find(".js-comment-field"),s=n(e.upload.policy.asset.original_name),a="!["+t(e.upload.policy.asset.name)+"]("+e.upload.policy.asset.href+")",r.replaceText(s,a),$(this).trigger("validation:field:change")}),$(document).on("upload:error",".js-upload-markdown-image",function(t){var e,r;return e=$(this).find(".js-comment-field"),r=n(t.upload.policy.asset.original_name),e.replaceText(r,""),$(this).trigger("validation:field:change")}),$(document).on("upload:invalid",".js-upload-markdown-image",function(t){var e,r;return e=$(this).find(".js-comment-field"),r=n(t.upload.file.name),e.replaceText(r,""),$(this).trigger("validation:field:change")})}.call(this),function(){$(document).on("upload:complete",".js-upload-oauth-logo",function(t){var e;return e=$(this).find(".js-image-field"),e.attr("src",t.upload.policy.asset.href),$(this).find("input.js-oauth-application-logo-id").val(t.upload.policy.asset.id),$(this).addClass("has-uploaded-logo")})}.call(this),function(){var t;t=[],$(document).on("upload:setup",".js-upload-release-file",function(e){var n;if(!$("#release_id").val())return e.preventDefault(),t.length>0?t.push(e.upload.ready):(t.push(e.upload.ready),n=function(){var e,n;for(n=[];e=t.pop();)n.push(e());return n},$("button.js-save-draft").trigger("click",n))}),$(document).on("upload:start",".js-upload-release-file",function(){var t;return t=$(this).find(".js-upload-meter"),t.show()}),$(document).on("upload:complete",".js-upload-release-file",function(t){var e,n,r,a;return e=$(this).siblings("ul.js-releases-field"),r=e.find("li.js-template").clone(),r.removeClass("template"),r.removeClass("js-template"),n=t.upload.policy.asset.name||t.upload.policy.asset.href.split("/").pop(),r.find(".filename").val(n),t.upload.policy.asset.size?(a=(t.upload.policy.asset.size/1048576).toFixed(2),r.find(".filesize").text("("+a+"MB)")):r.find(".filesize").text(""),r.find("input[type=hidden].url").val(t.upload.policy.asset.href),r.find("input[type=hidden].id").val(t.upload.policy.asset.id),e.append(r),e.removeClass("not-populated"),e.addClass("is-populated"),$(this).find(".js-upload-meter").hide()}),$(document).on("upload:progress",".js-upload-release-file",function(t){var e;return e=$(this).find(".js-upload-meter"),e.css("width",t.upload.percent+"%")})}.call(this),function(){var t,e,n,r,a,s,i,o,c,l,u,d,h,f,m,p,g,v,b,y,j,w,x,k,C,S=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){function t(){this.uploads=[],this.busy=!1}return t.prototype.upload=function(t,e){var n,r,a,s;return s=e.start||function(){},a=e.progress||function(){},n=e.complete||function(){},r=e.error||function(){},this.uploads.push({file:t,to:e.to,form:e.form||{},header:e.header||{},start:s,progress:a,complete:n,error:r}),this.process()},t.prototype.process=function(){var t,e,n,r,a,s,i;if(!this.busy&&0!==this.uploads.length){n=this.uploads.shift(),this.busy=!0,a=new XMLHttpRequest,a.open("POST",n.to,!0),a.setRequestHeader("X-CSRF-Token",this.token()),s=n.header;for(e in s)r=s[e],a.setRequestHeader(e,r);a.onloadstart=function(){return n.start()},a.onreadystatechange=function(t){return function(){var e;return 4===a.readyState?(204===a.status?(e=a.getResponseHeader("Location"),n.complete({href:e})):201===a.status?n.complete(JSON.parse(a.responseText)):n.error(a),t.busy=!1,t.process()):void 0}}(this),a.onerror=function(){return n.error()},a.upload.onprogress=function(t){var e;return t.lengthComputable?(e=Math.round(100*(t.loaded/t.total)),n.progress(e)):void 0},t=new FormData,i=n.form;for(e in i)r=i[e],t.append(e,r);return t.append("file",n.file),a.send(t)}},t.prototype.token=function(){return $('meta[name="csrf-token"]').attr("content")},t}(),b=["is-default","is-uploading","is-bad-file","is-too-big","is-failed","is-bad-dimensions"],j=function(t,e){return $(t).removeClass(b.join(" ")),$(t).addClass(e)},C=new t,y=function(t,e){var n,r;return e=$(e),r=function(){var n,r,a;return a=s(t,e.attr("data-upload-policy-url")),n=function(n){var r;return e.fire("upload:start",{upload:{file:t}}),r=i(n,e),C.upload(t,r)},r=function(n){var r;return e.fire("upload:invalid",{upload:{file:t}}),r=v(n),j(e,r)},a.then(n,r)},n=$.Event("upload:setup"),e.fire(n,{upload:{file:t,ready:r}}),n.isDefaultPrevented()?void 0:r()},s=function(t,e){return $.ajax({type:"POST",url:e,data:{name:t.name,size:t.size,content_type:t.type,organization_id:$("#alambic_organization").data("id"),repository_id:$("#release_repository_id").val(),release_id:$("#release_id").val(),team_id:$("[data-team-id]").data("team-id")}})},v=function(t){var e,n,r,a,s,i;if(r="is-failed",422!==t.status)return r;if(n=JSON.parse(t.responseText),null!=(null!=n?n.errors:void 0))for(i=n.errors,a=0,s=i.length;s>a;a++)switch(e=i[a],e.field){case"size":return"is-too-big";case"width":case"height":return"is-bad-dimensions";case"content_type":case"name":return"is-bad-file"}return r},i=function(t,e){var n;return e=$(e),n={to:t.upload_url,form:t.form,header:t.header,start:function(){return j(e,"is-uploading")},progress:function(t){return e.fire("upload:progress",{upload:{percent:t}})},complete:function(n){var r;return(null!=(r=t.asset_upload_url)?r.length:void 0)>0&&$.ajax({type:"PUT",url:t.asset_upload_url}),e.fire("upload:complete",{upload:{policy:t,result:n}}),j(e,"is-default")},error:function(n){var r;return e.fire("upload:error",{upload:{policy:t}}),r=v(n),j(e,r)}}},w=function(t){return t.types?S.call(t.types,"Files")>=0:!1},x=function(t){return t.types?S.call(t.types,"text/uri-list")>=0:!1},k=function(t){return t.types?S.call(t.types,"text/plain")>=0:!1},e=function(t,e){var n,r,a,s;for(s=[],r=0,a=t.length;a>r;r++)n=t[r],s.push(y(n,e));return s},n=function(t,e){var n,r,a,s,i,o,c;if(t){for(n=$(e).find(".js-comment-field"),o=t.split("\r\n"),c=[],s=0,i=o.length;i>s;s++)r=o[s],a=l(r)?"\n![]("+r+")\n":r,c.push(n.insertText(a));return c}},r=function(t,e){var n;return n=$(e).find(".js-comment-field"),n.insertText(t)},l=function(t){var e;return e=t.split(".").pop(),"gif"===e||"png"===e||"jpg"===e||"jpeg"===e},o=function(t){return w(t)?"copy":x(t)?"link":k(t)?"copy":"none"},c=function(t){switch(t){case"image/gif":return"image.gif";case"image/png":return"image.png";case"image/jpeg":return"image.jpg"
}},h=function(t){return t.preventDefault()},d=function(t){return t.dataTransfer.dropEffect="none",t.preventDefault()},f=function(t){var e;return e=o(t.dataTransfer),t.dataTransfer.dropEffect=e,$(this).addClass("dragover"),t.stopPropagation(),t.preventDefault()},m=function(t){return t.dataTransfer.dropEffect="none",$(this).removeClass("dragover"),t.stopPropagation(),t.preventDefault()},p=function(t){var a;return $(this).removeClass("dragover"),a=t.dataTransfer,a.types?w(a)?e(a.files,this):x(a)?n(a.getData("text/uri-list"),this):k(a)&&r(a.getData("text/plain"),this):j(this,"is-bad-browser"),t.stopPropagation(),t.preventDefault()},g=function(t){var n,r,a,s,i,o,l;if(null!=(null!=(o=t.clipboardData)?o.items:void 0)){for(l=t.clipboardData.items,s=0,i=l.length;i>s&&(a=l[s],!(r=c(a.type)));s++);if(r)return n=a.getAsFile(),n.name=r,e([n],this),t.preventDefault()}},u=function(t){return $(t.target).hasClass("js-manual-file-chooser")?t.target.files?e(t.target.files,this):j(this,"is-bad-browser"):void 0},a=0,$.observe(".js-uploadable-container",{add:function(){return 0===a++&&(document.addEventListener("drop",h),document.addEventListener("dragover",d)),this.addEventListener("dragenter",f),this.addEventListener("dragover",f),this.addEventListener("dragleave",m),this.addEventListener("drop",p),this.addEventListener("paste",g),this.addEventListener("change",u)},remove:function(){return 0===--a&&(document.removeEventListener("drop",h),document.removeEventListener("dragover",d)),this.removeEventListener("dragenter",f),this.removeEventListener("dragover",f),this.removeEventListener("dragleave",m),this.removeEventListener("drop",p),this.removeEventListener("paste",g),this.removeEventListener("change",u)}}),("undefined"==typeof FormData||null===FormData)&&$(document.documentElement).addClass("no-dnd-uploads")}.call(this),function(){var t,e,n,r,a;n=function(r){var a,s,i,o,c;if(null!=r.checkValidity)return r.checkValidity();if(a=$(r),a.is("[required]")&&!e(r))return!1;if(a.is("[pattern]")&&!t(r))return!1;if(a.is("form"))for(c=r.elements,i=0,o=c.length;o>i;i++)if(s=c[i],!n(s))return!1;return!0},e=function(t){return!!t.value.trim()},t=function(t){var e;return e=new RegExp("^"+$(t).attr("pattern")+"$"),0===t.value.search(e)},r=function(){var t;return t=n(this),t&&$(this).trigger("validation:field:change"),function(){var e;e=n(this),e!==t&&$(this).trigger("validation:field:change"),t=e}},a=["input[pattern]","input[required]","textarea[required]"].join(","),$(document).onFocusedInput(a,r),$(document).on("change",a,r),$.observe(a,function(){$(this).trigger("validation:field:change")}),$(document).on("validation:field:change","form",function(){var t;return t=n(this),$(this).trigger("validation:change",[t])}),$(document).on("validation:change","form",function(t,e){return $(this).find("button[data-disable-invalid]").prop("disabled",!e)}),$(document).on("submit",".js-normalize-submit",function(t){return n(this)?void 0:t.preventDefault()})}.call(this),function(){$(document).on("ajaxSuccess",function(t,e){var n;(n=e.getResponseHeader("X-XHR-Location"))&&(document.location.href=n,t.stopImmediatePropagation())})}.call(this),function(){$(document).on("ajaxSuccess",".js-select-menu:not([data-multiple])",function(){return $(this).menu("deactivate")}),$(document).on("ajaxSend",".js-select-menu:not([data-multiple])",function(){return $(this).addClass("is-loading")}),$(document).on("ajaxComplete",".js-select-menu",function(){return $(this).removeClass("is-loading")}),$(document).on("ajaxError",".js-select-menu",function(){return $(this).addClass("has-error")}),$(document).on("menu:deactivate",".js-select-menu",function(){return $(this).removeClass("is-loading has-error")})}.call(this),function(){$(document).on("navigation:open",".js-select-menu:not([data-multiple]) .js-navigation-item",function(){var t,e;return e=$(this),t=e.closest(".js-select-menu"),t.find(".js-navigation-item.selected").removeClass("selected"),e.addClass("selected"),e.removeClass("indeterminate"),e.find("input[type=radio], input[type=checkbox]").prop("checked",!0).change(),e.fire("selectmenu:selected"),t.hasClass("is-loading")?void 0:t.menu("deactivate")}),$(document).on("navigation:open",".js-select-menu[data-multiple] .js-navigation-item",function(){var t,e;return t=$(this),e=t.hasClass("selected"),t.toggleClass("selected",!e),t.removeClass("indeterminate"),t.find("input[type=radio], input[type=checkbox]").prop("checked",!e).change(),t.fire("selectmenu:selected")})}.call(this),function(){$(document).on("selectmenu:selected",".js-select-menu .js-navigation-item",function(){var t,e,n;return t=$(this).closest(".js-select-menu"),n=$(this).find(".js-select-button-text"),n[0]&&t.find(".js-select-button").html(n.html()),e=$(this).find(".js-select-menu-item-gravatar"),n[0]?t.find(".js-select-button-gravatar").html(e.html()):void 0})}.call(this),function(){$(document).on("selectmenu:change",".js-select-menu .select-menu-list",function(t){var e,n;n=$(this).find(".js-navigation-item"),n.removeClass("last-visible"),n.visible().last().addClass("last-visible"),$(this).is("[data-filterable-for]")||(e=$(t.target).hasClass("filterable-empty"),$(this).toggleClass("filterable-empty",e))})}.call(this),function(){$(document).on("menu:activated selectmenu:load",".js-select-menu",function(){return $(this).find(".js-filterable-field").focus()}),$(document).on("menu:deactivate",".js-select-menu",function(){return $(this).find(".js-filterable-field").val("").trigger("filterable:change")})}.call(this),function(){var t;t=function(t){var e,n,r,a,s;return r=t.currentTarget,e=$(r),e.removeClass("js-load-contents"),e.addClass("is-loading"),e.removeClass("has-error"),a=e.attr("data-contents-url"),n=e.data("contents-data"),s=$.ajax({url:a,data:n}),s.then(function(t){e.removeClass("is-loading"),e.find(".js-select-menu-deferred-content").html(t).pageUpdate(),e.hasClass("active")&&e.fire("selectmenu:load")},function(){e.removeClass("is-loading"),e.addClass("has-error")})},$.observe(".js-select-menu.js-load-contents",{add:function(){$(this).on("mouseenter",t),$(this).on("menu:activate",t)},remove:function(){$(this).off("mouseenter",t),$(this).off("menu:activate",t)}})}.call(this),function(){$(document).on("menu:activate",".js-select-menu",function(){return $(this).find(":focus").blur(),$(this).find(".js-menu-target").addClass("selected"),$(this).find(".js-navigation-container").navigation("push")}),$(document).on("menu:deactivate",".js-select-menu",function(){return $(this).find(".js-menu-target").removeClass("selected"),$(this).find(".js-navigation-container").navigation("pop")}),$(document).on("filterable:change selectmenu:tabchange",".js-select-menu .select-menu-list",function(){return $(this).navigation("refocus")})}.call(this),function(){var t;$(document).on("filterable:change",".js-select-menu .select-menu-list",function(e){var n,r,a,s;(r=this.querySelector(".js-new-item-form"))&&(n=e.relatedTarget.value,""===n||t(this,n)?$(this).removeClass("is-showing-new-item-form"):($(this).addClass("is-showing-new-item-form"),a=r.querySelector(".js-new-item-name"),"innerText"in a?a.innerText=n:a.textContent=n,null!=(s=r.querySelector(".js-new-item-value"))&&(s.value=n))),$(e.target).trigger("selectmenu:change")}),t=function(t,e){var n,r,a,s,i;for(i=t.querySelectorAll(".js-select-button-text"),a=0,s=i.length;s>a;a++)if(n=i[a],r=n.textContent.toLowerCase().trim(),r===e.toLowerCase())return!0;return!1}}.call(this),function(){var t;$(document).on("menu:activate selectmenu:load",".js-select-menu",function(){var t;return t=$(this).find(".js-select-menu-tab"),t.removeClass("selected"),t.first().addClass("selected")}),$(document).on("click",".js-select-menu .js-select-menu-tab",function(){var t;return t=$(this).closest(".js-select-menu"),t.find(".js-select-menu-tab.selected").removeClass("selected"),$(this).addClass("selected"),!1}),t=function(t,e){var n,r,a;a=t.getAttribute("data-tab-filter"),r=$(t).closest(".js-select-menu").find(".js-select-menu-tab-bucket"),n=r.filter(function(){return this.getAttribute("data-tab-filter")===a}),n.toggleClass("selected",e),e&&n.fire("selectmenu:tabchange")},$.observe(".js-select-menu .js-select-menu-tab.selected",{add:function(){return t(this,!0)},remove:function(){return t(this,!1)}})}.call(this),function(){}.call(this),function(){$(function(){var t,e;if(t=$("meta[name=octolytics-script-host]")[0])return null==window._octo&&(window._octo=[]),_octo.push(["enablePerformance"]),_octo.push(["recordPageView"]),e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="//"+t.content+"/assets/api.js",document.getElementsByTagName("head")[0].appendChild(e)})}.call(this),function(){var t;t=function(){function t(){}return $(".js-billing-section").data("contents",$(".js-billing-section").contents()),t.displayCreditCardFields=function(t){var e,n;return e=$(".js-billing-section"),$("input[required]",e).each(function(){return $(this).addClass("js-required")}),n=$(".js-required",e),t?(e.append(e.data("contents")),n.attr("required",!0)):(e.contents().detach(),n.attr("required",!1))},t}(),window.Billing=t}.call(this),function(){var t,e,n,r=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}};e=new TryStorage(localStorage),n=function(t){return t.replace(/^\s+/g,"")},t=function(){function t(t){this.defaultContext=t,this.callbacks={}}return t.prototype.bind=function(t,e){var n,r,a,s,i;for(i=t.split(" "),a=0,s=i.length;s>a;a++)n=i[a],(r=this.callbacks)[n]||(r[n]=[]),this.callbacks[n].push(e);return this},t.getPageInfo=function(){var t,e;return e=$("#js-command-bar-field"),t={},e.length?(e.data("username")&&(t.current_user=e.data("username")),t.search_choice="global",$(".js-search-this-repository:checked").length&&(t.search_choice="this_repo"),e.data("repo")&&(t.repo={name_with_owner:e.data("repo"),branch:e.data("branch"),tree_sha:e.data("sha"),issues_page:!1},$(".js-issues-results").length&&(t.repo.issues_page=!0)),t):{}},t.prototype.trigger=function(){var t,e,n,a,s,i;if(a=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],n=this.callbacks[a],!n)return!0;for(s=0,i=n.length;i>s;s++)if(e=n[s],e.apply(this.context,t)===!1)return!1;return!0},t.prototype.unbind=function(t,e){var n,r,a,s,i;if(t)if(e){for(n=this.callbacks[t],a=s=0,i=n.length;i>s;a=++s)if(r=n[a],r===e){n.splice(a,1);break}}else delete this.callbacks[t];else this.callbacks={};return this},t.prototype.execute=function(t){return new this.defaultContext(this,t).fullMatch().execute()},t.prototype.suggestions=function(t,e){return new this.defaultContext(this,t).partialMatch().suggestions().slice(0,e)},t.prototype.complete=function(e,n){var r;return r=new this.defaultContext(this,e).partialMatch(),t.Store.set(""+r.constructor.name+":"+e,n),r.complete(n)},t}(),t.Store=function(){function t(){}return t.set=function(t,n){e.setItem(t,JSON.stringify(n))},t.get=function(t){return this.parse(e.getItem(t))},t.parse=function(t){var e;try{return JSON.parse(t)}catch(n){return e=n,t}},t.expire=function(t){var n;return n=e.getItem(t),e.removeItem(t),n},t}(),t.RemoteProxy=function(){function t(){}return t.caches={},t.requests={},t.get=function(t,e,n){var r;return this.commandBar=n,null==e.cache_for&&(e.cache_for=36e5),r=(new Date).getTime()-e.cache_for,this.shouldLoad=function(t){return this.isCached(t)?this.caches[t].requested<r?!0:!1:!0},this.shouldLoad(t)?(this.isLoading(t)||(this.requests[t]=$.ajax({url:t,dataType:e.dataType||"json",success:function(n){return function(r){return n.caches[t]={response:e.process(r),requested:(new Date).getTime()}}}(this),error:function(e){return function(){return e.caches[t]={response:[],requested:(new Date).getTime()}}}(this),complete:function(e){return function(){var n;return delete e.requests[t],null!=(n=e.commandBar)?n.trigger("suggest.commandbar"):void 0}}(this)})),this.isCached(t)?this.caches[t].response:[{command:"",description:e.loadingMessage,type:"loading"}]):this.caches[t].response},t.isLoading=function(t){return null!=this.requests[t]},t.isCached=function(t){return null!=this.caches[t]},t}(),t.History=function(){function e(){}var n,r,a;return a=[],r=function(){return t.Store.set("commandbar.history",a.slice(0,50).join("\n"))},n=function(t){var e,n,r,s;for(n=[],r=0,s=a.length;s>r;r++)e=a[r],e.trim()!==t.trim()&&n.push(e);return a=n},e.load=function(){var e;return e=t.Store.get("commandbar.history"),a=null!=e?e.split("\n"):[]},e.add=function(t){return n(t),a.unshift(t),r()},e.get=function(t){return a[t]},e.exists=function(t){return null!=a[t]},e}(),t.History.load(),t.Context=function(){function e(t,e,n){this.commandBar=t,this.text=e,this.parent=n,this.lazyLoad=a(this.lazyLoad,this),this.suggestionCollection=a(this.suggestionCollection,this),this.matches=this.text.match(this.constructor.regex),this.remainder=this.matches?this.text.replace(this.matches[0],""):this.text}return e.contexts=[],e.register=function(t){return this.contexts.push(t)},e.regex=new RegExp(""),e.matches=function(t){return!!t.match(this.regex)},e.help=function(){return{}},e.prototype.override=function(){return!1},e.prototype.search=function(){return!1},e.prototype.suffix=function(){return" "},e.prototype.suggestionOptions=function(){return[]},e.prototype.filter=function(e){var n,r,a,s,i;for(a=this.remainder.trim(),n=[],s=0,i=e.length;i>s;s++)r=e[s],r=t.SuggestionCollection.prepare(r),r.score=r.defaultScore||t.SuggestionCollection.score(r,a,this),0!==r.score&&n.push(r);return n.sort(function(t,e){return e.score-t.score})},e.prototype.suggestionCollection=function(){var e,n,r,a,s,i,o,c,l,u,d,h,f,m,p,g,v;for(l=[],a=[],o=!1,c=0,s=t.getPageInfo(),v=this.constructor.contexts,d=0,m=v.length;m>d;d++)n=v[d],(!n.logged_in||s.current_user)&&(e=new n(this.commandBar,this.remainder,this),u=e.suggestionOptions(),u=this.filter(u),0!==u.length&&(e.override()&&(o=!0),e.search()&&c++,a.push({suggestions:u,override:e.override(),search:e.search()})));if(o){for(i=[],h=0,p=a.length;p>h;h++)r=a[h],(r.override||r.search)&&i.push(r);a=i}for(f=0,g=a.length;g>f;f++)r=a[f],l=l.concat(r.suggestions.slice(0,Math.round(6/(a.length-c))));return l},e.prototype.suggestions=function(){var t;return t=this.suggestionCollection(),t.sort(function(t,e){return e.score-t.score}),t},e.prototype.fullMatch=function(e){var n,r,a,s,i,o,c,l;if(null==e&&(e=this.remainder),r=this,a=t.getPageInfo(),""===e.trim())i=this;else for(l=this.constructor.contexts,o=0,c=l.length;c>o;o++)if(n=l[o],(!n.logged_in||a.current_user)&&!n.skipMatch&&n.matches(e)&&(s=new n(this.commandBar,e,this).fullMatch()))return s;return i||r},e.prototype.partialMatch=function(){var e,r,a,s,i,o,c,l;if(r=this,a=t.getPageInfo(),this.remainder.length){for(l=this.constructor.contexts,o=0,c=l.length;c>o;o++)if(e=l[o],(!e.logged_in||a.current_user)&&e.matches(this.remainder)&&(s=new e(this.commandBar,n(this.remainder),this).partialMatch()))return s}else i=this.parent;return i||r},e.prototype.description=function(){return"Execute `"+this.command()+"`"},e.prototype.command=function(){return this.parent?(""+this.parent.command()+" "+this.matches[0]).trim():""},e.prototype.complete=function(t){var e;return e=this.fullMatch(t),(null!=e?e.command():void 0)+e.suffix()},e.prototype.lazyLoad=function(e,n){return t.RemoteProxy.get(e,n,this.commandBar)},e.prototype.loading=function(t){return this.commandBar.trigger("loading.commandbar",t)},e.prototype.success=function(t){return this.commandBar.trigger("success.commandbar",t)},e.prototype.error=function(t){return this.commandBar.trigger("error.commandbar",t)},e.prototype.message=function(t){return this.commandBar.trigger("message.commandbar",t)},e.prototype.goToUrl=function(e){var n;return t.ctrlKey||t.metaKey?(n=window.open(e,(new Date).getTime()),n!==window?this.success("Opened in a new window"):void 0):window.location=e},e.prototype.post=function(t){return t=$.extend(t,{type:"POST"}),$.ajax(t)},e.prototype.execute=function(){},e}(),t.SuggestionCollection={constructor:function(t){this.suggestions=t},prepare:function(t){return{prefix:t.prefix||"",url:t.url||null,search:t.search||null,command:t.command||"",display:t.display||t.command,description:t.description||"",type:t.type||"choice",multiplier:t.multiplier||1,defaultScore:t.defaultScore||null,filter:t.filter===!1?!1:!0}},score:function(e,n,r){var a,s,i;return s=0,e.filter===!1?s=1:"loading"!==e.type?(a=t.Store.get(""+r.constructor.name+":"+n),a===e.command?s=1.99:(i=e.search?e.search:e.command,s=n?$.fuzzyScore(i,n):1,s*=e.multiplier)):s=20,s}},window.CommandBar=t}.call(this),function(){var t,e,n;t=jQuery,e={ENTER:13,TAB:9,UP:38,DOWN:40,N:78,P:80,CTRL:17,ESC:27},n={init:function(n){var r;return r={context:CommandBar.Context,limit:12},r=t.extend(r,n),this.each(function(){var n,a,s,i,o,c,l,u,d,h,f,m,p,g,v,$,b;return o=new CommandBar(r.context),s=t(this),r.limit||(r.limit=s.attr("data-results-limit")),s.attr("autocomplete","off"),s.attr("spellcheck","false"),a=s.closest(".commandbar"),i=a.find(".message"),n=a.find(".display"),f=null,l=0,s.bind("execute.commandbar",function(){return u()}),o.bind("suggest.commandbar",function(){return s.trigger("suggest.commandbar")}),o.bind("loading.commandbar",function(t){return b(t,"loading")}),o.bind("message.commandbar",function(t){return g(t)}),o.bind("success.commandbar",function(t){return b(""+String.fromCharCode(10004)+" "+t,"success",!0)}),o.bind("error.commandbar",function(t){return b(""+String.fromCharCode(10006)+" "+t,"error",!0)}),o.bind("submit.commandbar",function(){return s.closest("form").submit()}),b=function(t,e,n){return i.text(t).addClass("visible"),i.removeClass("loading error success").addClass(e),n?d():void 0},d=function(){return setTimeout(function(){return i.removeClass("visible")},5e3)},h=function(){return i.removeClass("visible loading error success")},v=function(){var t,e,r,a,s;return t=n.find(".selected"),s=function(){return t.position().top<0},a=function(){return t.position().top+t.outerHeight()>n.height()},a()?(e=n.scrollTop()+t.position().top+t.outerHeight()-n.height(),n.scrollTop(e)):s()?(r=n.scrollTop()+t.position().top,n.scrollTop(r)):void 0},m=function(){var t;return n.find(".selected").removeClass("selected"),-1===l?(s.val(s.data("val")),n.removeClass("hidden"),l++):l>=0?(t=n.find(".choice:nth-child("+(l+1)+")").addClass("selected"),t.length?(v(),s.val(o.complete(s.data("val"),t.data("command"))),l++):n.find(".choice:nth-child("+l+")").addClass("selected")):CommandBar.History.exists(-l-2)?(s.val(CommandBar.History.get(-l-2)),l++):void 0},p=function(){var t;return n.find(".selected").removeClass("selected"),1===l?(s.val(s.data("val")),l--):l>1?(t=n.find(".choice:nth-child("+(l-1)+")"),t.addClass("selected"),v(),t.length&&s.val(o.complete(s.data("val"),t.data("command"))),l--):CommandBar.History.exists(-l)?(n.addClass("hidden"),s.val(CommandBar.History.get(-l)),l--):void 0},c=function(e){var r,a;return e.length||(e=n.find(".choice").first()),e.length?(null!=f&&clearTimeout(f),a=s.data("val"),r=t(e).data("command"),s.val(o.complete(a,r)),s.focus().keyup()):void 0},g=function(t){return n.html(t).removeClass("hidden")},u=function(){return n.html(""),CommandBar.History.add(s.val()),o.execute(s.val()),s.val(""),$()},i.click(function(){return h(),s.focus(),!1}),s.focus(function(){return clearTimeout(f),a.addClass("focused"),t(this).keyup()}),s.blur(function(){return f=setTimeout(function(){return a.removeClass("focused"),n.addClass("hidden")},200)}),s.bind("suggest.commandbar",function(){var e,a,s,i,c,u,d,h;if(l=0,u=t(this).val(),n.html(""),""!==u)for(c=o.suggestions(u,r.limit),d=0,h=c.length;h>d;d++)i=c[d],a=t("<span class=command />"),s=t("<span class=description />"),e=t("<a class="+i.type+"></a>").attr("data-command",i.command),i.url&&e.attr("href",i.url),i.prefix&&t("<span class=prefix />").html(i.prefix).appendTo(e),i.display&&a.text(i.display).appendTo(e),i.description&&s.text(i.description).appendTo(e),e.appendTo(n);return $()}),$=function(){return n.is(":empty")?n.addClass("hidden"):n.removeClass("hidden")},s.bind("throttled:input",function(){return""!==s.val()&&h(),s.data("val",s.val()),s.trigger("suggest.commandbar")}),s.keyup(function(t){switch(t.which){case e.N:case e.P:return t.ctrlKey?!1:s.trigger("suggest.commandbar");case e.ENTER:case e.TAB:case e.CTRL:case e.DOWN:case e.UP:case e:return!1;case e.ESC:return""===s.val()?s.blur():s.val("")}}),s.keydown(function(t){switch(CommandBar.ctrlKey=t.ctrlKey,CommandBar.metaKey=t.metaKey,CommandBar.shiftKey=t.shiftKey,t.which){case e.DOWN:return m();case e.UP:return p(),t.preventDefault(),!1;case e.P:if(t.ctrlKey)return p();break;case e.N:if(t.ctrlKey)return m();break;case e.ENTER:return u(),!1;case e.TAB:if(""!==s.val())return c(n.find(".selected")),!1}}),n.on("click",".choice",function(){var e;return e=t(this),e.attr("href")?void 0:(c(e),!1)})})}},t.fn.commandBar=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?t.error("Method "+e+" does not exists on jQuery.commandBar"):n.init.apply(this,arguments)}}.call(this),function(){$(document).on("hotkey:activate","#js-command-bar-field",function(t){switch(t.originalEvent.which){case 191:return $(".js-this-repository-navigation-item").fire("navigation:open");case 83:return $(".js-all-repositories-navigation-item").fire("navigation:open")}}),$(document).on("focusout","#js-command-bar-field",function(){return $(this).closest(".command-bar").removeClass("command-bar-focus")}),$(document).on("mousedown",".commandbar .display",function(){return!1}),$(document).on("click",".js-command-bar .help",function(){var t;return t=$("#js-command-bar-field").focus(),setTimeout(function(){return t.val("help"),t.trigger("execute.commandbar")},250),!1}),$(document).on("focusin","#js-command-bar-field",function(){var t;return t=$(this),t.data("command-bar-installed")?t.closest(".command-bar").addClass("command-bar-focus"):(t.commandBar().data("command-bar-installed",!0),setTimeout(function(){return t.focus()},20))})}.call(this),function(){CommandBar.Context.prototype.execute=function(){return""===this.text.trim()?!1:(this.loading("Searching for '"+this.text+"'"),this.commandBar.trigger("submit.commandbar"))}}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var a in n)e.call(n,a)&&(t[a]=n[a]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.contexts=[],e.regex=/^(help|\?)$/i,e.prototype.suggestionOptions=function(){return this.text.match(/^[h\?]/i)?[{command:"help",description:"Show available commands",search:"help ?"}]:[]},e.prototype.description=function(){return"Show available commands"},e.prototype.helpMessagesFor=function(t){var e,n,r,a,s,i,o;for(s=this,a=[],r=CommandBar.getPageInfo(),i=0,o=t.length;o>i;i++)e=t[i],(!e.logged_in||r.current_user)&&(n=e.help(),n.constructor===Array?a=a.concat(n):(e.contexts.length&&(n.children=s.helpMessagesFor(e.contexts)),a.push(n)));return a},e.prototype.formatCommands=function(t){var e;return e="<table>",e+=this.messageRows(t),e+="</table>"},e.prototype.messageRows=function(t,e){var n,r,a,s;for(r="",e||(e=""),t=t.sort(function(t,e){return t.command>e.command?1:-1}),a=0,s=t.length;s>a;a++)n=t[a],(n.child!==!0||""!==e)&&(r+=this.messageRow(n,e)),n.children&&(r+=this.messageRows(n.children,""+e+n.command+" "));return r},e.prototype.messageRow=function(t,e){var n;return n="",t.description?(n+="<tr><td class=command>",n+=""+e+"<strong>"+t.command+"</strong>",n+="</td><td><span>"+t.description+"</span></td></tr>"):""},e.prototype.execute=function(){var t;return t=[],t=t.concat(this.helpMessagesFor(this.commandBar.defaultContext.contexts)),this.message(this.formatCommands(t))},e.prototype.suffix=function(){return""},e}(CommandBar.Context),CommandBar.Context.register(t)}.call(this),function(){var t,e,n,r,a,s,i,o,c,l=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=function(t){function e(){return this.repo=l(this.repo,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.contexts=[],e.regex=/^([\w\._-]+\/[\w\._-]+)/i,e.help=function(){return{command:"user/repo",description:"View a repository"}},e.prototype.repo=function(){return this.matches?this.matches[1]:void 0},e.prototype.suggestionOptions=function(){var t,e,n,r;return this.text.match(/^[\w\._-]/i)?(e=CommandBar.getPageInfo(),t=[],e.current_user&&"global"===e.search_choice&&(t=this.lazyLoad("/command_bar/repos",{loadingMessage:"Loading repositories",process:function(t){return t.results}})),(r=this.text.match(/([\w\._-]+)\//i))&&(n=r[1],t=this.lazyLoad("/command_bar/repos_for/"+n,{loadingMessage:"Loading repositories for "+n,process:function(t){return t.results}})),t):[]},e.prototype.description=function(){return"Go to "+this.repo()},e.prototype.helpText=function(){return{command:"user/repo",description:"View user/repo, manage issues, etc."}},e.prototype.execute=function(){return this.loading("Loading "+this.repo()),this.goToUrl("/"+this.repo())},e}(CommandBar.Context),e=function(t){function e(){return this.execute=l(this.execute,this),this.branch=l(this.branch,this),this.repo=l(this.repo,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.contexts=[],e.regex=/@(.+)?/i,e.help=function(){return{child:!0,command:"@branchname",description:"View a branch in a repository"}},e.prototype.repo=function(){return this.parent.repo?this.parent.repo():void 0},e.prototype.suggestionOptions=function(){return this.text.match(/^\s@/i)&&this.repo()?this.lazyLoad("/command_bar/"+this.repo()+"/branches",{loadingMessage:"Loading "+this.repo()+"'s  branches",process:function(t){return t.results}}):[{command:"@branchname",description:"View a branch in a repository"}]},e.prototype.branch=function(){return this.matches?this.matches[1]:void 0},e.prototype.description=function(){return"Show branch `"+this.branch()+"` for "+this.repo()},e.prototype.execute=function(){return this.repo()&&this.branch()?(this.loading("Loading "+this.repo()+":"+this.branch()+" branch"),this.goToUrl("/"+this.repo()+"/tree/"+this.branch())):!0},e.prototype.suffix=function(){return""},e}(CommandBar.Context),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.contexts=[],e.skipMatch=!0,e.regex=/(.+)?/i,e.prototype.repo=function(){var t;return t=CommandBar.getPageInfo(),t.repo?t.repo.name_with_owner:void 0},e.prototype.suggestionOptions=function(){var t;return t=CommandBar.getPageInfo(),"global"===t.search_choice?[]:this.lazyLoad("/command_bar/"+this.repo()+"/branches",{loadingMessage:"Loading "+this.repo()+"'s  branches",process:function(t){return t.results}})},e}(CommandBar.Context),a=function(t){function e(){return this.execute=l(this.execute,this),this.number=l(this.number,this),this.query=l(this.query,this),this.repo=l(this.repo,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.contexts=[],e.regex=/\#(\d+)/i,e.timeout=null,e.previous_term=null,e.last_suggested=null,e.search_delay=400,e.help=function(){return{child:!0,command:"#123",description:"View a specific conversation"}},e.prototype.searchDelayPassed=function(){return(new Date).getTime()-this.constructor.last_suggested>=this.constructor.search_delay},e.prototype.repo=function(){return this.parent.repo?this.parent.repo():void 0},e.prototype.query=function(){return this.matches?this.matches[1]:void 0},e.prototype.suggestionOptions=function(){return this.text.match(/^\s#/i)&&this.repo()?this.delayedSearch():[{command:"#123",description:"View a specific conversation"}]},e.prototype.delayedSearch=function(){var t,e,n;return n=this.text,e=this.constructor.previous_term,clearTimeout(this.constructor.timeout),this.constructor.previous_term=n,n===e&&this.searchDelayPassed()?this.lazyLoad("/command_bar/"+this.repo()+"/issues_for?q="+encodeURIComponent(n),{loadingMessage:"Loading "+this.repo()+"'s issues",process:function(t){return t.results}}):(this.constructor.last_suggested=(new Date).getTime(),t=this.commandBar,this.constructor.timeout=setTimeout(function(){return t.trigger("suggest.commandbar")},this.constructor.search_delay),[])},e.prototype.suffix=function(){return""},e.prototype.number=function(){return this.matches?this.matches[1]:""},e.prototype.description=function(){return"Show conversation #"+this.number()+" for "+this.repo()},e.prototype.execute=function(){return this.loading("Loading conversation #"+this.number()+" for "+this.repo()),this.goToUrl("/"+this.repo()+"/conversations/"+this.number())},e}(CommandBar.Context),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.contexts=[],e.skipMatch=!0,e.regex=new RegExp(""),e.timeout=null,e.previous_term=null,e.last_suggested=null,e.search_delay=400,e.prototype.override=function(){var t;return t=CommandBar.getPageInfo(),t.repo&&!this.text.match(/^([\w\._-]+\/[\w\._-]+)/i)?t.repo.issues_page:!1},e.prototype.repo=function(){var t;return t=CommandBar.getPageInfo(),t.repo?t.repo.name_with_owner:void 0},e.prototype.searchDelayPassed=function(){return(new Date).getTime()-this.constructor.last_suggested>=this.constructor.search_delay},e.prototype.suggestionOptions=function(){var t,e;return e=this.text,t=CommandBar.getPageInfo(),this.repo()&&"this_repo"===t.search_choice?this.delayedSearch():t.current_user?this.lazyLoad("/command_bar/issues",{loadingMessage:"Loading issues",process:function(t){return t.results}}):[]},e.prototype.delayedSearch=function(){var t,e,n;return n=this.text,e=this.constructor.previous_term,clearTimeout(this.constructor.timeout),this.constructor.previous_term=n,n===e&&this.searchDelayPassed()?this.lazyLoad("/command_bar/"+this.repo()+"/issues_for?q="+encodeURIComponent(n),{loadingMessage:"Loading "+this.repo()+"'s issues",process:function(t){return t.results}}):(this.constructor.last_suggested=(new Date).getTime(),t=this.commandBar,this.constructor.timeout=setTimeout(function(){return t.trigger("suggest.commandbar")},this.constructor.search_delay),[])},e}(CommandBar.Context),t=function(t){function e(){return this.filename=l(this.filename,this),this.fullpath=l(this.fullpath,this),this.repo=l(this.repo,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.contexts=[],e.regex=/^\s*\/([\w\_\-\.\s]+\/?)+/i,e.timeout=null,e.previous_term=null,e.last_suggested=null,e.search_delay=400,e.help=function(){return{child:!0,command:"/path/to/file.s",description:"View a blob page"}},e.prototype.repo=function(){var t;return this.parent.repo?this.parent.repo():(t=CommandBar.getPageInfo(),t.repo?t.repo.name_with_owner:void 0)},e.prototype.searchDelayPassed=function(){return(new Date).getTime()-this.constructor.last_suggested>=this.constructor.search_delay},e.prototype.fullpath=function(){return this.matches?$.trim(this.matches[0]):void 0},e.prototype.filename=function(){return this.matches?$.trim(this.matches[1]):void 0},e.prototype.suggestionOptions=function(){var t,e,n,r,a,s;return a=this.text,e=CommandBar.getPageInfo(),a.match(/^[\/\w\._-]/i)?this.repo()?(r=null!=(s=e.repo)?s.tree_sha:void 0,""===r||void 0===r||"global"===e.search_choice?[]:(n=this.constructor.previous_term,clearTimeout(this.constructor.timeout),this.constructor.previous_term=a,a===n&&this.searchDelayPassed()?this.lazyLoad("/command_bar/"+this.repo()+"/paths/"+e.repo.branch+"?q="+a+"&sha="+r,{loadingMessage:"Loading "+this.repo()+"'s  files",process:function(t){return t.results}}):(this.constructor.last_suggested=(new Date).getTime(),t=this.commandBar,this.constructor.timeout=setTimeout(function(){return t.trigger("suggest.commandbar")},this.constructor.search_delay),[]))):[]:[]},e.prototype.suffix=function(){return""},e.prototype.execute=function(){var t;return t=CommandBar.getPageInfo(),t.repo?(this.loading("Loading "+this.filename()),this.goToUrl("/"+this.repo()+"/blob/"+t.repo.branch+this.fullpath())):null},e}(CommandBar.Context),c=function(t){function e(){return this.execute=l(this.execute,this),this.section=l(this.section,this),this.repo=l(this.repo,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.contexts=[],e.regex=/^\s*(wiki|graphs|network|pulse|issues|pulls)\b$/i,e.help=function(){return new this(this.commandBar,"").suggestionOptions()},e.prototype.repo=function(){return this.parent.repo()},e.prototype.section=function(){return this.matches?this.matches[1]:void 0},e.prototype.suggestionOptions=function(){return[{command:"wiki",description:"Pull up the wiki"},{command:"graphs",description:"All the Graphs!"},{command:"network",description:"See the network"},{command:"pulse",description:"See recent activity"},{command:"issues",description:"View open issues"},{command:"pulls",description:"Show open pull requests"}]
},e.prototype.description=function(){return"View the "+this.section()+" for "+this.repo()},e.prototype.execute=function(){return this.loading("Loading "+this.section()+" for "+this.repo()),this.goToUrl("/"+this.repo()+"/"+this.section())},e.prototype.suffix=function(){return""},e}(CommandBar.Context),o=function(t){function e(){return this.execute=l(this.execute,this),this.type=l(this.type,this),this.repo=l(this.repo,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.contexts=[],e.regex=/^\s*new\s(pull|issues)\b$/i,e.logged_in=!0,e.help=function(){return new this(this.commandBar,"").suggestionOptions()},e.prototype.repo=function(){return this.parent.repo()},e.prototype.type=function(){return this.matches?this.matches[1]:void 0},e.prototype.suggestionOptions=function(){return[{command:"new issues",description:"Create new issue"},{command:"new pull",description:"Create new pull request"}]},e.prototype.description=function(){return"Create a new issue for "+this.repo()},e.prototype.execute=function(){return this.loading("Loading new "+this.type()+" form for "+this.repo()),this.goToUrl("/"+this.repo()+"/"+this.type()+"/new")},e.prototype.suffix=function(){return""},e}(CommandBar.Context),s=function(t){function e(){return this.execute=l(this.execute,this),this.discussion=l(this.discussion,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.contexts=[],e.skipMatch=!0,e.regex=new RegExp(""),e.timeout=null,e.previous_term=null,e.last_suggested=null,e.search_delay=400,e.prototype.repo=function(){var t;return t=CommandBar.getPageInfo(),t.repo?t.repo.name_with_owner:void 0},e.prototype.discussion=function(){return this.matches?this.matches[1]:""},e.prototype.searchDelayPassed=function(){return(new Date).getTime()-this.constructor.last_suggested>=this.constructor.search_delay},e.prototype.suggestionOptions=function(){var t,e;return e=this.text,t=CommandBar.getPageInfo(),this.repo()&&"this_repo"===t.search_choice?this.delayedSearch():t.current_user?this.lazyLoad("/command_bar/discussions",{loadingMessage:"Loading discussions",process:function(t){return t.results}}):[]},e.prototype.delayedSearch=function(){var t,e,n;return n=this.text,e=this.constructor.previous_term,clearTimeout(this.constructor.timeout),this.constructor.previous_term=n,n===e&&this.searchDelayPassed()?this.lazyLoad("/command_bar/"+this.repo()+"/discussions_for?q="+encodeURIComponent(n),{loadingMessage:"Loading "+this.repo()+"'s discussions",process:function(t){return t.results}}):(this.constructor.last_suggested=(new Date).getTime(),t=this.commandBar,this.constructor.timeout=setTimeout(function(){return t.trigger("suggest.commandbar")},this.constructor.search_delay),[])},e.prototype.execute=function(){return this.loading("Loading discussion #"+this.discussion()+" for "+this.repo()),this.goToUrl("/"+this.repo()+"/discussion/"+this.discussion())},e}(CommandBar.Context),CommandBar.Context.register(r),CommandBar.Context.register(n),CommandBar.Context.register(t),CommandBar.Context.register(i),r.register(a),r.register(e),r.register(t),r.register(o),r.register(c),$(document.documentElement).hasClass("is-preview-features")&&CommandBar.Context.register(s)}.call(this),function(){var t,e,n={}.hasOwnProperty,r=function(t,e){function r(){this.constructor=t}for(var a in e)n.call(e,a)&&(t[a]=e[a]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.contexts=[],e.regex=/^search\sgithub\sfor\s(.+)$/i,e.prototype.search=function(){return!0},e.prototype.query=function(){return this.matches?this.matches[1].trim():void 0},e.prototype.suggestionOptions=function(){return 0===this.text.indexOf("Search ")?[]:[{command:"Search GitHub for "+this.text,description:"",multiplier:0,defaultScore:-2,url:"/search?q="+encodeURIComponent(this.text)}]},e.prototype.description=function(){return"Search GitHub for "+this.query()},e.prototype.execute=function(){return this.loading("Searching for '"+this.query()+"'"),this.goToUrl("/search?q="+encodeURIComponent(this.query()))},e.prototype.suffix=function(){return""},e}(CommandBar.Context),t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.contexts=[],e.regex=/^search\s([\w\._-]+\/[\w\._-]+)\sfor\s(.+)$/i,e.prototype.search=function(){return!0},e.prototype.query=function(){return this.matches?this.matches[2].trim():void 0},e.prototype.repomatch=function(){return this.matches?this.matches[1].trim():void 0},e.prototype.suggestionOptions=function(){var t;return 0===this.text.indexOf("Search ")?[]:(t=CommandBar.getPageInfo(),t.repo?[{command:"Search "+t.repo.name_with_owner+" for "+this.text,description:"",multiplier:0,defaultScore:-1,url:"/"+t.repo.name_with_owner+"/search?q="+encodeURIComponent(this.text)}]:[])},e.prototype.description=function(){return"Search GitHub for "+this.query()},e.prototype.execute=function(){return this.loading("Searching for '"+this.query()+"'"),this.goToUrl("/"+this.repomatch()+"/search?q="+encodeURIComponent(this.query()))},e.prototype.suffix=function(){return""},e}(CommandBar.Context),CommandBar.Context.register(e),CommandBar.Context.register(t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,r=function(t,e){function r(){this.constructor=t}for(var a in e)n.call(e,a)&&(t[a]=e[a]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};t=function(t){function n(){return this.user=e(this.user,this),n.__super__.constructor.apply(this,arguments)}return r(n,t),n.contexts=[],n.regex=/^@([A-Za-z0-9-_]+)\/?/i,n.timeout=null,n.previous_term=null,n.last_suggested=null,n.search_delay=400,n.help=function(){return{command:"@user",description:"View a user&rsquo;s profile"}},n.matches=function(t){var e;return e=t.match(this.regex),!!e&&!e[0].match(/\/$/)},n.prototype.searchDelayPassed=function(){return(new Date).getTime()-this.constructor.last_suggested>=this.constructor.search_delay},n.prototype.suggestionOptions=function(){var t,e,n,r;return r=this.text,r.match(/^[@\w\._-]/i)?(e=CommandBar.getPageInfo(),this.text.match(/^@[\w\._-]/i)?(n=this.constructor.previous_term,clearTimeout(this.constructor.timeout),this.constructor.previous_term=r,r===n&&this.searchDelayPassed()?this.lazyLoad("/command_bar/users?q="+this.user(),{loadingMessage:"Loading users",process:function(t){return t.results}}):(this.constructor.last_suggested=(new Date).getTime(),t=this.commandBar,this.constructor.timeout=setTimeout(function(){return t.trigger("suggest.commandbar")},this.constructor.search_delay),[])):e.current_user&&"global"===e.search_choice?this.lazyLoad("/command_bar/users",{loadingMessage:"Loading users",process:function(t){return t.results}}):[]):[]},n.prototype.user=function(){return this.matches?this.matches[1]:void 0},n.prototype.suffix=function(){return""},n.prototype.execute=function(){return this.loading("Loading "+this.user()+"'s profile"),this.goToUrl("/"+this.user())},n}(CommandBar.Context),CommandBar.Context.register(t)}.call(this),function(){}.call(this),function(){var t,e;e=null,$.conduit=function(t){var n;return n=$.Deferred(),(null!=e?e:e=$("link[rel=conduit-xhr]").prop("href"))?$.ajax({url:""+e+t,success:function(t){return n.resolve(t)},error:function(){return n.reject()}}):n.reject(),n.promise()},t=null,$.conduit.status=function(){return null!=t?t:t=$.conduit("status")},$.conduit.capable=function(t){return $.conduit.status().then(function(e){var n;return n=$.Deferred(),-1!==e.capabilities.indexOf(t)?n.resolve():n.reject()})}}.call(this),function(){var t;$.observe(".js-conduit-openfile-check",t=function(t){$.conduit.capable("url-parameter-filepath").done(function(){return $(t).attr("href",$(t).attr("data-url"))}).fail(function(){return $(t).addClass("disabled").attr("aria-label",$(t).attr("data-failed-title"))})})}.call(this),function(){var t;$.observe(".js-conduit-rewrite-url",t=function(t){$.conduit.status().done(function(){return t.href=t.getAttribute("data-url")})})}.call(this),function(){var t,e,n,r,a,s,i,o;n=null,r=null,i=null,o=null,e=function(t){return $("#contribution-activity-listing > *").addClass("hidden"),$(".js-contribution-activity-spinner").removeClass("hidden"),$.pjax({url:t,container:"#contribution-activity",scrollTo:!1,replace:!0})},a=function(t){var r,a;return n=t,r=null,i=null,o=null,a=""+document.location.pathname+"?tab=contributions&period="+n,s(),e(a)},s=function(t,e){var n,r;return r=$(".calendar-graph"),n=d3.select(".js-calendar-graph").selectAll("rect.day").classed("active",!1),t||e?(r.addClass("days-selected"),n.filter(function(n){return t&&e?n[0]>=t&&n[0]<=e:n[0]===t}).classed("active",!0)):r.removeClass("days-selected")},$(document).on("contributions:range",function(t,c,l){var u,d,h,f,m,p,g,v,$,b;return null==l&&(l=!1),g=""+document.location.pathname+"?tab=contributions",c>=i&&o>=c?(a("weekly"),void 0):("object"==typeof l&&(r=l,l=!0),r&&l?(m=moment(r).clone().subtract("days",31).toDate(),f=moment(r).clone().add("days",31).toDate(),v=c>r?[r,c]:[c,r],h=v[0],p=v[1],m>h&&(h=m),p>f&&(p=f),$=[h,p],i=$[0],o=$[1],u=moment(h).format("YYYY-MM-DD"),d=moment(p).format("YYYY-MM-DD"),g+="&from="+u+"&to="+d):(h=c,b=[h,null],i=b[0],o=b[1],u=moment(h).format("YYYY-MM-DD"),g+="&from="+u),r=c,n="custom",s(h,p),e(g))}),$(document).on("change",".js-period-container",function(t){var e;return t.preventDefault(),t.stopPropagation(),e=$(t.target).val().toLowerCase(),n!==e?a(e):void 0}),$(t=function(){var t;return t=$(".popular-repos .col").height()-20,$(".popular-repos .capped-box").css("height",""+t+"px")})}.call(this),function(){var t,e;$(document).on("submit",".js-find-coupon-form",function(t){var e,n;return e=t.target.action,n=$("#code").val(),window.location=e+"/"+encodeURIComponent(n),t.stopPropagation(),t.preventDefault()}),$(document).on("click",".js-choose-account",function(e){return $(".js-plan-row, .js-choose-plan").removeClass("selected"),$(".js-plan").val(""),$(".js-billing-section").addClass("is-hidden"),Billing.displayCreditCardFields(!1),t($(this).closest(".js-account-row")),e.stopPropagation(),e.preventDefault()}),$(document).on("click",".js-choose-plan",function(t){return e($(this).closest(".js-plan-row")),t.stopPropagation(),t.preventDefault()}),$.observe(".js-plan-row.selected:not(.free-plan)",{add:function(){return $(this).closest("form").find(".js-redeem-button").prop("disabled",!1)},remove:function(){return $(this).closest("form").find(".js-redeem-button").prop("disabled",!0)}}),t=function(t){var n,r,a;if(t.length)return r=t.data("login"),a=t.data("plan"),$(".js-account-row, .js-choose-account").removeClass("selected"),t.addClass("selected"),t.find(".js-choose-account").addClass("selected"),$(".js-account").val(r),$(".js-plan-section").removeClass("is-hidden"),$(".js-billing-plans").addClass("is-hidden"),$(".js-plans-for-"+r).removeClass("is-hidden"),n=$(".js-plans-for-"+r+" .js-plan-row"),1===n.length?e(n):e($("[data-name='"+a+"']"))},e=function(t){var e,n,r;if(t.length)return r=t.data("name"),n=t.closest(".js-billing-plans").data("has-billing"),e=parseInt(t.data("cost"),10),$(".js-plan-row, .js-choose-plan").removeClass("selected"),t.addClass("selected"),t.find(".js-choose-plan").addClass("selected"),$(".js-plan").val(r),0===e||n?($(".js-billing-section").addClass("is-hidden"),Billing.displayCreditCardFields(!1)):($(".js-billing-section").removeClass("is-hidden"),Billing.displayCreditCardFields(!0))},$(function(){return t($(".coupons .js-account-row.selected")),e($(".coupons .js-plan-row.selected"))})}.call(this),function(){$(document).on("click",".js-git-protocol-selector",function(){var t,e,n;return t=$(this).closest(".url-box"),n=$(this).attr("href"),e=$(this).attr("data-permission"),t.find(".js-url-field").val(n),t.find(".js-zeroclipboard").attr("data-clipboard-text",n),t.find(".js-clone-url-permission").text(e),$(".js-live-clone-url").text(n),(n=$(this).attr("data-url"))&&$.ajax({type:"POST",url:n}),t.find(".js-clone-urls > .selected").removeClass("selected"),$(this).parent(".js-clone-url-button").addClass("selected"),!1}),$(document).on("click",".js-clone-selector",function(t){var e,n,r,a;return t.preventDefault(),e=$(this).attr("data-protocol"),a=$(".clone-url").hide(),n=a.filter('[data-protocol-type="'+e+'"]').show(),(r=n.attr("data-url"))?$.ajax({type:"POST",url:r}):void 0})}.call(this),function(){var t,e,n,r,a,s,i,o,c,l,u,d,h,f=[].slice;n={originalHistoryState:JSON.stringify(window.history.state)},e=[],c=window.performance.now(),d=new TryStorage(sessionStorage),h=!1,i=function(){h=!0},s=function(){h=!1},$(window).on("pageshow",s),$(window).on("pagehide",i),$(window).on("error",function(t){var r,s,i,l,u,d;d=t.originalEvent,u=d.message,i=d.filename,l=d.lineno,s=d.error,null!=(null!=s?s.stack:void 0)&&!h&&l&&(r=$.extend.apply($,[{},n].concat(f.call(e),[{message:u,filename:i,lineno:l,url:window.location.href,readyState:document.readyState,referrer:document.referrer,stack:s.stack,historyState:JSON.stringify(window.history.state),timeSinceLoad:Math.round(window.performance.now()-c),extensionScripts:JSON.stringify(a().sort()),navigations:JSON.stringify(o())}])),e=[],null!=r.eventTarget&&(r.eventTarget=$(r.eventTarget).inspect()),$.ajax({type:"POST",url:"/_errors",data:{error:r}}))}),a=function(){var t,e,n,r,a;for(r=$("script"),a=[],e=0,n=r.length;n>e;e++)t=r[e],/^(?:chrome-extension|file):/.test(t.src)&&a.push(t.src);return a},r=jQuery.event.dispatch,jQuery.event.dispatch=function(t){var n;return"error"===t.type&&t.target===window?r.apply(this,arguments):(e.push({eventType:t.type,eventTarget:t.target}),n=r.apply(this,arguments),e.pop(),n)},l=function(t,e){var n;return n=o(),n.push({type:t,url:window.location.href,state:window.history.state,info:e}),u(n)},t="navigations",o=function(){var e;return e=d.getItem(t),e?JSON.parse(e):[]},u=function(e){return d.setItem(t,JSON.stringify(e))},l("load"),$(window).on("hashchange",function(t){return l("hashchange",{oldURL:t.oldURL,newURL:t.newURL})}),$(window).on("popstate",function(t){return l("popstate",{eventState:t.state})}),$(document).on("pjax:success",function(){return l("pjax:success")}),$(document).on("pjax:popstate",function(t){return l("pjax:popstate",{pjaxDirection:t.direction,pjaxState:t.state})}),"#b00m"===window.location.hash&&b00m()}.call(this),function(){$(document).on("click",".email-hidden-toggle > a",function(){return $(this).parent().siblings(".email-hidden-reply").toggle(),!1})}.call(this),function(){var t,e,n;window.GoogleAnalyticsObject="ga",null==window.ga&&(window.ga=function(){var t;return null==(t=window.ga).q&&(t.q=[]),window.ga.q.push(arguments)}),window.ga.l=Date.now(),function(){var t;if(t=$("meta[name=google-analytics]")[0])return window.ga("create",t.content,"github.com")}(),n=function(){var t,e;return t=window.ga,e=window.location.pathname+window.location.search,$(document.body).hasClass("logged_in")?t("send","pageview",e,{dimension1:"Logged In"}):t("send","pageview",e,{dimension2:"Logged Out"})},$(n),t=function(t,e,n,r){return window.ga("send","event",t,e,n,r)},e=function(){var e,n,r,a;return n=$("meta[name=analytics-event-category]"),n.length?(e=$("meta[name=analytics-event-action]"),r=$("meta[name=analytics-event-label]"),a=$("meta[name=analytics-event-value]"),t(n.attr("content"),e.attr("content"),r.attr("content"),a.attr("content")),n.remove(),e.remove(),r.remove(),a.remove()):void 0},$(function(){return e()}),$(document).on("pjax:complete",function(){return"undefined"!=typeof _octo&&null!==_octo&&_octo.push(["recordPageView"]),n(),setTimeout(e,20)}),$(function(){var e;return e=!1,$(".js-form-signup-home").on("keyup","input[type=text]",function(){return e?void 0:(t("Signup","Attempt","Homepage Form"),e=!0)}),$(".js-form-signup-detail").on("keyup","input[type=text]",function(){return e?void 0:(t("Signup","Attempt","Detail Form"),e=!0)}),$(".js-track-nux-profile-edit").on("click",function(){return e?void 0:(t("NUX Profile","click","Clicked Edit Profile Button"),e=!0)}),$(".js-nux-track-hwg").on("click",function(){return e?void 0:(t("NUX Profile","click","Clicked Hello World Button"),e=!0)}),$(".js-nux-track-hwg").length&&t("NUX Profile","buttonview","Hello World Button"),$(".js-track-nux-profile-edit").length?t("NUX Profile","buttonview","Edit Profile Button"):void 0})}.call(this),function(){var t;t=function(t,e,n){var r,a,s,i,o,c,l,u,d,h,f,m,p,g,v,b,y,j,w,x,k,C,S,_,T,D,A,P;for(c=n.histogram,j=$(".js-audit-log-graph"),h=j.attr("data-from"),w=j.attr("data-to"),p=d3.time.format("%B %d %Y"),y=d3.time.format("%m/%d/%y"),A=0,P=c.length;P>A;A++)u=c[A],u.date=new Date(1e3*u.time),delete u.time;return x=function(t,e){var n;return t=y(t),e=y(e),n="?from="+encodeURIComponent(t)+"&to="+encodeURIComponent(e),window.history.pushState(null,null,n)},g={top:0,right:0,bottom:0,left:0},C=j.width()-g.left-g.right,f=j.height()-g.top-g.bottom,v=d3.max(c,function(t){return t.count}),S=d3.scale.ordinal().domain(d3.range(c.length)).rangeBands([0,C],.2),_=d3.time.scale().domain([c[0].date,c[c.length-1].date]).range([0,C]),D=d3.scale.linear().domain([0,v]).rangeRound([f,0]),T=d3.svg.axis().scale(_).ticks(d3.time.weeks).tickSize(f/2).orient("bottom"),r=d3.svg.brush().x(S),o=function(){return k.classed("selecting",!0)},a=function(){var t,e,n;return k.classed("selecting",!d3.event.target.empty()),e=k.selectAll(".selected")[0],t=d3.select(e[0]).datum(),n=d3.select(e[e.length-1]).datum(),x(t.date,n.date)},i=function(){var t;return t=r.extent().map(Math.floor),l.classed("selected",function(e,n){return t[0]<=(e=S(n))&&e<=t[1]})},b=function(t,e,n){var r;return e&&(e=new Date(e))?(n=n?new Date(n):new Date,r=[],t.each(function(t,a){var s;return s=t.date>=e&&t.date<=n,s?r.push(Math.ceil(S(a))):void 0}),d3.extent(r)):void 0},r.on("brushstart",o).on("brush",i).on("brushend",a),k=d3.select(j.get(0)).append("svg").attr("width",C+g.left+g.right).attr("height",f+g.top+g.bottom).attr("class","vis").append("g").attr("transform","translate("+g.left+", "+g.top+")"),k.append("g").attr("class","x axis").call(T),l=k.selectAll(".audit-day").data(c).enter().append("g").attr("class","audit-day").attr("transform",function(t,e){return"translate("+S(e)+")"}),l.append("rect").attr("height",function(t){return f-D(t.count)}).attr("width",S.rangeBand()).attr("y",function(t){return D(t.count)}),d=b(l,h,w),d&&r.extent(d),s=k.append("g").attr("class","brush").call(r),d&&s.call(r.event),s.selectAll("rect").attr("height",f),s.selectAll(".resize").append("circle").attr("r",3).attr("cy",f/2).attr("class","handle"),m=k.append("text").attr("x",C).attr("y",5).attr("class","audit-label")},$(document).on("audit-statistics:success",".js-audit-statistics",t)}.call(this),function(){var t,e,n,r,a,s,i,o,c,l,u,d;for(e=[0,0,0,0,0,0,0,0,1,0,0,2,0,1,0,0,1,0,2,0,0,1,0,9,6,9,6,6,0,0,9,1,6,0,2,0,0,9,0,6,0,0,0,0,9,6,9,7,6,1,2,0,0,0,1,0,0,0,9,9,6,6,0,0,1,0,2,2,0,9,0,0,1,0,0,0,9,0,0,6,9,9,6,0,1,0,1,1,0,2,9,0,1,0,0,1,0,6,1,0,9,6,9,9,0,0,2,0,2,0,0,0,1,0,9,9,6,9,6,2,1,9,0,9,1,7,0,0,9,2,6,0,9,0,1,9,0,6,0,7,0,0,0,1,0,2,0,0,0,2,6,1,2,9,2,0,9,0,6,0,9,0,0,9,1,9,0,9,0,1,9,2,6,0,9,0,2,8,2,0,9,0,1,0,2,0,0,0,1,1,0,0,6,9,6,0,0,2,9,0,1,0,9,0,0,6,0,1,0,9,0,0,0,9,9,6,2,1,2,0,1,2,0,0,0,0,6,9,9,9,6,0,0,9,0,1,0,0,2,1,9,1,0,0,2,1,0,0,9,9,6,9,0,0,9,0,2,1,0,1,1,9,2,0,0,1,0,0,1,9,9,6,9,0,2,0,1,0,0,1,0,0,9,9,9,9,9,2,0,6,0,7,0,9,0,2,9,0,9,2,9,0,0,9,1,6,0,9,2,0,0,0,0,1,0,2,0,9,9,6,2,9,0,1,0,0,0,1,1,0,0,9,9,6,0,9,0,0,0,1,0,0,0,1,2,6,6,9,0,9,2,1,2,1,2,2,0,0,0,0,1,1,1,1,1,0],t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=new Date,r=n.getDay(),s=u=0,d=r-1;d>=u;s=u+=1)i=e.shift(),e.push(i);l=moment().subtract(366,"days"),e=e.map(function(t){return n=new Date(+l.add(1,"day").toDate()),[n,t]}),c=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(t){var e;return e=0===t[1]?"No":t[1],"<strong>"+e+" "+$.pluralize(t[1],"contribution")+"</strong> on "+moment(t[0]).format("MMMM Do YYYY")}),o=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(t){var e;return e=0===t[1]?"No":t[1],"<strong>No contributions</strong> on "+moment(t[0]).format("MMMM Do YYYY")}),a=d3.scale.threshold().domain([1,3,6,9]).range(["#eee","#d6e685","#8cc665","#44a340","#1e6823"]),$(document).on("click",".js-new-user-contrib-example",function(n){var r;return n.preventDefault(),r=$(".js-calendar-graph")[0],$(r).hasClass("sample-graph")?(d3.select(r).select("svg g").call(o),d3.select(r).selectAll(".day").data(t).style("fill",function(){return"#eee"}).on("mouseover",o.show).on("mouseout",o.hide),$(r).removeClass("sample-graph")):(d3.select(r).select("svg g").call(c),d3.select(r).selectAll(".day").data(e).style("fill",function(t){return a(t[1])}).on("mouseover",c.show).on("mouseout",c.hide),$(r).addClass("sample-graph"))})}.call(this),function(){var t,e,n,r,a,s,i,o,c,l;c=721,e=110,l=[20,0,0,20],s=l[0],a=l[1],n=l[2],r=l[3],t=13,i=2,o=function(t){var e,n,r,a,s;if(r=t.length,1>r)return 0/0;if(1===r)return 0;for(n=d3.mean(t),e=-1,a=0;++e<r;)s=t[e]-n,a+=s*s;return a/(r-1)},$(document).on("graph:load",".js-calendar-graph",function(n,a){var l,u,d,h,f,m,p,g,v,b,y,j,w,x,k,C,S,_,T,D,A,P,L,E,M,B,I,O,F,q;for(l=$(this),f=l.attr("data-from"),f&&(f=k=new Date(f)),P=l.attr("data-to"),P&&(P=new Date(P)),a||(a=[]),a=a.map(function(t){return[new Date(t[0]),t[1]]}).sort(function(t,e){return d3.ascending(t[0],e[0])}),u=3.77972616981,w=a.map(function(t){return t[1]}),T=Math.sqrt(o(w)),b=d3.mean(w),_=3,p=d3.max(w),L=p-b,(6>L||15>p)&&(_=1),x=0;_>x;)E=w.filter(function(t){var e;return e=Math.abs((b-t)/T),e>u}),E.length>0?(E=E[0],w=w.filter(function(t){return t!==E}),0===x&&(g=w)):E=null,x+=1;return v=d3.max(w),C=["#d6e685","#8cc665","#44a340","#1e6823"],m=d3.scale.quantile().domain([0,v]).range(C),h=d3.time.format("%w"),q=d3.time.format("%Y%U"),F=d3.time.format("%m-%y"),y=d3.time.format("%b"),I={},j={},a.forEach(function(t){var e;return e=q(t[0]),I[e]||(I[e]=[]),I[e].push(t)}),I=d3.entries(I),I.forEach(function(t){var e;return e=F(t.value[0][0]),j[e]||(j[e]=[t.value[0][0],0]),j[e][1]+=1}),j=d3.entries(j).sort(function(t,e){return d3.ascending(t.value[0],e.value[0])}),A=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(t){var e;return e=0===t[1]?"No":t[1],"<strong>"+e+" "+$.pluralize(t[1],"contribution")+"</strong> on "+moment(t[0]).format("MMMM Do YYYY")}),M=d3.select(this).append("svg").attr("width",c).attr("height",e).attr("id","calendar-graph").datum(p).append("g").attr("transform","translate("+r+", "+s+")").call(A),B=0,D=(new Date).getFullYear(),O=M.selectAll("g.week").data(I).enter().append("g").attr("transform",function(e,n){var r;return r=e.value[0][0],r.getFullYear()===D&&0!==r.getDay()&&0===B&&(B=-1),"translate("+(n+B)*t+", 0)"}),S=O.selectAll("rect.day").data(function(t){return t.value}).enter().append("rect").attr("class","day").attr("width",t-i).attr("height",t-i).attr("y",function(e){return h(e[0])*t}).style("fill",function(t){return 0===t[1]?"#eee":m(t[1])}).on("click",function(t){return $(document).trigger("contributions:range",[t[0],d3.event.shiftKey])}).on("mouseover",A.show).on("mouseout",A.hide),d=0,M.selectAll("text.month").data(j).enter().append("text").attr("x",function(e){var n;return n=t*d,d+=e.value[1],n}).attr("y",-5).attr("class","month").style("display",function(t){return t.value[1]<=2?"none":void 0}).text(function(t){return y(t.value[0])}),M.selectAll("text.day").data(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]).enter().append("text").style("display",function(t,e){return 0===e%2?"none":void 0}).attr("text-anchor","middle").attr("class","wday").attr("dx",-10).attr("dy",function(e,n){return s+((n-1)*t+i)}).text(function(t){return t[0]}),(f||P)&&$(document).trigger("contributions:range",[f,P]),l.trigger("contributions:loaded",p)})}.call(this),function(){$(document).on("graph:load",".js-graph-code-frequency",function(t,e){var n,r,a,s,i,o,c,l,u,d,h,f,m,p,g,v,b,y,j;return p=$(this).width(),s=500,j=[10,10,20,40],d=j[0],u=j[1],c=j[2],l=j[3],e=e.map(function(t){return[new Date(1e3*t[0]),t[1],t[2]]}).sort(function(t,e){return d3.ascending(t[0],e[0])}),n=e.map(function(t){return[t[0],t[1]]}),a=e.map(function(t){return[t[0],t[2]]}),i=d3.max(n,function(t){return t[1]}),o=d3.min(a,function(t){return t[1]}),m=e[0][0],f=e[e.length-1][0],g=d3.time.scale().domain([m,f]).range([0,p-l-u]),b=d3.scale.linear().domain([o,i]).range([s-c-d,0]),v=d3.svg.axis().scale(g).tickFormat(function(t){return m.getFullYear()!==f.getFullYear()?d3.time.format("%m/%y")(t):d3.time.format("%m/%d")(t)}),y=d3.svg.axis().scale(b).orient("left").tickPadding(5).tickSize(p).tickFormat(function(t){return d3.formatSymbol(t,!0)}),r=d3.svg.area().x(function(t){return g(t[0])}).y0(function(t){return b(t[1])}).y1(function(){return b(0)}),h=d3.select(this).data(e).append("svg").attr("width",p).attr("height",s).attr("class","viz code-frequency").append("g").attr("transform","translate("+l+","+d+")"),h.append("g").attr("class","x axis").attr("transform","translate(0, "+(s-d-c)+")").call(v),h.append("g").attr("class","y axis").attr("transform","translate("+p+", 0)").call(y),h.selectAll("path.area").data([n,a]).enter().append("path").attr("class",function(t,e){return 0===e?"addition":"deletion"}).attr("d",r)})}.call(this),function(){$(document).on("graph:load",".js-commit-activity-graph",function(t,e){var n,r,a,s,i,o,c,l,u,d,h,f,m,p,g,v,b,y,j,w,x,k;return c=$("#commit-activity-master"),r=$("#commit-activity-detail"),i=260,v=r.width(),b=0,p=null,function(){var t,n,s,o,c,l,u,d,h,f,m,g,y,j,w,x,k,C,S,_;for(l=0,c=C=0,S=e.length;S>C;c=++C)t=e[c],0!==t.total&&(l=c);return b=l,_=[20,30,30,40],m=_[0],h=_[1],f=_[2],d=_[3],s=e[b].days,u=d3.max(e,function(t){return d3.max(t.days)}),j=d3.scale.linear().domain([0,s.length-1]).range([0,v-h-f]),x=d3.scale.linear().domain([0,u]).range([i,0]),k=d3.svg.axis().scale(x).orient("left").ticks(5).tickSize(-v+f+h),$(this).on("hotkey:activate",function(t){var n,r;return r=b,n=t.originalEvent.hotkey,"left"===n||"right"===n?(b>0&&"left"===n&&(r-=1),b<e.length&&"right"===n&&(r+=1),p({index:r})):void 0}),y=d3.select(r[0]).data([s]).append("svg").attr("width",v).attr("height",i+m+d).attr("class","viz").append("g").attr("transform","translate("+h+","+m+")"),y.append("g").attr("class","y axis").call(k),w=y.append("g").attr("class","axis"),n=w.selectAll(".day").data(d3.weekdays).enter().append("g").attr("class","day").attr("transform",function(t,e){return"translate("+j(e)+", "+i+")"}),n.append("text").attr("text-anchor","middle").attr("dy","2em").text(function(t){return t}),g=d3.svg.line().x(function(t,e){return j(e)}).y(x),y.append("path").attr("class","path").attr("d",g),o=y.selectAll("g.dot").data(s).enter().append("g").attr("class","dot").attr("transform",function(t,e){return"translate("+j(e)+", "+x(t)+")"}),o.append("circle").attr("r",4),o.append("text").attr("text-anchor","middle").attr("class","tip").attr("dy",-10).text(function(t){return t}),p=function(t){var n,r,i;if(!(t.index>=52||t.index<0))return b=t.index,s=e[t.index].days,u=d3.max(s),j.domain([0,s.length-1]),i=d3.selectAll(".bar.mini").attr("class","bar mini"),n=d3.select(i[0][b]).attr("class","bar mini active"),r=d3.transform(n.attr("transform")),a.transition().ease("back-out").duration(300).attr("transform","translate("+(r.translate[0]+8)+", 105)"),y.selectAll(".path").data([s]).transition().duration(500).attr("d",g),y.selectAll("g.dot").data(s).transition().duration(300).attr("transform",function(t,e){return"translate("+j(e)+", "+x(t)+")"}),y.selectAll("text.tip").data(s).text(function(t){return t})}}(),k=[10,30,20,30],h=k[0],u=k[1],d=k[2],l=k[3],i=100,m=e.map(function(t){return t.total}),o=d3.max(m),s=d3.time.format("%m/%d"),y=d3.scale.ordinal().domain(d3.range(m.length)).rangeRoundBands([0,v-u-d],.1),w=d3.scale.linear().domain([0,o]).range([i,0]),x=d3.svg.axis().scale(w).orient("left").ticks(3).tickSize(-v+u+d).tickFormat(d3.formatSymbol),j=d3.svg.axis().scale(y).ticks(d3.time.weeks).tickFormat(function(t,n){var r;return r=new Date(1e3*e[n].week),s(r)}),f=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(t,n){var r,a;return r=new Date(1e3*e[n].week),a=d3.months[r.getMonth()].slice(0,3)+" "+r.getDate(),"<strong>"+t+"</strong> "+$.pluralize(t,"commit")+" the week of "+a}),g=d3.select(c[0]).style("width",""+v+"px").append("svg").attr("width",v+(u+d)).attr("height",i+h+l).attr("class","viz").append("g").attr("transform","translate("+u+","+h+")").call(f),g.append("g").attr("class","y axis").call(x),n=g.selectAll("g.mini").data(m).enter().append("g").attr("class",function(t,e){return e===b?"bar mini active":"bar mini"}).attr("transform",function(t,e){return"translate("+y(e)+", 0)"}).on("click",function(t,e){return p({node:this,index:e,data:t})}),n.append("rect").attr("width",y.rangeBand()).attr("height",function(t){return i-w(t)}).attr("y",function(t){return w(t)}).on("mouseover",f.show).on("mouseout",f.hide),g.append("g").attr("class","x axis").attr("transform","translate(0,"+i+")").call(j).selectAll(".tick").style("display",function(t,e){return 0!==e%3?"none":"block"}),a=g.append("circle").attr("class","focus").attr("r",8).attr("transform","translate("+(y(b)+y.rangeBand()/2)+", "+-i+")"),a.transition().ease("elastic-in").duration(1e3).attr("r",2).attr("transform","translate("+(y(b)+y.rangeBand()/2)+", "+(i+5)+")")})}.call(this),function(){var t,e,n,r,a,s;t=d3.time.format.utc("%Y-%m-%d"),r=function(t){return new Date(1e3*~~t)},a=function(){var t,e,n,r,a,s,i,o;for(n={},i=document.location.search.substr(1).split("&"),a=0,s=i.length;s>a;a++)e=i[a],o=e.split("="),t=o[0],r=o[1],n[t]=r;return n},e=function(t){return t=new Date(t),d3.months[t.getUTCMonth()].slice(0,3)+" "+t.getUTCDate()+", "+t.getUTCFullYear()},s=function(t,n){var r,a,s;return s=e(t),a=e(n),r=$("#js-date-range").attr("data-default-branch"),$("#js-date-range").html(""+s+" <span class='dash'>&dash;</span> "+a+" <p class='info'>Contributions to "+$.escapeHTML(r)+", excluding merge commits</p>")},n=function(t){var e,n;return e=t[0].weeks[0].date,n=new Date(e.getTime()-6048e5),t.forEach(function(t){return t.weeks.unshift({a:0,c:0,d:0,date:n,w:n/1e3})})},$(document).on("graph:load","#contributors",function(e,i){var o,c,l,u,d,h,f,m,p,g,v,b,y,j,w,x,k;return c=$(this),l=[],m=a(),k=null,x=null,null!=m.from&&(y=new Date(m.from)),null!=m.to&&(d=new Date(m.to)),u=(null!=m?m.type:void 0)||"c",c.on("range.selection.end",function(e,n){var r;return r=n.range,y=r[0],d=r[1],t(y)===t(d)&&(y=k,d=x),w(),s(y,d),v()}),g=function(t){var e,a;return 1===t[0].weeks.length&&n(t),a=o(t),k=r(a[0].key),x=r(~~a[a.length-1].key+518400),e=new Date,x>e&&(x=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))),null==y&&(y=k),null==d&&(d=x),s(y,d),b(a,k,x),v(t,k,x),$(".js-contribution-container").on("change","input[type=radio]",f)},p=function(t){var e,n,r,a,s,i,o;for(r=0,s=t.length;s>r;r++)for(e=t[r],o=e.weeks,a=0,i=o.length;i>a;a++)n=o[a],n.date=new Date(1e3*n.w);return t},h=function(t,e){return t.map(function(t){var n;return n=$.extend(!0,{},t),n.weeks=n.weeks.filter(function(t){return t.date>=e[0]&&t.date<=e[1]}),n})},o=function(t){var e,n,r,a,s,i,o,c,l;for(n={},a=0,i=t.length;i>a;a++)for(e=t[a],l=e.weeks,s=0,o=l.length;o>s;s++)r=l[s],null==n[c=r.w]&&(n[c]={c:0,a:0,d:0}),n[r.w].c+=r.c,n[r.w].a+=r.a,n[r.w].d+=r.d;return d3.entries(n)},j=function(t){return t=h(t,[y,d]),t.forEach(function(t){var e,n,r,a,s,i,o;for(n=0,e=0,r=0,o=t.weeks,s=0,i=o.length;i>s;s++)a=o[s],n+=a.c,e+=a.a,r+=a.d;return t.c=n,t.a=e,t.d=r}),t.sort(function(t,e){return d3.descending(t[u],e[u])})},b=function(e,n,a){var s,i,o,l,h,f,m,p,g,v,$,b,j,w,x,k,C,S;return S=[20,50,20,30],p=S[0],f=S[1],m=S[2],h=S[3],j=c.width(),o=125,l=d3.max(e,function(t){return t.value[u]}),w=d3.time.scale().domain([n,a]).range([0,j-f-m]),k=d3.scale.linear().domain([0,l]).range([o,0]),C=d3.svg.axis().scale(k).orient("left").ticks(4).tickSize(-j+f+m).tickPadding(10).tickFormat(d3.formatSymbol),x=d3.svg.axis().scale(w),e.length<5&&x.ticks(e.length),s=d3.svg.area().interpolate("basis").x(function(t){return w(r(t.key))}).y0(function(){return o}).y1(function(t){return k(t.value[u])}),d3.select("#contributors-master svg").remove(),b=d3.select("#contributors-master").data([e]).append("svg").attr("height",o+p+h).attr("width",j).attr("class","viz").append("g").attr("transform","translate("+f+","+p+")"),b.append("g").attr("class","x axis").attr("transform","translate(0, "+o+")").call(x),b.append("g").attr("class","y axis").call(C),b.append("path").attr("class","area").attr("d",s),$=function(){var t;
return b.classed("selecting",!0),t=d3.event.target.extent(),c.trigger("range.selection.start",{data:arguments[0],range:t})},g=function(){var t;return t=d3.event.target.extent(),c.trigger("range.selection.selected",{data:arguments[0],range:t})},v=function(){var t;return b.classed("selecting",!d3.event.target.empty()),t=d3.event.target.extent(),c.trigger("range.selection.end",{data:arguments[0],range:t})},i=d3.svg.brush().x(w).on("brushstart",$).on("brush",g).on("brushend",v),(t(y)!==t(n)||t(d)!==t(a))&&i.extent([y,d]),b.append("g").attr("class","selection").call(i).selectAll("rect").attr("height",o)},v=function(){var t,e,n,r,a,s,o,c,h,f,m,p,g,v,b,w,x,k,C,S,_;return _=[10,10,10,20],h=_[0],o=_[1],c=_[2],s=_[3],b=428,n=100,$("#contributors ol").remove(),i=j(l),v=d3.select("#contributors").append("ol").attr("class","contrib-data capped-cards clearfix"),a=d3.max(i,function(t){return d3.max(t.weeks,function(t){return t[u]})}),w=d3.time.scale().domain([y,d]).range([0,b]),k=d3.scale.linear().domain([0,a]).range([n-s-h,0]),e=d3.svg.area().interpolate("basis").x(function(t){return w(t.date)}).y0(function(){return n-s-h}).y1(function(t){return k(t[u])}),C=d3.svg.axis().scale(k).orient("left").ticks(2).tickSize(-b).tickPadding(10).tickFormat(d3.formatSymbol),p=d3.time.format("%m/%y"),x=d3.svg.axis().scale(w).tickFormat(p),i[0].weeks.length<5&&x.ticks(i[0].weeks.length).tickFormat(d3.time.format("%x")),$("li.capped-card").remove(),f=v.selectAll("li.capped-card").data(i).enter().append("li").attr("class","capped-card").style("display",function(t){return t[u]<1?"none":"block"}),r=f.append("h3"),r.append("img").attr("src",function(t){return t.author.avatar}).attr("class","avatar").attr("alt",""),r.append("span").attr("class","rank").text(function(t,e){return"#"+(e+1)}),r.append("a").attr("class","aname").attr("href",function(t){return"/"+t.author.login}).text(function(t){return t.author.login}),t=r.append("span").attr("class","ameta"),m=$(".graphs").attr("data-repo-url"),t.append("span").attr("class","cmeta").html(function(t){var e,n,r,a,s,i;return e=""+m+"/commits?author="+t.author.login,i=""+$.commafy(t.c)+" "+$.pluralize(t.c,"commit"),s=$("<a/>",{href:e,"class":"cmt",text:i}),r=$("<span/>",{"class":"a",text:""+$.commafy(t.a)+" ++"}),a=$("<span/>",{"class":"d",text:""+$.commafy(t.d)+" --"}),n=" / ",$("<div/>").append([s,n,r,n,a]).html()}),g=f.append("svg").attr("width",b+(o+c)).attr("height",n+h+s).attr("class","capped-card-content").append("g").attr("transform","translate("+o+","+h+")"),g.append("g").attr("class","x axis").attr("transform","translate(0, "+(n-h-s)+")").call(x).selectAll(".tick text").style("display",function(t,e){return 0!==e%2?"none":"block"}),S=g.append("g").attr("class","y axis").call(C).selectAll(".y.axis g text").attr("dx",b/2).style("display",function(t,e){return 0===e?"none":"block"}).classed("midlabel",!0),g.append("path").attr("d",function(t){return e(t.weeks)})},w=function(){var e,n;return $.support.pjax?(e=document.location,u=$("input[name=ctype]:checked").prop("value").toLowerCase(),n=""+e.pathname+"?from="+t(y)+"&to="+t(d)+"&type="+u,window.history.pushState(null,null,n)):void 0},f=function(){return u!==$(this).val()?(w(),g(l)):void 0},l=p(i),g(i)})}.call(this),function(){var t,e,n,r,a,s,i,o,c,l,u,d;l=d3.time.format("%m/%d"),a=d3.time.format("%A, %B %d %Y"),r=d3.time.format("%-I%p"),i=d3.format(","),s={top:20,right:40,bottom:30,left:40},d=980-s.left-s.right,n=150-s.top-s.bottom,t=d3.bisector(function(t){return t.date}).left,e=function(t){return"<div class='blankslate'> <span class='mega-octicon octicon-graph'></span> <h3>No activity so far this "+t+"</h3> </div>"},u=function(t){var e;return e=0>t?"octicon-arrow-down":t>0?"octicon-arrow-up":"","<span class='totals-num'> <span class='octicon "+e+"'></span> "+i(Math.abs(t))+" change </span>"},o=function(t){var e,n;return e=0>t?"octicon-arrow-down":t>0?"octicon-arrow-up":"",n=0>t?"decrease":"increase","<span class='totals-num'> <span class='octicon "+e+"'></span> "+i(Math.abs(t))+"% "+n+" </span>"},c=function(c,l){var h,f,m,p,g,v,b,y,j,w,x,k,C,S,_,T,D,A,P,L,E,M,B,I,O;if(l&&null==l.error){for(p=l.counts,m=l.summary.columns,k=new Date(1e3*l.summary.starting),v=new Date(1e3*l.summary.ending),j=l.summary.model,w=l.summary.period,y=d3.max(d3.merge(d3.values(p)),function(t){return t.count}),M=0,I=m.length;I>M;M++)f=m[M],$(".js-"+j+"-"+f+" .js-total").text(i(l.summary.totals[f])),$(".js-"+j+"-"+f+" .js-changes").append(u(l.summary.total_changes[f])),$(".js-"+j+"-"+f+" .js-changes").append(o(l.summary.percent_changes[f]));if(0===d3.values(l.summary.totals).filter(function(t){return 0!==t}).length)return $(this).html(e(w));for(_=d3.tip().attr("class","svg-tip total-unique").offset([-10,0]).html(function(t){var e,n,s,o,c,u;for(s="",e=function(){switch(w){case"year":return"Week of "+a(t.date);case"week":return""+a(t.date)+" starting at "+r(t.date);default:return a(t.date)}}(),n=270/l.summary.columns.length,u=l.summary.columns,o=0,c=u.length;c>o;o++)f=u[o],s+="<li class='totals "+f+"' style='width:"+n+"px'> <strong>"+i(t[f])+"</strong> "+f.split("_at")[0]+" </li>";return"<span class='title'>"+e+"</span> <ul> "+s+" </ul>"}),x=function(){var e,n,r,a,s,i,o,c,l,u;for(o={},c=D.invert(d3.mouse(this)[0]),s=m[0],i=t(p[s],c,1),n=p[s][i-1],r=p[s][i],e=r&&c-n.date>r.date-c?i:i-1,o.date=p[s][e].date,l=0,u=m.length;u>l;l++)f=m[l],o[f]=p[f][e].count;return a=T.selectAll("g.dots circle").filter(function(t){return t.date===o.date}),_.show.call(this,o,a[0][0])},B=0,O=m.length;O>B;B++)f=m[B],p[f].forEach(function(t){return t.date=new Date(1e3*t.bucket)}),p[f]=p[f].filter(function(t){return t.date<new Date});return D=d3.time.scale().range([0,d]),P=d3.scale.linear().range([n,0]),L=d3.scale.linear().range([n,0]),C=1,S=function(){switch(w){case"year":return d3.time.months;case"week":return C=8,d3.time.hours;default:return C=2,d3.time.days}}(),A=d3.svg.axis().scale(D).tickSize(n+5).tickPadding(10).ticks(S,C).orient("bottom"),E=d3.svg.axis().scale(P).ticks(3).tickFormat(d3.formatSymbol).orient("left"),b=d3.svg.line().x(function(t){return D(t.date)}).y(function(t){return P(t.count)}),T=d3.select(this).append("svg").attr("width",d+s.left+s.right).attr("height",n+s.top+s.bottom).attr("class","vis").append("g").attr("transform","translate("+s.left+","+s.top+")").call(_),D.domain([k,v]),P.domain([0,y]),T.append("g").attr("class","x axis").call(A).selectAll("text").attr("text-anchor","middle"),T.append("g").attr("class","y axis").call(E),h=d3.values(p),T.selectAll("path.path").data(h).enter().append("path").attr("class",function(t){return"path total "+t[0].column}).attr("d",function(t){return b(t)}),g=T.selectAll("g.dots").data(h).enter().append("g").attr("class",function(t){return"dots totals "+t[0].column}),g.each(function(){var t;return t=d3.select(this),t.selectAll("circle").data(function(t){return p[t[0].column]}).enter().append("circle").attr("cx",function(t){return D(t.date)}).attr("cy",function(t){return P(t.count)}).attr("r",4)}),E.orient("right"),T.append("g").attr("class","y axis unique").attr("transform","translate("+d+", 0)").call(E),T.append("rect").attr("class","overlay").attr("width",d).attr("height",n).on("mousemove",x).on("mouseout",function(){return setTimeout(_.hide,500)})}},$(document).on("graph:load",".js-dashboards-overview-graph",c)}.call(this),function(){d3.formatSymbol=function(t,e){var n;return null==e&&(e=!1),e&&(t=Math.abs(t)),1e3>t?t:(n=d3.formatPrefix(t),""+n.scale(t)+n.symbol)},d3.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d3.months=["January","February","March","April","May","June","July","August","September","October","November","December"]}.call(this),function(){var t,e;t={},$.observe(".js-graph",e=function(e){var n,r,a;n=$(e),(r=n.attr("data-url"))&&(n.find("svg").remove(),a=null!=t[r]?t[r]:t[r]=$.ajaxPoll({url:r}),n.addClass("is-graph-loading"),n.removeClass("is-graph-crunching is-graph-load-error is-graph-empty"),a.progress(function(){return n.addClass("is-graph-crunching")}),a.always(function(){return n.removeClass("is-graph-loading is-graph-crunching")}),a.done(function(t){var e,r;return 0===(null!=t?t.length:void 0)||0===(null!=(e=t[0])?null!=(r=e.weeks)?r.length:void 0:void 0)?n.addClass("is-graph-empty"):n.trigger("graph:load",[t])}),a.fail(function(){return n.addClass("is-graph-load-error")}))})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.onSuccess=e(this.onSuccess,this);var n,r,a,s,i,o,c;this.el=$(t),this.canvas=t.getContext("2d"),a=window.devicePixelRatio||1,r=this.canvas.webkitBackingStorePixelRatio||this.canvas.mozBackingStorePixelRatio||this.canvas.msBackingStorePixelRatio||this.canvas.oBackingStorePixelRatio||this.canvas.backingStorePixelRatio||1,o=a/r,1!==o&&(c=t.width,s=t.height,t.width=c*o,t.height=s*o,t.style.width=c+"px",t.style.height=s+"px",this.canvas.scale(o,o)),n=this.el.data("color-all"),i=this.el.data("color-owner"),null!=n&&(this.colors.all=n),null!=i&&(this.colors.owner=i),this.barMaxHeight=this.el.height(),this.barWidth=(this.el.width()-52)/52,this.refresh()}return t.prototype.colors={all:"#cacaca",owner:"#336699"},t.prototype.getUrl=function(){return this.el.data("source")},t.prototype.setData=function(t){var e,n;this.data=t,(null==(null!=(e=this.data)?e.all:void 0)||null==(null!=(n=this.data)?n.owner:void 0))&&(this.data=null),this.scale=this.getScale(this.data)},t.prototype.getScale=function(t){var e,n,r,a,s;if(null!=t){for(e=t.all[0],s=t.all,r=0,a=s.length;a>r;r++)n=s[r],n>e&&(e=n);return e>=this.barMaxHeight?(this.barMaxHeight-.1)/e:1}},t.prototype.refresh=function(){$.ajax({url:this.getUrl(),dataType:"json",success:this.onSuccess})},t.prototype.onSuccess=function(t){this.setData(t),this.draw()},t.prototype.draw=function(){null!=this.data&&(this.drawCommits(this.data.all,this.colors.all),this.drawCommits(this.data.owner,this.colors.owner))},t.prototype.drawCommits=function(t,e){var n,r,a,s,i,o,c,l;for(a=c=0,l=t.length;l>c;a=++c)n=t[a],s=this.barWidth,r=n*this.scale,i=a*(this.barWidth+1),o=this.barMaxHeight-r,this.canvas.fillStyle=e,this.canvas.fillRect(i,o,s,r)},t}(),$.observe(".js-participation-graph",function(){new t(this)})}.call(this),function(){$(document).on("graph:load",".js-pulse-authors-graph",function(t,e){var n,r,a,s,i,o,c,l,u,d,h,f,m,p,g;return n=15,e=e.slice(0,+(n-1)+1||9e9),h=$(this).width(),a=$(this).height(),g=[20,0,10,20],l=g[0],c=g[1],i=g[2],o=g[3],f=d3.scale.ordinal().rangeRoundBands([0,h-o-c],.2),m=d3.scale.linear().range([a,0]),p=d3.svg.axis().scale(m).orient("left").ticks(3).tickSize(-h+o+c).tickFormat(d3.formatSymbol),s=d3.max(e,function(t){return t.commits}),m.domain([0,s]),f.domain(d3.range(n)),i=f.rangeBand()+i,u=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(t){var e;return"<strong>"+t.commits+"</strong> "+$.pluralize(t.commits,"commit")+" by <strong>"+(null!=(e=t.login)?e:t.name)+"</strong>"}),d=d3.select(this).append("svg").attr("id","graph-pulse-authors").attr("height",a+l+i).append("g").attr("transform","translate("+o+", "+l+")").call(u),d.append("g").attr("class","y axis").call(p),r=d.selectAll("g.bar").data(e).enter().append("g").attr("class","bar").attr("transform",function(t,e){return"translate("+f(e)+", 0)"}),r.append("rect").attr("width",f.rangeBand()).attr("height",function(t){return a-m(t.commits)}).attr("y",function(t){return m(t.commits)}).on("mouseover",u.show).on("mouseout",u.hide),r.append("image").attr("y",a+5).attr("xlink:href",function(t){return t.gravatar}).attr("width",f.rangeBand()).attr("height",f.rangeBand()).on("click",function(t){return null!=t.login?document.location="/"+t.login:void 0})})}.call(this),function(){$(document).on("graph:load",".js-graph-punchcard",function(t,e){var n,r,a,s,i,o,c,l,u,d,h,f,m,p,g,v,b,y,j,w,x;return i=500,y=$(this).width(),d={},e.forEach(function(t){var e,n,r;return r=d3.weekdays[t[0]],e=null!=d[r]?d[r]:d[r]=[],n=t[1],null==e[n]&&(e[n]=0),e[n]+=t[2]}),e=d3.entries(d).reverse(),x=[0,0,0,20],p=x[0],f=x[1],m=x[2],h=x[3],c=100,r=d3.range(7),o=d3.range(24),u=d3.min(e,function(t){return d3.min(t.value)}),l=d3.max(e,function(t){return d3.max(t.value)}),j=d3.scale.ordinal().domain(o).rangeRoundBands([0,y-c-f-m],.1),w=d3.scale.ordinal().domain(r).rangeRoundBands([i-p-h,0],.1),g=d3.scale.sqrt().domain([0,l]).range([0,j.rangeBand()/2]),v=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(t){return"<strong>"+t+"</strong> "+$.pluralize(t,"commit")}),b=d3.select(this).data(e).attr("width",""+y+"px").append("svg").attr("width",y+(f+m)).attr("height",i+p+h).attr("class","viz").append("g").attr("transform","translate("+f+","+p+")").call(v),a=b.selectAll("g.day").data(e).enter().append("g").attr("class","day").attr("transform",function(t,e){return"translate(0, "+w(e)+")"}),a.append("line").attr("x1",0).attr("y1",w.rangeBand()).attr("x2",y-f-m).attr("y2",w.rangeBand()).attr("class","axis"),a.append("text").attr("class","day-name").text(function(t){return t.key}).attr("dy",w.rangeBand()/2),b.append("g").selectAll("text.hour").data(o).enter().append("text").attr("text-anchor","middle").attr("transform",function(t,e){return"translate("+(j(e)+c)+", "+i+")"}).attr("class","label").text(function(t){var e;return e=t%12||12,0===t||12>t?""+e+"a":""+e+"p"}),s=a.selectAll(".hour").data(function(t){return t.value}).enter().append("g").attr("class","hour").attr("transform",function(t,e){return"translate("+(j(e)+c)+", 0)"}).attr("width",j.rangeBand()),s.append("line").attr("x1",0).attr("y1",function(t,e){return w.rangeBand()-(0===e%2?15:10)}).attr("x2",0).attr("y2",w.rangeBand()).attr("class",function(t,e){return 0===e%2?"axis even":"axis odd"}),n=s.append("circle").attr("r",0).attr("cy",w.rangeBand()/2-5).attr("class",function(){return"day"}).on("mouseover",v.show).on("mouseout",v.hide),n.transition().attr("r",g)})}.call(this),function(){var t,e,n,r,a,s,i,o,c;i=d3.time.format.utc("%m/%d"),n=d3.time.format.utc("%A, %B %d %Y"),a=d3.format(","),r={top:20,right:80,bottom:30,left:40},c=960-r.left-r.right,e=150-r.top-r.bottom,o=d3.tip().attr("class","svg-tip total-unique").offset([-10,0]).html(function(t){return"<span class='title'>"+n(t.date)+"</span> <ul> <li class='totals'><strong>"+a(t.total)+"</strong> views</li ><li class='uniques'><strong>"+a(t.unique)+"</strong> unique visitors</li> </ul>"}),t=d3.bisector(function(t){return t.date}).left,s=function(n,s){var l,u,d,h,f,m,p,g,v,b,y,j,w,x,k,C,S,_,T,D,A,P,L,E;if(s&&null==s.error){for(C=d3.time.scale.utc().range([0,c]),_=d3.scale.linear().range([e,0]),T=d3.scale.linear().range([e,0]),S=d3.svg.axis().scale(C).tickSize(e+5).tickPadding(10).tickFormat(i).orient("bottom"),D=d3.svg.axis().scale(_).ticks(3).tickFormat(d3.formatSymbol).orient("left"),f=d3.svg.line().x(function(t){return C(t.key)}).y(function(t){return _(t.value)}),w=d3.select(this).append("svg").attr("width",c+r.left+r.right).attr("height",e+r.top+r.bottom).attr("class","vis").append("g").attr("transform","translate("+r.left+","+r.top+")").call(o),l=s.counts.slice(0,14),l.forEach(function(t){return t.date=new Date(1e3*(t.bucket+t.tz_seconds))}),l.sort(function(t,e){return d3.ascending(t.date,e.date)}),p=function(){var e,n,r,a,s,i;return i=C.invert(d3.mouse(this)[0]),s=t(l,i,1),n=l[s-1],r=l[s],n&&r?(e=i-n.date>r.date-i?r:n,a=w.selectAll("g.dots circle").filter(function(t){return t.key===e.date}),o.show.call(this,e,a[0][0])):void 0},v=[],j=[],A=0,P=l.length;P>A;A++)h=l[A],v.push({key:h.date,value:h.total}),j.push({key:h.date,value:h.unique});return m=[v,j],L=d3.extent(l,function(t){return t.date}),g=L[0],d=L[1],E=d3.extent(v,function(t){return t.value}),k=E[0],x=E[1],b=d3.max(j,function(t){return t.value}),y=b+d3.median(j,function(t){return t.value}),C.domain([g,d]),_.domain([0,x]),T.domain([0,y]),$(".js-views").text(a(s.summary.total)),$(".js-uniques").text(a(s.summary.unique)),w.append("g").attr("class","x axis").call(S),w.append("g").attr("class","y axis views").call(D),w.selectAll("path.path").data(m).enter().append("path").attr("class",function(t,e){return"path "+(0===e?"total":"unique")}).attr("d",function(t,e){return 0===e?f(t):f.y(function(t){return T(t.value)})(t)}),u=w.selectAll("g.dots").data(m).enter().append("g").attr("class",function(t,e){return 0===e?"dots totals":"dots uniques"}),u.each(function(t,e){var n;return n=d3.select(this),1===e&&(_=T),n.selectAll("circle").data(function(t){return t}).enter().append("circle").attr("cx",function(t){return C(t.key)}).attr("cy",function(t){return _(t.value)}).attr("r",4)}),D.scale(T).orient("right"),w.append("g").attr("class","y axis unique").attr("transform","translate("+c+", 0)").call(D),w.append("rect").attr("class","overlay").attr("width",c).attr("height",e).on("mousemove",p).on("mouseout",function(){return setTimeout(o.hide,500)})}},$.observe(".js-traffic-graph",{remove:o.hide}),$(document).on("graph:load",".js-traffic-graph",s),$(document).on("click",".js-domain-list",function(t){return t.preventDefault(),$(".js-top-paths").fadeOut("fast",function(){return $(".js-top-domains").fadeIn("fast")})}),$(document).on("click",".js-domain",function(t){return t.preventDefault(),$.ajax({url:$(this).attr("href"),beforeSend:function(){return $(".js-top-domains").hide(),$(".js-spinner").show()}}).done(function(t){return $(".js-spinner").hide(),$(".js-top-paths").html(t).fadeIn("fast")})})}.call(this),function(){$(document).on("click",".dropdown-toggle .js-menu-target",function(){return $(".dropdown-toggle .js-menu-content").html($(".js-new-dropdown-contents").html())}),$(document).on("click",".js-skip-to-content",function(){return $("#start-of-content").next().attr("tabindex","-1").focus()})}.call(this),function(){var t,e,n,r,a,s,i,o,c,l,u,d,h,f,m,p;for(u=16,h=["mousedown","mouseup","click","dblclick","mousemove","mouseover","mouseout","mousewheel","keydown","keyup","keypress","input","resize","scroll","zoom","focus","blur","select","change","submit","reset"],f={},m=0,p=h.length;p>m;m++)d=h[m],f[d]=!0;a=$(document.documentElement).hasClass("is-preview-features"),l=new TryStorage(localStorage),e=jQuery.event.dispatch,jQuery.event.dispatch=function(t){var n,r,i,o;return i=performance.now(),r=e.apply(this,arguments),n=performance.now(),o=n-i,f[t.type]&&o>=u&&(a&&console.warn("jQuery dispatch (%sms) %s, target: %o",Math.ceil(o),t.type,t.target),s(t,o)),r},t="slow-events",r=function(){return null!=l.getItem(t)},n=function(){var e;return e=l.getItem(t),e?JSON.parse(e):[]},c=function(e){return null!=e?l.setItem(t,JSON.stringify(e)):l.removeItem(t)},s=function(t,e){var a;return a=n(),a.push({eventType:t.type,eventTarget:$(t.target).inspect(),eventTimeStamp:t.timeStamp,eventDuration:e}),c(a),r()?o():void 0},o=function(){var t,e;return e=null,t=function(){return e=null,i()},function(){return null!=e?e:e=setTimeout(t,3e4)}}(),i=function(){var t;return t=n(),c(null),t.length?$.ajax({type:"POST",url:"/_stats",data:{slowevents:t}}):void 0},$(window).on("load",function(){return r()?o():void 0})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.input=t,this.enableNavigation=e(this.enableNavigation,this),this.loadSuggestions=e(this.loadSuggestions,this),this.onNavigationOpen=e(this.onNavigationOpen,this),this.onNavigationKeyDown=e(this.onNavigationKeyDown,this),this.onKeyUp=e(this.onKeyUp,this),this.deactivate=e(this.deactivate,this),this.activate=e(this.activate,this),this.container=e(this.container,this),this.list=e(this.list,this),$(this.input).attr("data-member-adder-activated")||($(this.input).attr("data-member-adder-activated",!0),$(this.input).on("focusout:delayed.member-adder",this.deactivate),$(this.input).on("focusin:delayed.member-adder",this.activate),$(this.input).on("keyup.member-adder",this.onKeyUp),$(this.input).on("throttled:input.member-adder",this.loadSuggestions),this.spinner=document.getElementById($(this.input).attr("data-spinner")),this.container().on("navigation:keydown.member-adder","[data-value]",this.onNavigationKeyDown),this.container().on("navigation:open.member-adder","[data-value]",this.onNavigationOpen),this.sudo=$(this.input).attr("data-sudo-required"),this.blankSlate=this.container().html(),this.added={})}return t.prototype.list=function(){return this._list||(this._list=$(document.getElementById($(this.input).attr("data-member-list"))))},t.prototype.container=function(){return this._container||(this._container=$(document.getElementById($(this.input).attr("data-member-adder"))))},t.prototype.activate=function(){return!this.container().is(".active")&&this.query?(this.container().addClass("active"),this.enableNavigation()):void 0},t.prototype.deactivate=function(){this.container().removeClass("active"),this.container().find(".suggestions").hide(),this.container().html(this.blankSlate),$(this.input).removeClass("js-navigation-enable"),this.container().navigation("pop")},t.prototype.onKeyUp=function(){var t;return t=$(this.input).val(),t!==this.query?(this.query=t)?(this.search(t),this.activate(),this.query):(this.query=null,this.deactivate(),void 0):void 0},t.prototype.onNavigationKeyDown=function(t){switch(t.hotkey){case"tab":return this.onNavigationOpen(t),!1;case"esc":return this.deactivate(),!1}},t.prototype.onNavigationOpen=function(t){var e,n,r,a,s;return e=$(t.target),e.hasClass("disabled")||(a=e.attr("data-value"),this.input.value="",r=this.container().attr("data-add-url"),null!=(s=this.ajax)&&s.abort(),n=this.sudo?$.sudo():Promise.resolve(),n.then(function(t){return function(){return t.startSpinner(),r?$.ajax({url:r,type:"post",data:{member:a},complete:function(e){return t.stopSpinner(),200===e.status?(t.list().prepend(e.responseText),t.list().pageUpdate(),t.list().trigger("member-adder:added",a),t.added[a]=!0,t.deactivate()):t.list().trigger("member-adder:error",[a,e])}}):(t.stopSpinner(),0===t.list().find("li[data-value='"+a+"']").length&&(t.list().prepend(t.container().find("li[data-value='"+a+"']").clone()),t.list().pageUpdate(),t.list().trigger("member-adder:added",a))),t.deactivate(),t.input.focus()}}(this))),this.deactivate(),this.input.focus(),!1},t.prototype.startSpinner=function(){return $(this.input).closest(".js-adder-container").addClass("is-sending"),this.spinner&&$(this.spinner).length?$(this.spinner).removeClass("hidden"):void 0},t.prototype.stopSpinner=function(){return $(this.input).closest(".js-adder-container").removeClass("is-sending"),this.spinner&&$(this.spinner).length?$(this.spinner).addClass("hidden"):void 0},t.prototype.search=function(){var t,e;return e=this.container().find("ul"),e[0]?(t=this.container().find(".js-no-results"),this.container().addClass("active"),e.find("li").length>0?(t.addClass("hidden"),this.enableNavigation()):(t.removeClass("hidden"),t.addClass("active"))):void 0},t.prototype.loadSuggestions=function(){var t,e;if((t=this.query)&&(e=this.container().attr("data-search-url"))&&!this.ajax)return this.startSpinner(),this.ajax=$.ajax({url:e,data:{query:t},complete:function(t){return function(){return t.ajax=null,t.stopSpinner()}}(this),success:function(t){return function(e){var n;return n=$($.parseHTML(e)),t.container().html(n),t.query=null,t.onKeyUp()}}(this)})},t.prototype.enableNavigation=function(){return $(this.input).addClass("js-navigation-enable"),this.container().navigation("push"),this.container().navigation("focus")},t}(),$.observe("input[data-member-adder]",function(){new t(this)})}.call(this),function(){$(document).on("submit",".js-mobile-preference-form",function(){var t;return t=$(this).find(".js-mobile-preference-anchor-field"),t.val(window.location.hash.substr(1)),!0})}.call(this),function(){var t,e;$(document).on("click",".js-org-billing-plans .js-choose-plan",function(){return t($(this).closest(".js-plan-row")),!1}),t=function(t){var n,r,a,s;return a=t.attr("data-name"),r=parseInt(t.attr("data-cost"),10),n=parseInt(null!=(s=t.attr("data-balance"))?s:"0",10),$(".js-org-billing-plans").find(".js-plan-row, .js-choose-plan").removeClass("selected"),t.find(".js-choose-plan").addClass("selected"),t.addClass("selected"),$(".js-plan").val(a),0===r&&0===n?Billing.displayCreditCardFields(!1):(Billing.displayCreditCardFields(!0),null!=t.attr("data-balance")?e(a):void 0)},e=function(t){return $(".js-plan-change-message").addClass("is-hidden"),$('.js-plan-change-message[data-name="'+t+'"]').removeClass("is-hidden")},$(function(){return Billing.displayCreditCardFields(!1),$(".selected .js-choose-plan").click()})}.call(this),function(){var t,e;t=function(){var t,n,r,a,s,i;return s=[],n=$(".js-advanced-search-input").val(),i={Repositories:0,Users:0,Code:0},t=$("input[type=text].js-advanced-search-prefix, select.js-advanced-search-prefix"),s=e(t,function(t,e,n){return""===t?"":(""!==e&&i[n]++,""!==e?""+t+e:void 0)}),$.merge(s,e($("input[type=checkbox].js-advanced-search-prefix"),function(t,e,n){var r;return r=$(this).prop("checked"),r!==!1&&i[n]++,r!==!1?""+t+r:void 0})),r=function(t){return t.Users>t.Code&&t.Users>t.Repositories?"Users":t.Code>t.Users&&t.Code>t.Repositories?"Code":"Repositories"},a=$.trim(s.join(" ")),$(".js-type-value").val(r(i)),$(".js-search-query").val($.trim(""+n+" "+a)),$(".js-advanced-query").empty(),$(".js-advanced-query").text(""+a),$(".js-advanced-query").prepend($("<span>").text($.trim(n))," ")},e=function(t,e){return $.map(t,function(t){var n,r,a,s;return a=$.trim($(t).val()),n=$(t).attr("data-search-prefix"),r=$(t).attr("data-search-type"),s=function(t){return-1!==t.search(/\s/g)?'"'+t+'"':t},""===n?e.call(t,n,a,r):-1!==a.search(/\,/g)&&"location"!==n?a.split(/\,/).map(function(a){return e.call(t,n,s($.trim(a)),r)}):e.call(t,n,s(a),r)})},$(document).onFocusedInput(".js-advanced-search-prefix",function(){return function(){return t()}}),$(document).on("change",".js-advanced-search-prefix",t),$(document).on("focusin",".js-advanced-search-input",function(){return $(this).closest(".js-advanced-search-label").addClass("focus")}),$(document).on("focusout",".js-advanced-search-input",function(){return $(this).closest(".js-advanced-search-label").removeClass("focus")}),$(document).on("click",".js-see-all-search-cheatsheet",function(){return $(".js-more-cheatsheet-info").removeClass("hidden"),!1}),$(function(){return $(".js-advanced-search-input").length?t():void 0})}.call(this),function(){var t,e,n,r;r=function(){var t,e;for(e=[],n=t=1;10>=t;n=++t)e.push("heat"+n);return e}(),t=d3.scale.quantile().range(r),$.pageUpdate(e=function(){var e,n,r,a,s,i,o,c,l,u,d,h;for(s=new Date,d=$(this).find(".js-blame-heat"),o=0,l=d.length;l>o;o++)for(i=d[o],e=new Date(i.getAttribute("data-repo-created")),t.domain([0,s-e]),h=$(i).find(".js-line-age"),c=0,u=h.length;u>c;c++)a=h[c],n=new Date(a.getAttribute("data-date")),r=t(s-n),$(a).addClass(r)})}.call(this),function(){var t,e,n,r,a,s,i,o;n=function(t){var e,n,r,a,s;if(n=t.match(/\#?(?:L|-)(\d+)/gi)){for(s=[],r=0,a=n.length;a>r;r++)e=n[r],s.push(parseInt(e.replace(/\D/g,"")));return s}return[]},t=function(t){switch(t.sort(i),t.length){case 1:return"#L"+t[0];case 2:return"#L"+t[0]+"-L"+t[1];default:return"#"}},i=function(t,e){return t-e},s=!1,e=function(t){var e,n,r;if(n=$(".line, .line-data"),n.length){if(n.css("background-color",""),1===t.length)return $("#LC"+t[0]).css("background-color","#ffc");if(t.length>1){for(e=t[0],r=[];e<=t[1];)$("#LC"+e).css("background-color","#ffc"),r.push(e++);return r}}},a=function(t){var r;return null==t&&(t=n(window.location.hash)),e(t),!s&&(r=$("#LC"+t[0])).length&&$(window).scrollTop(r.offset().top-.33*$(window).height()),s=!1},o=function(t,e){var n,r,a,s,i;for(null==e&&(e=window.location.hash),i=[],a=0,s=t.length;s>a;a++)r=t[a],e?i.push(r.hash=e):(n=r.href.indexOf("#"))>=0?i.push(r.href=r.href.substr(0,n)):i.push(void 0);return i},$.hashChange(function(){return $(".line, .line-data").length?(setTimeout(a,0),o($(".js-update-url-with-hash"))):void 0}),r=function(t){var e,n;return s=!0,e=null!=(n=$(window).scrollTop())?n:0,t(),$(window).scrollTop(e)},$(document).on("mousedown",".line-number, .blob-line-nums span[rel], .csv-row-num",function(e){var a,s;return s=$(this).hasClass("csv-row-num")?n($(this).find("span").first().attr("id")):n($(this).attr("rel")),e.shiftKey&&(a=n(window.location.hash),s.unshift(a[0])),r(function(){return window.location.hash=t(s)}),!1}),$(document).on("submit",".js-jump-to-line-form",function(){var t,e;return t=$(this).find(".js-jump-to-line-field")[0],(e=t.value.replace(/[^\d\-]/g,""))&&(window.location.hash="L"+e),$(document).trigger("close.facebox"),!1})}.call(this),function(){var t,e,n,r,a,s,i,o,c;a=function(){var t,e,n,r,a,s,i,o,c;return e=$(".js-blob-form"),t=e.find(".js-blob-filename"),i=!t[0]||t.val()!==t.attr("data-default-value"),t[0]&&(i=i&&"."!==t.val()&&".."!==t.val()&&".git"!==t.val()&&!t.val().match(/^\s+$/)),o=e.find(".js-check-for-fork").is($.visible),s=$(".js-blob-contents")[0],r=s.value!==s.defaultValue,n=r||$(s).attr("data-allow-unchanged")||$(s).attr("data-new-filename"),a=""===s.value,e.find(".js-blob-submit").prop("disabled",!i||o||!n||a),c=r||$(s).attr("data-allow-unchanged"),e.find(".js-blob-contents-changed").val(c)},$.pageUpdate(function(){var t;if(t=$(this).find(".js-blob-contents")[0])return a()}),$(document).on("change",".js-blob-contents",function(){return s($(".js-blob-filename")),a()}),$(document).on("click",".js-new-blob-submit",function(){return $(this).closest("form.js-new-blob-form").submit()}),$(document).onFocusedInput(".js-blob-filename",function(){return function(){return $(".js-blob-contents").attr("data-filename",$(this).val()),r($(this).val()),s($(this))}}),$(document).onFocusedInput(".js-breadcrumb-nav",function(){return function(){return c($(this)),s($(this))}}),$(document).onFocusedKeydown(".js-breadcrumb-nav",function(){return function(t){var e,r,a;return r=$(this).caretSelection(),a=[0,0],e=0===$(r).not(a).length&&0===$(a).not(r).length,e&&8===t.keyCode&&1!==$(this).parent().children(".separator").length&&(n($(this),!0),t.preventDefault()),s($(this))}}),s=function(t){return null!=t[0]&&(o(t),i(t)),a()},c=function(t){var r,a,s,i,o,c;for(c=[];t.val().split("/").length>1;)r=t.val(),s=r.split("/"),a=s[0],o=s.slice(1).join("/"),""===a||"."===a||".git"===a?(t.val(o),i=function(){return t.caret(0)},c.push(window.setTimeout(i,1))):".."===a?c.push(n(t)):c.push(e(t,a,o));return c},r=function(t){var e,n;return e=$(".js-gitignore-template"),n=$(".js-license-template"),/^(.+\/)?\.gitignore$/.test(t)?e.addClass("is-visible"):/^(.+\/)?(licen[sc]e|copying)($|\.)/i.test(t)?n.addClass("is-visible"):(e.removeClass("is-visible"),n.removeClass("is-visible"))},i=function(t){var e,n,r,a,s,i,o,c,l,u,d,h;return r=t.closest("form"),n=$(".js-blob-contents"),e=r.find(".js-new-blob-commit-summary"),o=t.val()?"Create "+t.val():"Create new file",d=n.attr("data-old-filename"),c=$(".js-new-filename-field").val(),n.removeAttr("data-new-filename"),o=d.length&&c!==d&&null!=t[0]?(n.attr("data-new-filename","true"),s=n[0].value!==n[0].defaultValue,a=s?"Update and rename":"Rename",t.val().length&&c.length?(h=d.split("/"),l=c.split("/"),u=!0,i=h.length-1,h.forEach(function(t,e){return e!==i&&t!==l[e]?u=!1:void 0}),h.length===l.length&&u?""+a+" "+h[i]+" to "+l[i]:""+a+" "+d+" to "+c):""+a+" "+d):d.length&&c===d?"Update "+t.val():o,e.attr("placeholder",o),$(".js-commit-message-fallback").val(o)},o=function(t){var e,n;return e=$(".breadcrumb").children("[itemscope]"),n="",e.each(function(){var t;return t=$(this),n=n+t.text()+"/"}),n+=t.val(),$(".js-new-filename-field").val(n)},n=function(t,e){var n,a;return null==e&&(e=!1),e||t.val(t.val().replace("../","")),a=function(){return t.caret(0)},1!==t.parent().children(".separator").length&&(t.prev().remove(),n=t.prev().children().children().html(),t.prev().remove(),e&&(t.val(""+n+t.val()),a=function(){return e?t.caret(n.length):void 0})),r(t.val()),window.setTimeout(a,1)},e=function(t,e,n){var a,s,i,o,c,l,u;return null==n&&(n=""),e=e.replace(/[^-.a-z_0-9]+/gi,"-"),e=e.replace(/^-+|-+$/g,""),e.length>0&&(u=t.parent().children(".js-repo-root, [itemtype]").children("a").last().attr("href"),u||(a=t.parent().children(".js-repo-root, [itemtype]").children("span").children("a").last(),s=a.attr("data-branch"),c=a.attr("href"),u=""+c+"/tree/"+s),i=$(".js-crumb-template").clone().removeClass("js-crumb-template"),i.find("a[itemscope]").attr("href",""+u+"/"+e),i.find("span").text(e),o=$(".js-crumb-separator").clone().removeClass("js-crumb-separator"),t.before(i,o)),t.val(n),r(t.val()),l=function(){return t.caret(0)},window.setTimeout(l,1)},$(document).onFocusedInput(".js-new-blob-commit-summary",function(){var t;return t=$(this).closest(".js-file-commit-form"),function(){return t.toggleClass("is-too-long-error",$(this).val().length>50)}}),t=function(t){var e,n,r;if(!t.data("checking-for-fork"))return a(),e=function(){return t.hide(),a()
},n=function(){return t.html('<span class="octicon octicon-alert"></span>\nSomething went wrong. Please fork the project, then try from your fork.')},r=t.attr("data-check-url"),$.ajaxPoll({url:r,status:404}).then(e,n),t.data("checking-for-fork",!0)},$.pageUpdate(function(){var e,n,r,a;for(a=$(".js-check-for-fork"),n=0,r=a.length;r>n;n++)e=a[n],t($(e))}),$(document).on("change",".js-gitignore-template input[type=radio]",function(){return $.ajax({type:"GET",url:$(this).attr("data-template-url"),success:function(t){return editor.setCode(t)}})}),$(document).on("change",".js-license-template input[type=radio]",function(){var t;return t=$(this).attr("data-template-contents"),editor.setCode(t)}),$(document).onFocusedKeydown(".js-new-blob-commit-description",function(){return function(t){return"ctrl+enter"===t.hotkey||"meta+enter"===t.hotkey?($(this).closest("form").submit(),!1):void 0}})}.call(this),function(){$(document).on("ajaxSend",".js-branch-delete",function(){return $(this).addClass("disabled"),$(this).closest(".actions").find(".spinner").show()}),$(document).on("ajaxSuccess",".js-branch-delete",function(){var t,e,n,r;return t=$(this),t.removeClass("disabled"),(r=t.closest("tr")).length?(r.fadeOut(),!1):(n=t.closest(".js-branch-summary"),e=n.next(".js-deleted-branch-summary"),n.hide(),e.show(),!1)}),$(document).on("ajaxSuccess",".js-undo-delete",function(){var t,e;return t=$(this).closest(".js-deleted-branch-summary"),e=t.prev(".js-branch-summary"),t.hide(),e.show(),!1}),$(document).on("ajaxError",".js-branch-delete",function(){return $(this).closest(".actions").find(".spinner").hide().length?($(this).html("Couldn't delete!"),!1):($(this).removeClass("disabled"),!0)}),$(function(){var t,e,n,r;return e=2,t=7,r=30,n=1e4,$(".diverge-widget").each(function(){var n,a,s;return n=$(this),a=new Date(parseInt(n.attr("last-updated"),10)),s=(new Date-a)/1e3/3600/24,e>=s?n.addClass("hot"):t>=s?n.addClass("fresh"):r>=s?n.addClass("stale"):n.addClass("old")})}),$(document).on("throttled:input",".js-branch-search-field",function(){var t,e;return t=$(this).val(),e=t.length>0,e&&$(".js-branch-search-contents").addClass("is-loading"),$(".js-branches-next").toggleClass("is-searching",e),$(".js-branch-search-results").empty(),e?$.get($(this).attr("data-search-url"),{query:t},function(t){return $(".js-branch-search-results").html(t),$(".js-branch-search-contents").removeClass("is-loading")}):void 0}),$(document).on("keyup",".js-branch-search-field",function(){return 27===event.keyCode?$(".js-clear-branch-search").trigger("click"):void 0}),$(document).on("click",".js-clear-branch-search",function(t){return t.preventDefault(),$(".js-branch-search-field").val("").trigger("throttled:input")}),$.observe(".js-branch-ahead-behind-bar",function(){var t,e,n;return t=$(this),n=d3.scale.log().domain([1,t.attr("data-max-diverged")]).range([0,80]),e=n(t.attr("data-bar-value")),d3.select(this).transition().duration(300).style("width",""+e+"%")})}.call(this),function(){$.pageUpdate(function(){var t,e;if((t=document.getElementById("diff-comment-data"))&&!$(t).data("commit-inline-comments-rendered"))return e={},$(".diff-view > .file > .meta").each(function(){return e[$(this).attr("data-path")]=this}),$("#diff-comment-data > table").each(function(){var t,n,r,a;return n=$(this).attr("data-path"),r=$(this).attr("data-position"),t=$(e[n]).closest(".file"),a=t.find(".data table tr[data-position='"+r+"']"),a.after($(this).children("tbody").children("tr").detach()),t.addClass("has-inline-notes show-inline-notes")}),$("#diff-comment-data > div").each(function(){var t;return t=$(this).attr("data-path"),$(e[t]).closest(".file").find(".file-comments-place-holder").replaceWith($(this).detach())}),$(t).data("commit-inline-comments-rendered",!0)}),$(document).on("change",".js-show-inline-comments-toggle",function(){return $(this).closest(".file").toggleClass("show-inline-notes",this.checked)}),$(document).on("keyup",function(t){var e;return"i"===t.hotkey&&t.target===document.body?(e=0===$(".js-show-inline-comments-toggle:not(:checked)").length,$(".js-show-inline-comments-toggle").prop("checked",!e).trigger("change")):void 0}),$(document).on("change","#js-inline-comments-toggle",function(){return $("#comments").toggleClass("only-commit-comments",!this.checked)}),$(document).on("click",".linkable-line-number",function(){return document.location.hash=this.id,!1}),$(document).on("click",".js-tag-list-toggle",function(){var t;return t=$(this),t.closest(".tag-list").find("li").show(),t.hide(),!1})}.call(this),function(){$(document).on("navigation:keyopen",".commit-group-item",function(){return $(this).find(".commit-title > a").first().click(),!1}),$(document).on("navigation:keydown",".commit-group-item",function(t){return"c"===t.hotkey?($(this).find(".commit-title > a").first().click(),!1):void 0})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};$(document).on("click",".js-compare-tabs a",function(){return $(this).closest(".js-compare-tabs").find("a").removeClass("selected"),$(this).addClass("selected"),$("#commits_bucket, #files_bucket, #commit_comments_bucket").hide(),$(this.hash).show(),!1}),$.hashChange(function(){return $(this).closest("#files_bucket")[0]&&!$(this).is($.visible)?$('a.tabnav-tab[href="#files_bucket"]').click():void 0}),$(document).on("click",".js-cross-repo a",function(t){return t.preventDefault(),$(this).closest(".js-range-editor").addClass("is-cross-repo")}),$(document).on("click",".js-expand-range-editor",function(){var t;return t=$(this).closest(".js-range-editor"),t.removeClass("is-collapsed").addClass("is-expanded")}),$(document).on("click",".js-collapse-range-editor",function(){var t;return t=$(this).closest(".js-range-editor"),t.addClass("is-collapsed").removeClass("is-expanded")}),t=function(){function t(t){this.onCommitishSelect=e(this.onCommitishSelect,this),this.$container=$(t),"yes"!==this.$container.attr("data-range-editor-activated")&&(this.$form=$("#js-compare-body-form"),this.$suggesters=this.$container.find(".js-select-menu"),this.urlTemplate=this.$container.attr("data-url-template"),this.currentRepo=this.$container.attr("data-current-repository"),this.base=this.$suggesters.filter('[data-type="base"]').attr("data-initial-value"),this.head=this.$suggesters.filter('[data-type="head"]').attr("data-initial-value"),this.baseFork=this.$suggesters.filter('[data-type="base-fork"]').attr("data-initial-value"),this.headFork=this.$suggesters.filter('[data-type="head-fork"]').attr("data-initial-value"),this.discussionDrafted=$(".js-compare-body-draft").length>0,this.$suggesters.on("navigation:open.range-editor",".js-navigation-item",this.onCommitishSelect),this.$container.attr("data-range-editor-activated","yes"))}return t.prototype.teardown=function(){return this.$suggesters.off(".range-editor"),this.$container.attr("data-range-editor-activated",null)},t.prototype.onCommitishSelect=function(t){var e,n;switch(n=$.trim($(t.target).text()),e=$(t.target).closest(".js-select-menu").attr("data-type")){case"base":this.base=n;break;case"head":this.head=n;break;case"base-fork":this.baseFork=n;break;case"head-fork":this.headFork=n}return this.updateDiff()},t.prototype.updateDiff=function(){var t,e,n,r,a;return t=encodeURIComponent(this.base),n=encodeURIComponent(this.head),this.currentRepo!==this.baseFork&&(t=""+this.baseFork.replace(/\/(.+)/,"")+":"+t),this.currentRepo!==this.headFork&&(n=""+this.headFork.replace(/\/(.+)/,"")+":"+n),a=this.urlTemplate.replace("{{head}}",n).replace("{{base}}",t),r={url:a,container:this.$container.closest("[data-pjax-container]")[0]},(this.discussionDrafted||this.$form.hasDirtyFields())&&(this.discussionDrafted=!0,e={type:"POST",data:this.$form.serializeArray()},r=$.extend({},r,e)),$.pjax(r)},t}(),$.pageUpdate(function(){return $(".js-commitish-range-editor").each(function(){return new t(this)})})}.call(this),function(){$(document).on("focusin",".js-contact-documentation-suggestions",function(){return $(this).data("quicksearch-installed")?void 0:($(this).quicksearch({url:$(this).attr("data-quicksearch-url"),results:$(this).closest("form").find(".documentation-results")}),$(this).data("quicksearch-installed",!0))}),$(function(){return $(".js-contact-javascript-flag").val("true")})}.call(this),function(){var t;t=function(t){var e,n,r,a,s,i;for(t=t.toLowerCase(),e=$(".js-csv-data tbody tr"),i=[],a=0,s=e.length;s>a;a++)n=e[a],r=$(n).text().toLowerCase(),-1===r.indexOf(t)?i.push($(n).hide()):i.push($(n).show());return i},$(document).on("keyup",".js-csv-filter-field",function(e){var n;return n=e.target.value,null!=n&&t(n),!1})}.call(this),function(){$(document).on("mousedown",".diff-line-code",function(){var t;return t=$(this).closest(".file-diff"),t.addClass("hide-line-numbers"),t.hasClass("line-number-attrs")||(t.addClass("line-number-attrs"),t.find(".diff-line-num").each(function(){var t;return t=$(this),t.hasClass("expandable-line-num")?void 0:t.attr("data-line-number",$.trim(t.text()))})),$(document).one("mouseup",function(){return window.getSelection().toString()?void 0:t.removeClass("hide-line-numbers")})})}.call(this),function(){$(document).on("focusin",".js-url-field",function(){var t;return t=this,setTimeout(function(){return $(t).select()},0)})}.call(this),function(){var t;$.observe(".js-discussions-container",t=function(t){$(t).selectableList(".js-discussion-list-container",{wrapperSelector:".js-list-browser-item.selectable",itemParentSelector:"",enableShiftSelect:!0,ignoreLinks:!0})})}.call(this),function(){$(document).on("click",".js-events-pagination",function(){var t,e;return e=$(this).parent(".ajax_paginate"),t=e.parent(),e.hasClass("loading")?!1:(e.addClass("loading"),$.ajax({url:$(this).attr("href"),complete:function(){return e.removeClass("loading")},success:function(n){return e.replaceWith(n),t.pageUpdate()}}),!1)})}.call(this),function(){var t,e,n,r,a,s,i,o,c;i=function(t,e){return t.length?parseInt(t.attr(e),10):-1},c=function(t,e){var n,r,a;return r=t.offset().top,a=$(document).scrollTop(),e(),n=Math.max(t.offset().top-r,0),$(document).scrollTop(a+n)},s=function(t){var e,n,r,a;return n=$(window).scrollTop(),e=n+$(window).height(),a=t.offset().top,r=a+t.height(),e>=r&&a>=n},o=function(t){var e,n;return e=t.match(/\#(diff\-[a-f0-9]+)[L|R](\d+)$/i),null!==e&&3===e.length?e:(n=t.match(/\#(discussion\-diff\-[0-9]+)[L|R](\d+)$/i),null!==n&&3===n.length?n:null)},t=function(t,e,n,i,o,l,u,d,h){var f;return null==h&&(h={}),f=$.extend({prev_line_num_left:n,prev_line_num_right:o,next_line_num_left:i,next_line_num_right:l},h),$.ajax({context:e,url:t+"?"+$.param(f),cache:!1,success:function(t){var n,i,o,l;return i=e.next(),i.length?(c(i,function(){return e.replaceWith(t)}),i.parent().pageUpdate()):e.replaceContent(t),l=u.slice(1),n=$(document.getElementById(l)),n.length?(s(n)||$(window).scrollTop(n.offset().top),o=n.parents("tr"),a(o)):d?r(u,!1):void 0}})},a=function(t){return t.addClass("highlight"),setTimeout(function(){return t.removeClass("highlight")},800)},e=function(e,n,r,a,s){var o,c,l,u,d,h,f,m,p,g,v,$,b,y,j,w;return o=e.parents("tr"),f=o.prevAll("tr.js-file-line").first(),u=o.nextAll("tr.js-file-line").first(),f.length||u.length?(w=e.attr("data-remote"),d=f.children("td").first(),c=u.children("td").first(),h=f.children("td").eq(1),l=u.children("td").eq(1),j=i(h,"data-line-number"),$=i(l,"data-line-number"),y=i(d,"data-line-number"),v=i(c,"data-line-number"),m=/@@&nbsp;-\d+,(\d+)&nbsp;\+\d+,(\d+)&nbsp;/,p=o.children("td.diff-line-code").html(),g=m.exec(p),b={offset:Math.max(n,20),anchor:r},(null!=g?g.length:void 0)>=3&&(b.left_hunk_size=g[1],b.right_hunk_size=g[2]),t(w,o,y,v,j,$,a,s,b)):void 0},n=function(e,n,r){var a,s,o;return a=e.parents("tr"),s=a.next(),o=i(s,"data-position"),t(e.attr("data-remote"),a,-1,o,-1,o,n,r)},$(document).on("click",".js-expand",function(){var t;return t=$(this).parents("tr"),window.location.hash=t.attr("data-anchor")}),$.hashChange(function(){var t;return t=window.location.hash,r(t,!0)}),r=function(t,r){var a,s,c,l,u,d,h,f,m,p,g,v,b,y,j,w;if(t.length&&(d=o(t),null!==d&&(b=d[1],j=parseInt(d[2],10),m=t.slice(1),u=$(document.getElementById(m)),!(u.length||(l=$("a[name='"+b+"']").next(),g=l.find(".js-expand").parent("td"),v=function(){var t,e,n;for(n=[],t=0,e=g.length;e>t;t++)p=g[t],s=$(p),f=i(s,"data-line-number")-j,n.push({expanderCell:s,distance:f,absDistance:Math.abs(f)});return n}(),w=v.sort(function(t,e){return t.absDistance>e.absDistance?1:-1}),y=function(){var t,e,n;for(n=[],t=0,e=w.length;e>t;t++)p=w[t],p.distance>=0&&n.push(p);return n}(),0===y.length&&(y=w),y.length<1)))))return a=y[0].expanderCell,h=y[0].absDistance,a.length?(c=a.children(".js-expand"),c.hasClass("js-review-comment")?n(c,t,r):e(c,h+1,b,t,r)):void 0}}.call(this),function(){$(function(){var t,e;return t=$(".js-newsletter-frequency-choice"),t.length?(e=function(){var e;return t.find(".selected").removeClass("selected"),e=t.find("input[type=radio]:enabled:checked"),e.closest(".choice").addClass("selected")},t.on("change","input[type=radio]",function(){return e()}),e()):void 0}),$(document).on("ajaxSuccess",".js-subscription-toggle",function(){var t;return t=$(this).find(".selected .notice"),t.addClass("visible"),setTimeout(function(){return t.removeClass("visible")},2e3)}),$(document).on("ajaxSuccess",".js-explore-newsletter-subscription-container",function(t,e){return $(this).replaceWith(e.responseText)})}.call(this),function(){var t,e;t=function(){var t;return t=$("#js-features-branch-diagram"),t.removeClass("preload"),t.find("path").each(function(){var t,e,n;return $(this).is("#js-branch-diagram-branch")?n="stroke-dashoffset 3.5s linear 0.25s":$(this).is("#js-branch-diagram-master")?n="stroke-dashoffset 4.1s linear 0s":$(this).is("#js-branch-diagram-arrow")&&(n="stroke-dashoffset 0.2s linear 4.3s"),e=$(this).get(0),t=e.getTotalLength(),e.style.transition=e.style.WebkitTransition="none",e.style.strokeDasharray=t+" "+t,e.style.strokeDashoffset=t,e.getBoundingClientRect(),e.style.transition=e.style.WebkitTransition=n,e.style.strokeDashoffset="0"})},$(document).on("click",".js-segmented-nav a",function(t){var e,n;return n=$(this).data("selected-tab"),e=$(this).closest(".js-segmented-nav"),e.find("li").removeClass("active"),e.siblings(".js-selected-nav-tab").removeClass("active"),$(this).parent("li").addClass("active"),$("."+n).addClass("active"),t.preventDefault()}),e=function(){return $(document).scrollTop()>=$("#js-features-branch-diagram").offset().top-700?t():void 0},$.observe("#js-features-branch-diagram.preload",{add:function(){return $(window).on("scroll",e)},remove:function(){return $(window).off("scroll",e)}})}.call(this),function(){$(function(){var t;return $(document).on("click",".js-survey-option",function(t){var e,n,r,a,s,i,o;return t.preventDefault(),t.stopPropagation(),n=$("#first-run-questions"),n.find("> *").addClass("hidden"),n.find(".js-first-run-spinner").removeClass("hidden"),r=$(this).parents("form"),o=r.attr("action"),s=$(this).attr("data-question-id"),e=$(this).attr("data-choice-id"),i=r.attr("data-source-id"),a=r.find(".js-other-text").val(),$.ajax({type:"PUT",url:o,data:{choice_id:e,question_id:s,survey_id:i,other_text:a},success:function(t){return n.html(t),$.pageUpdate()},error:function(){return alert("There was an error submitting your response.")}})}),$(document).on("click",".js-ignore-experiment",function(t){var e;return t.preventDefault(),t.stopPropagation(),e=$(this).attr("data-ref"),console.log("experiment_id",e),$.ajax({type:"PUT",url:"/ignore-survey",data:{experiment_id:e},success:function(){return window.location.href="/"},error:function(){return alert("There was an error submitting your response.")}})}),t=function(t){var e;t=$(t),e=t.val(),e.length>0?t.next(".js-other-submit").prop("disabled",!1):t.next(".js-other-submit").prop("disabled",!0)},$(document).onFocusedInput("input.js-other-text",function(e){return $(this).on("throttled:input."+e,function(){return t(this)}),!1})})}.call(this),function(){$(document).on("click","#fork-select .target",function(){var t;if(!$(this).hasClass("disabled"))return t=$(this).text().replace("@",""),$("#organization").val(t),$("#fork").submit()})}.call(this),function(){var t,e;t={isHttpFragment:function(t){return 0==="http://".indexOf(t)||0==="https://".indexOf(t)},isValidHttpUrl:function(t){var e,n,r,a;return a=function(){try{return new URL(t)}catch(n){return e=n,null}}(),null==a?!1:(n=/^https?/.test(a.protocol),r=a.href===t||a.href===""+t+"/",n&&r)}},$.observe(".js-hook-url-field",function(e){var n,r,a;n=$(e),r=function(t){var e,n;return e=$(t).closest("form"),n=/^https:\/\/.+/.test(t.val()),e.toggleClass("is-ssl",n)},a=function(e){var n,r;return n=e.val(),r=t.isHttpFragment(n)||t.isValidHttpUrl(n),e.closest("form").toggleClass("is-invalid-url",!r)},n.on("keyup",function(){return r(n)}),n.on("throttled:input",function(){return a(n)}),r(n),a(n)}),$(document).on("click",".js-hook-toggle-ssl-verification",function(t){return t.preventDefault(),$(".js-ssl-hook-fields").toggleClass("is-not-verifying-ssl"),$(".js-ssl-hook-fields").hasClass("is-not-verifying-ssl")?($(".js-hook-ssl-verification-field").val("1"),$(document).trigger("close.facebox")):$(".js-hook-ssl-verification-field").val("0")}),e=function(t){var e;return console.log("chooseEvents",t),e=$(".js-hook-event-checkbox"),e.prop("checked",!1),null!=t?e.filter(t).prop("checked",!0):void 0},$(document).on("change",".js-hook-event-choice",function(){var t;return t="custom"===$(this).val(),$(".js-hook-events-field").toggleClass("is-custom",t),!0}),$(document).on("submit",".js-hook-form",function(){var t,n;return t=$(this),n=t.find(".js-hook-event-choice:checked").val(),"custom"===n&&$(".js-hook-wildcard-event").prop("checked",!1),"push"===n&&e('[value="push"]'),"all"===n&&e(".js-hook-wildcard-event"),!0}),$(document).on("details:toggle",".js-hook-delivery-item",function(){var t,e,n;return e=$(this),e.data("details-load-initiated")?void 0:(e.data("details-load-initiated",!0),t=e.find(".js-hook-delivery-details"),t.addClass("is-loading"),n=$.get(t.data("url")),n.done(function(e){return t.replaceContent(e)}),n.fail(function(){return t.addClass("has-error")}),n.always(function(){return t.removeClass("is-loading")}))}),$(document).on("click",".js-hook-delivery-details .js-tabnav-tab",function(){var t,e,n;return e=$(this),t=e.closest(".js-hook-delivery-details"),t.find(".js-tabnav-tab").removeClass("selected"),n=t.find(".js-tabnav-tabcontent").removeClass("selected"),e.addClass("selected"),n.filter("[data-tab-name="+e.data("tab-target")+"]").addClass("selected")}),$(document).on("click",".js-hook-deliveries-pagination-button",function(t){var e,n,r;return t.preventDefault(),e=$(this),n=e.parent().addClass("loading"),r=$.get(e.attr("href")),r.done(function(t){return n.replaceWith(t)})}),$(document).on("click",".js-redeliver-hook-delivery-button",function(t){var e,n,r,a;return t.preventDefault(),e=$(this),e.hasClass("disabled")?void 0:(e.addClass("disabled"),r=e.data("delivery-guid"),n=$('.js-hook-delivery-details[data-delivery-guid="'+r+'"]'),console.log(r,n),a=$.post(e.attr("href")),a.fail(function(){return e.siblings(".js-redelivery-dialog").addClass("failed")}),a.done(function(t){return $(document).trigger("close.facebox"),n.replaceWith(t)}))}),$(document).on("deferredcontent:loaded",".js-hook-delivery-details",function(){var t,e;return t=$(this),e=t.closest(".js-hook-delivery-item"),e.find(".js-item-status").removeClass("success pending failure").addClass(t.data("status-class")),e.find(".js-item-status-tooltip").attr("aria-label",t.data("status-message"))}),$(document).on("click",".js-test-hook-button",function(t){var e,n,r;return e=$(this),e.hasClass("disabled")?void 0:(e.addClass("disabled"),n=$(".js-test-hook-message").removeClass("error success"),r=$.post(e.data("test-hook-url")),r.fail(function(t){var e;return e=$.parseJSON(t.responseText),n.addClass("error"),n.find(".js-test-hook-message-errors").text(e.errors)}),r.done(function(){return n.addClass("success")}),r.always(function(){return e.removeClass("disabled")}),t.preventDefault())})}.call(this),function(){var t,e,n;t=function(t){var e;return null==t&&(t=$(this)),e=t.find("a").data("selected-tab"),$(".js-slideshow-nav .active").removeClass("active"),t.addClass("active"),$(".js-integrations-slide-content .active").removeClass("active"),$(".js-"+e).addClass("active"),!1},e=function(){var e,n;return e=$(".js-slideshow-nav .active"),n=0===e.next().length,n?t($(".js-slide-tab").eq(0)):t(e.next())},n=null,$.observe(".js-slideshow-nav",{add:function(){return n=setInterval(e,9e3)},remove:function(){return clearInterval(n)}}),$(document).on("click",".js-slide-tab a",function(){return t($(this).closest("li")),clearInterval(n),!1})}.call(this),function(){$(document).on("click",".js-edit-label",function(){return $(this).closest(".labels-list-item").addClass("edit")}),$(document).on("click",".js-edit-label-cancel",function(){return this.form.reset(),$(this).closest(".labels-list-item").removeClass("edit")}),$(document).on("ajaxSuccess",".js-create-label",function(t,e,n,r){return this.reset(),$(this).after(r),$(".blankslate").hide()}),$(document).on("ajaxSuccess",".js-update-label",function(t,e,n,r){return $(this).closest(".labels-list-item").replaceWith(r)}),$(document).on("ajaxSend",".js-update-label, .js-create-label",function(){return $(this).find(".error").text("")}),$(document).on("ajaxError",".js-update-label, .js-create-label",function(t,e){return $(this).find(".error").text(e.responseText),!1}),$(document).on("ajaxSuccess",".js-delete-label",function(){return $(this).closest(".labels-list-item").fadeOut()})}.call(this),function(){var t;$.observe(".js-issues-list-check:checked",{add:function(){return $(this).closest(".js-issue-row").addClass("selected")},remove:function(){return $(this).closest(".js-issue-row").removeClass("selected")}}),$(document).on("navigation:keydown",".js-issue-row",function(e){return"x"===e.hotkey?(t(this),!1):void 0}),t=function(t){var e;(e=$(t).find(".js-issues-list-check")[0])&&(e.checked=!e.checked,$(e).trigger("change"))}}.call(this),function(){$(document).on("change",".js-issues-list-check",function(){$("#js-issues-toolbar").toggleClass("triage-mode",$(".js-issues-list-check:checked").length>0)}),$(document).on("change",".js-issues-list-check, .js-issues-triage-select-entire-search-field",function(){var t,e,n;n=$("#js-issues-toolbar .js-issues-triage-select-entire-search-field").prop("checked"),n?(e=$("#js-issues-search").val(),$("#js-issues-toolbar .js-issues-toolbar-triage .js-select-menu").data("contents-data",{issues:e}).addClass("js-load-contents")):(t=$(".js-issues-list-check:checked"),$("#js-issues-toolbar .js-issues-toolbar-triage .js-select-menu").data("contents-data",t).addClass("js-load-contents"))}),$(document).on("change","#js-issues-toolbar .js-check-all",function(){var t;return t=$("#js-issues-toolbar .js-issues-triage-select-entire-search"),t.toggle(this.checked),this.checked?void 0:t.find(".js-issues-triage-select-entire-search-field").prop("checked",!1).change()}),$(document).on("selectmenu:selected",".js-issues-toolbar-triage .js-navigation-item",function(){var t,e,n,r,a,s;n=$(this).closest(".js-menu-container").hasClass("js-label-select-menu"),t=$(this).closest("form"),a=$(this).hasClass("selected"),r=$(this).attr("data-name"),s=$(this).attr("data-value"),n?e=$("<input>",{type:"hidden",name:""+r+"["+s+"]",value:a?"1":"0"}):(e=$("<input>",{type:"hidden",name:r,value:a?s:""}),setImmediate(function(t){return function(){return $(t).menu("deactivate")}}(this))),t.find(".js-issues-triage-fields").append(e),t.addClass("js-submit")}),$(document).on("menu:deactivate",".js-issues-toolbar-triage .js-menu-container",function(t){var e,n;e=$(this).find("form.js-submit"),e[0]&&($(this).addClass("is-loading"),n=$.ajax({type:e.attr("method"),url:e.prop("action"),data:e.serializeArray()}),Promise.resolve(n).then(function(t){return function(e){var n,r,a;return a=Promise.resolve($.ajaxPoll({url:e.job.url})),n=function(){return $(t).menu("deactivate"),location.reload()},r=function(){return $(t).addClass("has-error")},a.then(n,r)}}(this)),e.removeClass("js-submit"),t.preventDefault())})}.call(this),function(){var t,e,n;e=function(e,n){return e.closest(".js-label-editor").find(".js-color-editor-bg").css("background-color",n),e.css("color",t(n,-.5)),e.css("border-color",n)},n=function(t){var e,n;return e="#c00",n=$(t).closest(".js-color-editor"),n.find(".js-color-editor-bg").css("background-color",e),t.css("color","#c00"),t.css("border-color",e)},t=function(t,e){var n,r,a;for(t=String(t).toLowerCase().replace(/[^0-9a-f]/g,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0,a="#",n=void 0,r=0;3>r;)n=parseInt(t.substr(2*r,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),a+=("00"+n).substr(n.length),r++;return a},$(document).on("focusin",".js-color-editor-input",function(){var t,r;return r=$(this),t=$(this).closest(".js-label-editor"),r.on("throttled:input.colorEditor",function(){var a;return"#"!==r.val().charAt(0)&&r.val("#"+r.val()),t.removeClass("is-valid is-not-valid"),a=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r.val()),t.find(".js-label-editor-submit").toggleClass("disabled",!a),a?(t.addClass("is-valid"),e(r,r.val())):(t.addClass("is-not-valid"),n(r))}),r.on("blur.colorEditor",function(){return r.off(".colorEditor")})}),$(document).on("menu:activate",".js-editable-label",function(){var t;return t=$(this).find(".js-color-editor-input"),e(t,t.val()),$(this).find(".js-label-editor").addClass("is-valid"),$(this).find(".js-label-editor").addClass("open")}),$(document).on("menu:deactivate",".js-editable-label",function(){var t,e,n;return n=$(this).find(".js-color-editor-input"),e=$(this).find(".js-label-editor"),n.attr("style",""),e.removeClass("is-valid is-not-valid"),e.find(".js-color-editor-bg").attr("style",""),e.find(".js-label-editor").removeClass("open"),n.val(n.attr("data-original-color")),t=$(".js-color-chooser-color")}),$(document).on("mousedown",".js-color-chooser-color",function(){var t,n,r;return $(this).closest(".js-color-editor").removeClass("open"),t=$(this).closest(".js-label-editor"),n="#"+$(this).data("hex-color"),r=t.find(".js-color-editor-input"),t.find(".js-label-editor-submit").removeClass("disabled"),t.removeClass("is-valid is-not-valid"),r.val(n),e(r,n)}),$(document).on("submit",".js-label-editor form",function(){var t,e;return t=$(this).find(".js-color-editor-input"),e=t.val(),e.length<6&&(e=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),t.val(e.replace("#",""))}),$(document).on("focusin",".js-label-editor",function(){return $(this).closest(".js-label-editor").addClass("open")}),$(function(){var t;return t=$("#issues_list"),t.length?t.selectableList(".js-color-chooser",{wrapperSelector:".js-color-chooser-color",mutuallyExclusive:!0}):void 0})}.call(this),function(){$.hashChange(function(t){var e,n,r,a;return r=t.newURL,(n=r.match(/\/issues#issue\/(\d+)$/))?(a=n[0],e=n[1],window.location=r.replace(/\/?#issue\/.+/,"/"+e)):void 0}),$.hashChange(function(t){var e,n,r,a,s;return a=t.newURL,(r=a.match(/\/issues#issue\/(\d+)\/comment\/(\d+)$/))?(s=r[0],n=r[1],e=r[2],window.location=a.replace(/\/?#issue\/.+/,"/"+n+"#issuecomment-"+e)):void 0})}.call(this),function(){$(document).on("click",".js-issues-sort .js-navigation-item",function(){return $(this).menu("deactivate")}),$(function(){var t,e;return t=$("#issues_list"),t.length?(e=function(){return $.pjax.reload(t)},t.on("navigation:keydown",".js-issues-list .js-list-browser-item",function(t){return"x"===t.hotkey?$(this).click().trigger("change"):void 0}),t.selectableList(".js-selectable-issues",{wrapperSelector:".js-list-browser-item",itemParentSelector:"",enableShiftSelect:!0,ignoreLinks:!0}),t.on("click",".js-milestone-issue-filter .js-navigation-item",function(){return $(this).menu("deactivate")}),t.selectableList(".js-issue-sidebar .js-color-label-list"),t.on("click",".js-editable-labels-container .js-manage-labels",function(){var t,n,r,a;return t=$(this),n=t.closest(".js-editable-labels-container"),a=n.find(".js-editable-labels-show"),r=n.find(".js-editable-labels-edit"),a.hasClass("hidden")?e():(a.addClass("hidden"),r.removeClass("hidden"),t.addClass("selected"),$(document).on("keydown.manage-labels",function(e){return 27===e.keyCode?t.click():void 0})),!1}),t.on("ajaxSuccess",".js-color-label-delete",function(){return $(this).closest(".color-label").addClass("hidden")}),t.on("change",".js-issues-list-select-all",function(){var e,n;return e=this.checked,n=e?":not(:checked)":":checked",t.find(".select-toggle-check"+n).prop("checked",e).trigger("change"),t.find(".js-mass-assign-button").toggleClass("disabled",!e),this.indeterminate=!1}),t.on("change",".select-toggle-check",function(){var e,n;return n=t.find(".js-list-browser-item.selected").length,e=t.find(".select-toggle-check:not(:checked)").length,t.find(".js-mass-assign-button").toggleClass("disabled",!n),$(".js-issues-list-select-all").get(0).indeterminate=n&&e}),t.find(":checked").removeProp("checked"),t.on("click",".js-issues-list-close",function(){var n;return $.ajax({type:"PUT",url:$(this).attr("data-url"),data:{issues:function(){var e,r,a,s;for(a=t.find(".js-issues-list :checked"),s=[],e=0,r=a.length;r>e;e++)n=a[e],s.push($(n).val());return s}()},success:e}),!1}),t.on("ajaxSuccess",".js-navigation-item",e),t.pageUpdate()):void 0})}.call(this),function(){$(document).on("menu:activate",".js-issue-mass-assign",function(){var t,e,n;t=$(this).find("form"),t.find(".js-issue-number").remove(),n=function(){var t,n,r,a;for(r=$(".js-issues-list-checkbox").filter(":checked"),a=[],t=0,n=r.length;n>t;t++)e=r[t],a.push($("<input>",{type:"hidden","class":"js-issue-number",name:"issues[]",value:$(e).val()}));return a}(),t.append(n)}),$(document).on("ajaxSuccess",".js-issue-mass-assign",function(){return $.pjax.reload($("#issues_list"))})}.call(this),function(){$(document).on("click",".js-new-issue-form .js-composer-labels",function(t){return t.preventDefault()}),$.pageUpdate(function(){var t,e,n,r;for(r=$(this).find(".js-new-issue-form"),e=0,n=r.length;n>e;e++)t=r[e],$(t).data("selectable-list-installed")||($(t).selectableList(".js-composer-labels"),$(t).data("selectable-list-installed",!0))})}.call(this),function(){var t;$(document).on("selectmenu:selected",".js-composer-assignee-picker .js-navigation-item",function(){var t,e,n;return t=$(this).closest(".js-infobar"),e=$(this).find("input[type=radio]").val(),n=$(this).hasClass("js-clear-assignee"),t.find(".js-composer-assignee-picker").toggleClass("is-showing-clear-item",!n),t.find(".js-assignee-infobar-item-wrapper").empty().append(function(){var t,r;return n?"No one will be assigned":(r=$("<a/>",{href:"/"+e,"class":"css-truncate-target",text:e}),t=$("<span/>",{text:" will be assigned"}),[r,t])})}),$(document).on("selectmenu:selected",".js-assignee-picker .js-navigation-item",function(){var e;return e=$(this).closest("form"),t(e,{},function(t){return function(){var e,n,r;return e=$(t).closest(".js-assignee-picker"),r=$(t).hasClass("js-clear-assignee"),e.toggleClass("is-showing-clear-item",!r),n=e.hasClass("js-assignee-picker-next")?"":" is assigned",$(".js-assignee-infobar-item-wrapper").empty().append(function(){var e,a,s,i;return r?"No one assigned":(i=$(t).find("input[type=radio]").val(),a=$(t).find(".js-select-menu-item-gravatar").html(),s=$("<a/>",{href:"/"+i,"class":"assignee css-truncate-target",text:i}),e=$("<span/>",{text:n}),[a,s,e])})}}(this))}),$(document).on("selectmenu:selected",".js-composer-milestone-picker .js-navigation-item",function(){var t,e,n,r,a;return t=$(this).closest(".js-infobar"),r=$(this).find("input[type=radio]"),e=t.find('input[name="issue[milestone_id]"]'),n=t.find('input[name="new_milestone_title"]'),$(this).hasClass("js-new-item-form")?(e.val("new"),n.val($(this).find(".js-new-item-name").text())):e.val(r[0].value),a=$(this).hasClass("js-clear-milestone"),t.find(".js-composer-milestone-picker").toggleClass("is-showing-clear-item",!a),$(".js-composer-milestone-title").empty().append(function(t){return function(){var e;return a?"No milestone":(e=$(t).find(".js-milestone-title").html(),$("<strong/>",{"class":"css-truncate-target"}).append(e))}}(this))}),$(document).on("selectmenu:selected",".js-milestone-picker .js-navigation-item",function(){var e;return e=$(this).closest("form"),t(e,{},function(t){return function(e){var n,r,a;return r=$(t).closest(".js-milestone-picker"),a=$(t).hasClass("js-clear-milestone"),r.toggleClass("is-showing-clear-item",!a),n=$(".js-milestone-infobar-item-wrapper"),n.length?(n.html(e.infobar_body),r.menu("deactivate"),r.find(".js-milestone-picker-body").html(e.select_menu_body)):void 0}}(this))}),$(document).on("ajaxSend",".js-issue-list-label-select-menu",function(){return $(this).addClass("is-loading")
}),$(document).on("click",".js-apply-labels",function(){var e;return e=$(this).closest("form"),t(e,{type:"put"},function(t){return function(){return $(t).menu("deactivate")}}(this)),!1}),$(document).on("click",".js-remove-labels",function(){var e;return e=$(this).closest("form"),t(e,{type:"delete"},function(t){return function(){return $(t).menu("deactivate")}}(this)),!1}),$(document).on("selectmenu:selected",".js-issue-show-label-select-menu .js-navigation-item",function(){var e,n,r;return e=$(this).closest("form"),n=$(this).find("input[type=checkbox]"),r={type:n.is(":checked")?"put":"delete",data:{"issues[]":e.find(".js-issue-number").val(),"labels[]":n.val()}},t(e,r,function(t){return $(".discussion-labels > .color-label-list, .js-timeline-label-list").html(t.labels)}),!1}),$(document).onFocusedKeydown(".js-issue-list-label-select-menu .js-filterable-field",function(){return function(t){return"enter"===t.hotkey?!1:void 0}}),t=function(t,e,n){var r;if(r=t[0])return $.ajax({context:r,type:e.type||t.attr("method"),url:t.attr("action"),data:e.data||t.serialize(),success:n})}}.call(this),function(){var t;t=function(){var t;return t={div:"#keyboard_shortcuts_pane",ajax:"/site/keyboard_shortcuts?url="+window.location.pathname},$.facebox(t,"shortcuts")},$(document).on("click",".js-keyboard-shortcuts",function(){return t(),!1}),$(document).on("click",".js-see-all-keyboard-shortcuts",function(){return $(this).remove(),$(".facebox .js-hidden-pane").css("display","table-row-group"),!1}),$(document).on("keypress",function(e){return e.target===document.body?63===e.which?($(".facebox").is($.visible)?$.facebox.close():t(),!1):void 0:void 0})}.call(this),function(){$.observe("input.js-date-input",function(){new DateInput(this)}),$(document).on("click",".js-date-input-clear",function(){return $("input.js-date-input").data("datePicker").resetDate(),!1})}.call(this),function(){var t;t=function(t){return $(t).is(".read")?void 0:$(t).toggleClass("unread read")},$(document).on("click",".js-notification-target",function(){return t($(this).closest(".js-notification"))}),$(document).on("ajaxSuccess",".js-delete-notification",function(){return t($(this).closest(".js-notification"))}),$(document).on("ajaxSuccess",".js-mute-notification",function(){var e;return t($(this).closest(".js-notification")),e=$(this).closest(".js-notification"),this.action=e.is(".muted")?this.action.replace("unmute","mute"):this.action.replace("mute","unmute"),e.toggleClass("muted")}),$(document).on("ajaxSuccess",".js-mark-visible-as-read",function(){var t;return t=$(this).closest(".js-notifications-browser"),t.find(".unread").toggleClass("unread read"),t.find(".js-mark-as-read-confirmation").show()}),$(document).on("ajaxSuccess",".js-mark-remaining-as-read",function(){var t;return t=$(this).closest(".js-notifications-browser"),t.find(".js-mark-remaining-as-read").hide(),t.find(".js-mark-remaining-as-read-confirmation").show()}),$(document).on("navigation:keydown",".js-notification",function(t){switch(t.hotkey){case"I":case"e":case"y":return $(this).find(".js-delete-notification").submit(),!1;case"M":case"m":return $(this).find(".js-mute-notification").submit(),!1}}),$(document).on("navigation:keyopen",".js-notification",function(){return t(this)}),$(document).on("ajaxBeforeSend",".js-notifications-subscription",function(){return $(this).find(".js-spinner").show()}),$(document).on("ajaxComplete",".js-notifications-subscription",function(){return $(this).find(".js-spinner").hide()})}.call(this),function(){$(document).on("change",'.js-oauth-section-next input[type="radio"]',function(){var t,e;return e=$(this).val(),t=$(this).closest(".js-details-container"),t.find(".js-sub-container").toggleClass("open","limited"===e),t.removeClass("none default public full limited limited-email limited-follow read write via-public via-full"),t.addClass(e),"limited"===e?($(".js-oauth-section-next .js-limited-user").prop("checked",!0),t.addClass("limited-email limited-follow")):void 0}),$(document).on("change",".js-oauth-section-next .js-limited-user",function(){var t,e;return e=$('.js-oauth-section-next input[name="granted_scope[user]"]:checked').val(),"limited"===e?(t=$(this).closest(".js-details-container"),t.toggleClass($(this).data("option"),$(this).is(":checked"))):void 0}),$(document).on("change",".js-oauth-section-next .js-delete-repo-scope",function(){var t;return t=$(this).closest(".js-details-container"),t.toggleClass("delete",$(this).is(":checked"))}),$(document).on("change",".js-oauth-section-next .js-repo-status-scope",function(){var t;return t=$(this).closest(".js-details-container"),t.removeClass("full none"),t.addClass($(this).is(":checked")?"full":"none")}),$(document).on("change",".js-oauth-section-next .js-notifications-scope",function(){var t;return t=$(this).closest(".js-details-container"),t.removeClass("read none"),t.addClass($(this).is(":checked")?"read":"none")}),$(document).on("change",".js-oauth-section-next .js-gist-scope",function(){var t;return t=$(this).closest(".js-details-container"),t.removeClass("full none"),t.addClass($(this).is(":checked")?"full":"none")})}.call(this),function(){$.observe(".js-organization-renaming",function(){var t;return t=$.ajaxPoll({url:$(this).attr("data-status-path")})})}.call(this),function(){$(document).on("submit",".org form[data-results-container]",function(){return!1})}.call(this),function(){var t,e;t=[],e=null,$(document).on("change",".js-org-person-toggle",function(){var n,r,a,s,i,o,c,l,u,d,h,f,m,p,g,v,b;if(s=$(".js-org-toolbar"),i=s.find(".js-member-selected-actions"),n=$(".js-person-grid"),o=n.find(".js-org-person").has(".js-org-person-toggle:checked"),c=function(){var t,e,n;for(n=[],t=0,e=o.length;e>t;t++)u=o[t],n.push($(u).attr("data-id"));return n}().sort(),d=c.length>0,JSON.stringify(c)!==JSON.stringify(t)&&(t=c,$(".js-member-not-selected-actions").toggleClass("hidden",d),i.toggleClass("hidden",!d),s.addClass("disabled"),null!=e&&e.abort(),e=$.ajax({url:i.attr("data-toolbar-actions-url"),data:{member_ids:c}}),e.always(function(){return s.removeClass("disabled")}),e.done(function(t){return i.html(t)}),$(".js-selected-person-ids").val(c.join(",")),0!==c.length&&d)){for(f=o.length,m=""+f+" member",1!==f&&(m+="s"),$(".js-member-remove-confirm-count").text(m),a=$(".js-member-remove-confirm"),l="deleting-private-forks",a.removeClass(l),v=a.find(".js-member-remove-confirm-list li"),b=[],p=0,g=v.length;g>p;p++)h=v[p],r=$(h),c.indexOf(r.attr("data-id"))>=0?(r.addClass("selected"),(parseInt(r.attr("data-private-fork-count"),10)||0)>0?b.push(a.addClass(l)):b.push(void 0)):b.push(r.removeClass("selected"));return b}})}.call(this),function(){var t;t=function(){var t;return $(".js-ldap-notice").length>0?$(".js-finish-adding-teams").removeClass("disabled"):(t=$(".js-add-to-team.turn-off").visible().length>0,$(".js-finish-adding-teams").toggleClass("disabled",!t))},$(document).on("click",".js-show-all-team-suggestions",function(){return $.get(this.href,function(t){return function(e){return $(t).closest("ul").html(e)}}(this)),!1}),$(document).on("click",".js-add-to-team",t),$.observe(".js-finish-adding-teams",t)}.call(this),function(){$(document).on("ajaxComplete",".js-team-action",function(){return $(this).closest(".js-org-member-team").remove()})}.call(this),function(){$(document).onFocusedInput(".js-new-organization-name",function(){var t;return t=$(this).closest("dd").find(".js-field-hint-name"),function(){return t.text($(this).val())}})}.call(this),function(){$(document).on("click",".js-repo-search-filter",function(){var t,e,n,r,a;return e=$(this).data("filter"),n=$(this).data("negate"),t=$(".js-repo-filter-field"),r=t.val(),r.indexOf(n)>-1&&(r=r.replace(n,""),r=r.replace(/^\s*/,"")),-1===r.indexOf(e)&&(a=r&&r.match(/\s$/)?"":" ",t.val(r+(""+a+e+" ")),t.focus(),t.trigger("throttled:input")),$("body").removeClass("menu-active"),!1}),$(document).on("click",".js-ajax-pagination",function(t){var e,n;if(n=t.target.href)return e=$($(this).data("pagination-container")),console.info("paginating",e),e.load(n),!1}),$(document).on("keypress",".js-repository-fallback-search",function(t){var e,n,r,a;if(13===t.which)return e=$(this),n=e.data("host"),r=e.data("org"),a=e.val(),document.location="http://"+n+"/search?q=user%3A"+r+"+"+a+"&type=Repositories"})}.call(this),function(){var t;t=function(){var t,e;return t=$(this),e=t.attr("data-url"),t.find(".js-graph").addClass("is-graph-loading"),t.on("audit-statistics:success",function(){return $(this).find(".js-graph").removeClass("is-graph-loading")}),t.on("audit-statistics:failed",function(){return $(this).find(".js-graph").removeClass("is-graph-loading").addClass("is-graph-load-error")}),$.when($.getJSON("/world-110m.json"),$.getJSON(e)).then(function(e,n){return t.trigger("audit-statistics:success",[e[0],n[0]])}).fail(function(e){return t.trigger("audit-statistics:failed",e)})},$.observe(".js-audit-statistics",t)}.call(this),function(){$(document).on("click",".js-delete-team-button",function(){var t;return t=$(this),t.attr("disabled","disabled"),$.ajax({url:t.attr("data-url"),type:"delete"}),!1})}.call(this),function(){$(document).on("ajaxSend",".js-ldap-import-groups-container",function(t,e){return e.setRequestHeader("X-Context","import")}),$(document).on("autocomplete:autocompleted:changed",".js-team-ldap-group-field",function(){var t;return t=$(this).closest(".js-ldap-group-adder").removeClass("is-exists"),t.find(".js-ldap-group-adder-button").toggleClass("disabled",!$(this).attr("data-autocompleted"))}),$(document).on("navigation:open",".js-team-ldap-group-autocomplete-results .js-navigation-item",function(){var t,e;return t=$(this).closest(".js-ldap-group-adder"),e=$(this).attr("data-dn"),t.find(".js-team-ldap-dn-field").val(e),$(this).closest(".js-ldap-import-groups-container").find(".js-ldap-group-dn").map(function(n,r){$(r).text()===e&&(t.addClass("is-exists"),t.find(".js-ldap-group-adder-button").addClass("disabled"))})}),$(document).on("ajaxBeforeSend",".js-import-container",function(){var t;return t=$(this).find(".js-ldap-group-adder-button"),t.hasClass("disabled")?!1:($(this).addClass("is-importing"),t.addClass("disabled"))}),$(document).on("ajaxComplete",".js-import-container",function(){return $(this).removeClass("is-importing")}),$(document).on("ajaxSuccess",".js-ldap-group-adder",function(t,e,n,r){return $(this).closest(".js-ldap-import-groups-container").removeClass("is-empty").find(".js-ldap-imported-groups").append($(r)),this.reset(),$(this).find(".js-team-ldap-group-field").focus(),$(this).find(".js-ldap-group-adder-button").addClass("disabled"),$(".js-ldap-finish-button").text("Finish importing teams").addClass("primary")}),$(document).on("click",".js-team-remove-group",function(t){return $(this).hasClass("disabled")?!1:(t.preventDefault(),$(this).addClass("disabled").closest(".js-team").addClass("is-removing"),$(".js-team-ldap-group-field").focus())}),$(document).on("ajaxSuccess",".js-team-remove-group",function(){return $(this).closest(".js-team").remove(),0===$(".js-team:not(.is-removing)").length?($(".js-ldap-import-groups-container").addClass("is-empty"),$(".js-ldap-finish-button").text("Skip this step").removeClass("primary")):void 0}),$(document).on("ajaxError",".js-team-remove-group",function(){return $(this).removeClass("disabled").closest(".js-team").removeClass("is-removing")}),$(document).on("click",".js-edit-team",function(t){return $(this).closest(".js-team").hasClass("is-removing")?!1:(t.preventDefault(),$(this).closest(".js-team").addClass("is-editing"),$(this).closest(".js-team").find(".js-team-name-field").focus())}),$(document).on("click",".js-save-button",function(){return $(this).hasClass("disabled")?!1:$(this).closest(".js-team").addClass("is-sending")}),$(document).on("change",".js-team-permission",function(){return $(this).closest(".js-team").hasClass("is-editing")?void 0:($(this).closest(".js-team").addClass("is-sending").find(".js-team-form").submit(),$(this).prop("disabled","disabled"))}),$(document).on("click",".js-cancel-team-edit",function(t){var e,n;return t.preventDefault(),n=$(this).closest(".js-team").removeClass("is-editing"),e=n.find(".js-team-form").removeClass("is-exists"),e.find(".js-slug").text(e.find(".js-slug").data("original-slug")),e[0].reset()}),$(document).on("ajaxSuccess",".js-team-form:not(.is-checking)",function(t,e,n,r){return e.nameCheck?void 0:$(this).closest(".js-team").removeClass("is-editing").replaceWith($(r))}),$(document).on("ajaxSuccess",".js-team-form.is-checking",function(t,e,n,r){var a,s;return a=$(this).removeClass("is-checking"),"function"==typeof(s=a.find(".js-team-name-field")).removeData&&s.removeData("autocheck-xhr"),r.error?(a.find(".js-save-button").addClass("disabled"),"exists"===r.error?(a.addClass("is-exists"),a.find(".js-slug").html(r.slug)):void 0):(a.find(".js-slug").html(r.slug),a.find(".js-save-button").removeClass("disabled"))}),$(document).on("ajaxError",".js-team-form",function(t,e){return e.nameCheck&&"abort"===e.statusText?!1:void 0}),$(document).on("throttled:input",".js-team-name-field",function(){var t,e,n,r;return e=$(this),t=e.closest(".js-team-form"),null!=(r=e.data("autocheck-xhr"))&&r.abort(),t.removeClass("is-exists").addClass("is-checking"),t.find(".js-save-button").addClass("disabled"),n=$.ajax({url:e.attr("data-check-url"),type:"GET",context:this,data:{name:this.value}}),n.nameCheck=!0,e.data("autocheck-xhr",n)})}.call(this),function(){$(document).on("click",".js-show-own-teams",function(){var t,e,n,r;return t=$(".js-team-search-field"),r=t.val(),n=$(this).attr("data-me"),-1===r.indexOf("@"+n)&&(e=r?" ":"",t.val(""+r+e+"@"+n),t.focus(),t.trigger("throttled:input")),!1})}.call(this),function(){var t;t=function(t,e,n){var r,a;return t.addClass("is-sending"),r=t.find(".team-name-octicon"),r.attr("class","hidden octicon team-name-octicon"),a=$.get(e.attr("data-check-url"),{name:n}),a.done(function(a){var s,i,o,c,l;return t.removeClass("is-sending"),a?t.find(".js-team-name-errors").html(a):t.find(".js-team-name-errors").html(""),o=null!=(l=e.attr("data-original"))?l.trim():void 0,i=o&&n===o,s=!!t.find(".js-error").length,c=(s||!n)&&!i,c?t.find(".js-create-team-button").attr("disabled","disabled"):t.find(".js-create-team-button").removeAttr("disabled"),s?r.attr("class","octicon team-name-octicon octicon-alert"):n?r.attr("class","octicon team-name-octicon octicon-check"):void 0})},$(document).on("throttled:input",".js-new-team",function(){var e,n;return n=$(this),e=n.closest("form"),t(e,n,n.val().trim())}),$(document).on("autocomplete:search",".js-team-ldap-group-field",function(){var t,e;return e&&e.abort(),t=$(this).val().trim(),""===t?($(".js-team-ldap-group-autocomplete-result-list").empty(),$(".js-team-ldap-group-autocomplete-results").trigger("autocomplete:change"),void 0):e=$.ajax({type:"GET",data:{query:t},url:$(this).attr("data-search-url"),dataType:"html",success:function(t){return e=null,$(".js-team-ldap-group-autocomplete-result-list").html(t),$(".js-team-ldap-group-autocomplete-results").trigger("autocomplete:change")}})}),$(document).ready(function(){var e,n;return $(".js-new-org-team").length>0&&(e=$("#team-name"),n=e.val().trim())?t($(".org-team-form"),e,n):void 0})}.call(this),function(){$(document).on("submit",".js-team-no-member-result-suggestion",function(){return $.sudo().then(function(t){return function(){var e,n;return e=$(t),n=$.post(e.attr("action"),$(t).serialize()),n.then(function(){return $(".js-find-member").val("").trigger("throttled:input")})}}(this)),!1}),$(document).on("submit",".js-remove-team-members-form",function(){return $.sudo().then(function(t){return function(){var e,n;return e=$(t),n=$.post(e.attr("action"),e.serialize()),n.then(function(){var t;return t=e.closest(".js-org-section"),e.closest(".js-edit-team-member").remove(),t.toggleClass("is-empty",!t.find(".js-org-list").children().length)})}}(this)),!1}),$(document).on("submit",".js-remove-team-repository",function(){var t,e;return t=$(this),e=$.ajax(t.attr("action"),{type:"DELETE",data:t.serialize()}),e.then(function(){var e;return e=t.closest(".js-org-section"),t.closest(".js-org-repo").remove(),e.toggleClass("is-empty",!e.find(".js-org-list").children().length)}),!1}),$(document).on("click",".js-team-description-toggle",function(){return $(".js-description-toggler").toggleClass("on")}),$(document).on("ajaxComplete",".js-team-description-form",function(){var t;return t=$(".js-team-description-field").val(),$(".js-description-toggler").toggleClass("on"),t.trim()?$(".js-team-description .description").text(t):$(".js-team-description .description").html("<span class='link'>This team has no description</span>")}),$(document).on("member-adder:added",".js-org-list",function(){return $(this).closest(".js-org-section").toggleClass("is-empty",!this.childElementCount)})}.call(this),function(){$(function(){var t;return $("#load-readme").click(function(){var e,n,r,a,s,i;return n=$("#gollum-editor-body"),e=$("#editor-body-buffer"),a=$("#undo-load-readme"),i=e.text(),t(n,e),r=$(this),r.prop("disabled",!0),r.text(r.data("readme-name")+" loaded"),a.show(),s=function(){return $(this).val()!==i&&a.hide(),n.off("change keyup",s)},n.on("change keyup",s),!1}),$("#undo-load-readme").click(function(){var e;return t($("#gollum-editor-body"),$("#editor-body-buffer")),e=$("#load-readme"),e.prop("disabled",!1),e.text("Load "+e.data("readme-name")),$(this).hide(),!1}),t=function(t,e){var n,r,a;return n=$(t),r=$(e),a=n.val(),n.val(r.text()),r.text(a)}})}.call(this),function(){$.pageUpdate(function(){return $(".js-profile-to-repo-search")[0]?$(document).on("submit",".js-profile-to-repo-search",function(){var t,e,n;return t=$(".js-profile-to-repo-search").data("login"),n=$("#your-repos-filter").val(),e="@"+t+" "+n,-1===n.search("@"+t)?$("#your-repos-filter").val(e):void 0}):void 0})}.call(this),function(){$(document).on("ajaxSuccess",".js-cleanup-pull-request",function(t,e,n,r){var a,s,i;i=r.updateContent;for(s in i)a=i[s],$(s).updateContent(a)}),$(document).on("ajaxError",".js-cleanup-pull-request",function(t,e){return $(this).addClass("error"),$(this).closest(".js-deletable-state").removeClass("mergeable-merged").addClass("mergeable-error"),e.responseText&&$(this).find(".js-cleanup-error-message").html(e.responseText),!1})}.call(this),function(){$(document).on("details:toggled","#js-pull-merging",function(){var t;return t=$(this).find(".js-merge-pull-request"),t.toggleClass("js-dirty",t.is($.visible))}),$(document).on("ajaxSuccess",".js-merge-pull-request",function(t,e,n,r){var a,s,i;this.reset(),$(this).removeClass("js-dirty"),i=r.updateContent;for(s in i)a=i[s],$(s).updateContent(a)}),$(document).on("ajaxError",".js-merge-pull-request",function(t,e){return $(this).addClass("error"),$(this).closest(".js-mergable-state").removeClass("mergeable-clean").addClass("mergeable-error"),e.responseText&&$(this).find(".js-merge-error-message").text(e.responseText),!1})}.call(this),function(){$(document).on("ajaxSend",".js-restore-head-ref",function(){return $(this).addClass("is-restoring")}),$(document).on("ajaxComplete",".js-restore-head-ref",function(){return $(this).removeClass("is-restoring")}),$(document).on("ajaxSuccess",".js-restore-head-ref",function(t,e,n,r){var a,s,i;i=r.updateContent;for(s in i)a=i[s],$(s).updateContent(a)}),$.pageUpdate(function(){var t,e;t=$(".js-cleanup-pull-request"),e=$(".js-restore-head-ref"),e.hide(),t.length||e.last().show()})}.call(this),function(){var t;t=function(t){var e;return e=t.getAttribute("data-container-id"),document.getElementById(e)},$(document).on("pjax:click",".js-pull-request-tab",function(e,n){return t(this)?!1:(n.push=!1,n.replace=!0)}),$(document).on("click",".js-pull-request-tab",function(e){var n,r,a,s,i,o;if(1===e.which&&!e.metaKey&&!e.ctrlKey&&(n=t(this))){for(o=$(".js-pull-request-tab.selected"),s=0,i=o.length;i>s;s++)r=o[s],$(r).removeClass("selected"),$(t(r)).removeClass("is-visible");return $(n).addClass("is-visible"),$(this).addClass("selected").blur(),"function"==typeof(a=window.history).replaceState&&a.replaceState(null,document.title,this.href),!1}}),$.hashChange(function(t){return $(t.target).closest(".js-details-container").addClass("open")}),$(document).on("ajaxSuccess",".js-inline-comment-form",function(){return $(this).closest("#discussion_bucket").length?$("#files_bucket").remove():$("#discussion_bucket").remove()}),$(document).on("socket:message",".js-pull-request-tabs",function(){$(this).ajax()}),$(document).on("ajaxSuccess",".js-pull-request-tabs",function(t,e,n,r){var a;return a=$($.parseHTML(r)),$(this).find("#commits_tab_counter").replaceWith(a.find("#commits_tab_counter")),$(this).find("#files_tab_counter").replaceWith(a.find("#files_tab_counter")),$(this).pageUpdate()}),$(document).on("socket:message",".js-pull-request-stale-files",function(){return $("#files_bucket").addClass("is-stale").pageUpdate()})}.call(this),function(){$(document).on("change",".js-pulse-period",function(t){var e;return e=$(t.target).attr("data-url"),$.pjax({url:e,container:"#js-repo-pjax-container"})})}.call(this),function(){$(document).on("navigation:open",".js-create-branch",function(){return $(this).submit(),!1})}.call(this),function(){var t,e,n,r,a,s;$(document).on("click",".js-releases-field a.remove",function(){var t;return t=$(this).closest("li"),t.addClass("delete"),t.find("input.destroy").val("true"),!1}),$(document).on("click",".js-releases-field a.undo",function(){var t;return t=$(this).closest("li"),t.removeClass("delete"),t.find("input.destroy").val(""),!1}),$(document).on("click",".js-timeline-tags-expander",function(){return $(this).closest(".js-timeline-tags").removeClass("is-collapsed")}),n=["is-default","is-saving","is-saved","is-failed"],r=function(t,e){return t.removeClass(n.join(" ")),t.addClass(e),"is-saving"===e?t.attr("disabled","disabled"):t.removeAttr("disabled")},$(document).on("click",".js-save-draft",function(t,n){var a,s,i,o,c,l;return $("#release_draft").val("1"),a=$(this),o=a.closest("form"),i=$("#delete_release_confirm form"),c=o.data("repo-url"),l=o.attr("action"),s=o.serialize(),r(a,"is-saving"),$.ajax({url:l,type:"POST",data:s,dataType:"json",success:function(t){var s,l;return l=e("tag",c,t.tag_name),o.attr("action",l),i.attr("action",l),window.history.replaceState(null,document.title,e("edit",c,t.tag_name)),s=$("#release_id"),s.val()||(s.val(t.id),o.append('<input type="hidden" id="release_method" name="_method" value="put" />')),r(a,"is-saved"),setTimeout(function(){return r(a,"is-default")},5e3),n?n():void 0},complete:function(){},error:function(){return r(a,"is-failed")}}),t.preventDefault()}),$(document).on("click",".js-publish-release",function(){return $("#release_draft").val("0")}),s=["is-loading","is-empty","is-valid","is-invalid","is-duplicate","is-pending"],a=function(t){var e;switch(t){case"is-valid":$(".release-target-wrapper").addClass("hidden");break;case"is-loading":break;default:$(".release-target-wrapper").removeClass("hidden")}return e=$(".js-release-tag"),e.removeClass(s.join(" ")),e.addClass(t)},t=function(t){return t.val()&&t.val()!==t.attr("data-last-checked")?(a("is-loading"),$.ajax({url:t.attr("data-url"),type:"GET",data:{tag_name:t.val()},dataType:"json",success:function(e){return"duplicate"===e.status&&parseInt(t.attr("data-existing-id"))===parseInt(e.release_id)?(a("is-valid"),void 0):($(".js-release-tag .js-edit-release-link").attr("href",e.url),a("is-"+e.status))},error:function(){return a("is-invalid")},complete:function(){return t.attr("data-last-checked",t.val())}})):void 0},e=function(t,e,n){return""+e+"/releases/"+t+"/"+n},$(document).on("blur",".js-release-tag-field",function(){return t($(this))}),$.observe(".js-release-tag-field",function(){t($(this))}),$(document).on("change",".js-release-tag",function(){var t,e,n,r,a,s,i,o,c;if(n=$(this),t=n.closest("form"),e=t.find(".js-previewable-comment-form"),e.length){for(r=e.data("base-preview-url"),r||(r=e.attr("data-preview-url"),r+=r.indexOf("?")>=0?"&":"?",e.data("base-preview-url",r)),a=[],c=n.find('input[name="release[tag_name]"], input[name="release[target_commitish]"]:checked'),i=0,o=c.length;o>i;i++)s=c[i],s.value&&a.push({name:s.name,value:s.value});return e.attr("data-preview-url",r+$.param(a))}}),$.observe(".js-previewable-comment-form",function(){$(this).closest("form").find(".js-release-tag").trigger("change")})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this.validate=e(this.validate,this),this.updateUpsell=e(this.updateUpsell,this),this.selectedPrivacyToggleElement=e(this.selectedPrivacyToggleElement,this),this.handlePrivacyChange=e(this.handlePrivacyChange,this),this.handleOwnerChange=e(this.handleOwnerChange,this),this.elements={ownerContainer:$(".js-owner-container"),iconPreviewPublic:$(".js-icon-preview-public"),iconPreviewPrivate:$(".js-icon-preview-private"),upgradeUpsell:$("#js-upgrade-container").hide(),upgradeConfirmationCheckbox:$(".js-confirm-upgrade"),upsells:$(".js-upgrade"),privacyToggles:$(".js-privacy-toggle"),privateRadio:$(".js-privacy-toggle[value=false]"),publicRadio:$(".js-privacy-toggle[value=true]"),repoNameField:$("input[type=text].js-repo-name"),form:$("#new_repository"),licenseContainer:$(".js-license-container"),ignoreContainer:$(".js-ignore-container"),autoInitCheckbox:$(".js-auto-init-checkbox"),teamBoxes:$(".js-team-select"),suggestion:$(".js-reponame-suggestion")},this.current_login=$("input[name=owner]:checked").prop("value"),this.privateRepo=!1,this.changedPrivacyManually=!1,this.elements.teamBoxes.hide(),this.elements.ignoreContainer.on("change","input[type=radio]",function(){return $(".js-auto-init-checkbox").prop("checked",!0)}),this.elements.licenseContainer.on("change","input[type=radio]",function(){return $(".js-auto-init-checkbox").prop("checked",!0)}),this.elements.ownerContainer.on("change","input[type=radio]",this.handleOwnerChange),this.elements.privacyToggles.on("change",function(t){return function(e){return t.handlePrivacyChange(e.targetElement,e)}}(this)),this.elements.upgradeUpsell.on("change input","input",this.validate),this.elements.form.on("repoform:validate",this.validate),this.elements.suggestion.on("click",function(t){return function(e){var n;return n=t.elements.repoNameField,n.val($(e.target).text()),n.trigger("change")}}(this)),this.handleOwnerChange(),this.updateUpsell(),this.validate()}return t.prototype.handleOwnerChange=function(){var t,e;return this.current_login=$("input[name=owner]:checked").prop("value"),this.elements.repoNameField.trigger("change"),e=this.elements.ownerContainer.find(".select-menu-item.selected"),this.elements.teamBoxes.hide().find("input, select").prop("disabled",!0),t=this.elements.teamBoxes.filter("[data-login="+this.current_login+"]"),t.show().find("input, select").prop("disabled",!1),this.changedPrivacyManually||("private"===e.attr("data-default")?this.elements.privateRadio.prop("checked","checked").change():this.elements.publicRadio.prop("checked","checked").change()),this.handlePrivacyChange(),"yes"===e.attr("data-permission")?($(".with-permission-fields").show(),$(".without-permission-fields").hide(),$(".errored").show(),$("dl.warn").show()):($(".with-permission-fields").hide(),$(".without-permission-fields").show(),$(".errored").hide(),$("dl.warn").hide()),this.updateUpsell()},t.prototype.handlePrivacyChange=function(t,e){return null==t&&(t=this.selectedPrivacyToggleElement()),null==e&&(e=null),e&&!e.isTrigger&&(this.changedPrivacyManually=!0),"false"===t.val()?(this.privateRepo=!0,this.elements.upgradeUpsell.show(),this.elements.upgradeUpsell.find("input[type=checkbox]").prop("checked","checked"),this.elements.iconPreviewPublic.hide(),this.elements.iconPreviewPrivate.show()):(this.privateRepo=!1,this.elements.upgradeUpsell.hide(),this.elements.upgradeUpsell.find("input[type=checkbox]").prop("checked",null),this.elements.form.attr("action",this.elements.form.attr("data-url")),this.elements.iconPreviewPrivate.hide(),this.elements.iconPreviewPublic.show()),this.validate()},t.prototype.selectedPrivacyToggleElement=function(){return this.elements.privateRadio.is(":checked")?this.elements.privateRadio:this.elements.publicRadio},t.prototype.updateUpsell=function(){var t;return t=this.elements.upsells.filter("[data-login="+this.current_login+"]"),this.elements.upgradeUpsell.html(t)},t.prototype.validate=function(){var t,e,n;return t=this.elements.form,n=!0,this.elements.repoNameField.is(".is-autocheck-successful")||(n=!1),e=this.elements.upgradeUpsell.find("input[type=checkbox]"),this.privateRepo&&e.length&&!e.is(":checked")&&(n=!1),$("button.primary").prop("disabled",!n)},t}(),$(function(){return $(".page-new-repo").length?new t:void 0}),$(document).on("autocheck:send","#repository_name",function(t,e){var n,r;n=$(this),r=n.closest("form").find("input[name=owner]:checked").val(),e.data.owner=r,n.trigger("repoform:validate")}),$(document).on("autocheck:complete","#repository_name",function(){return $(this).trigger("repoform:validate")}),$(document).on("autocheck:success","#repository_name",function(t,e){var n,r,a;return r=$(this).val(),r&&r!==e.name?(n=$(this).closest("dl.form"),n.addClass("warn"),a=$("<dd>").addClass("warning").text("Will be created as "+e.name),n.append(a)):void 0}),$(document).on("menu:activated",".js-ignore-container",function(){var t,e;return t=$(this).find(".js-menu-content"),e=t.overflowOffset(),e.bottom<=-10?t.css({marginTop:e.bottom-20}):void 0})}.call(this),function(){var t;$(document).on("pjax:end",function(){var t,e,n,r,a,s,i,o,c,l,u;if(a=$(document.head).find("meta[name='selected-link']").attr("value"),null!=a)for(e=$(".js-repository-container-pjax .js-selected-navigation-item").removeClass("selected"),s=0,o=e.length;o>s;s++)for(t=e[s],r=null!=(l=$(t).attr("data-selected-links"))?l:"",u=r.split(" "),i=0,c=u.length;c>i;i++)n=u[i],n===a&&$(t).addClass("selected")}),$(document).on("click",".js-repo-home-link, .js-repository-container-pjax a",function(t){var e,n;if(!$(this).hasClass("js-disable-pjax"))return n=!1,e=$("#js-repo-pjax-container"),$.pjax.click(t,{container:e,scrollTo:n})}),t=function(){var t;return t=null!=document.getElementById("js-show-full-navigation"),$(".repository-with-sidebar").toggleClass("with-full-navigation",t)},$(function(){var e;return(e=document.getElementById("js-repo-pjax-container"))?t(e):void 0}),$(document).on("pjax:end","#js-repo-pjax-container",function(){return t(this)}),$(document).on("pjax:clicked",".js-directory-link",function(){return $(this).closest("tr").addClass("is-loading"),$(document.body).addClass("disables-context-loader")}),$(document).on("pjax:click",".js-octicon-loaders a",function(){return $(this).addClass("is-loading"),$(document).one("pjax:end",function(t){return function(){return $(t).removeClass("is-loading")}}(this))}),$(function(){var t;return t=$(".mini-nav, .repo-container .menu"),t.length?$.each(t,function(t,e){return new FastClick(e)}):void 0})}.call(this),function(){$(document).onFocusedInput(".js-repository-name",function(){var t,e,n;return e=/[^0-9A-Za-z_\-.]/g,n=$(".js-form-note"),t=$(".js-rename-repository-button"),function(){n.html("Will be renamed as <code>"+this.value.replace(e,"-")+"</code>"),e.test(this.value)?n.show():n.hide(),this.value&&this.value!==$(this).attr("data-original-name")?t.prop("disabled",!1):t.prop("disabled",!0)}})}.call(this),function(){$(document).on("ajaxSend",".js-action-ldap-create",function(){return $(this).find(".minibutton").addClass("disabled")}),$(document).on("ajaxComplete",".js-action-ldap-create",function(t,e){var n,r;return n=$(this),r=500===e.status?"Oops, something went wrong.":e.responseText,n.find(".js-message").show().html(" &ndash; "+r),200===e.status&&n.find(".button").hide(),!1})}.call(this),function(){$(document).on("ajaxSend",".js-action-pull",function(){return $(this).find(".minibutton").not(".disabled").addClass("reenable disabled")}),$(document).on("ajaxComplete",".js-action-pull",function(t,e){var n,r,a;return n=$(this),a=$(t.target),200===e.status&&(a.hasClass("close")||a.hasClass("open")?$.pjax.reload($("#js-pjax-container")):n.find(".reenable").removeClass("reenable disabled")),r=500===e.status?"Oops, something went wrong.":e.responseText,n.find(".js-message").show().html(r),!1})}.call(this),function(){$.support.pjax&&$(document).on("submit",".js-stars-search",function(t){var e;return(e=$(this).closest("[data-pjax-container]")[0])?$.pjax.submit(t,{container:e}):void 0})}.call(this),function(){$(document).on("click",".js-styleguide-octicon-facebox",function(t){var e,n,r;return t.preventDefault(),r=$(this).data("octicon-glyph"),n=$(this).data("octicon-name"),e=$(".js-octicon-facebox-template").html(),e=e.replace(/classnamegoeshere/g,n),e=e.replace(/glyphgoeshere/g,r),jQuery.facebox(e),$(document).pageUpdate()
}),$(function(){return $(".js-octicons-search-field")[0]?$(".js-octicons-search-field").focus():void 0})}.call(this),function(){$(document).on("ajaxBeforeSend",".js-auto-subscribe-toggle",function(){return $(this).find(".js-auto-subscribe-spinner").removeClass("hidden"),$(this).find(".js-auto-subscribe-spinner-failed").addClass("hidden")}),$(document).on("ajaxError",".js-auto-subscribe-toggle",function(){return $(this).find(".js-auto-subscribe-spinner").addClass("hidden"),$(this).find(".js-auto-subscribe-spinner-failed").removeClass("hidden")}),$(document).on("ajaxSuccess",".js-auto-subscribe-toggle",function(){return $(this).find(".js-auto-subscribe-spinner").addClass("hidden"),$(this).find(".js-auto-subscribe-spinner-failed").addClass("hidden")}),$(document).on("ajaxBeforeSend",".js-unignore-form, .js-ignore-form",function(){return $(this).closest(".subscription-row").addClass("loading")}),$(document).on("ajaxError",".js-unignore-form, .js-ignore-form",function(){return $(this).closest(".subscription-row").removeClass("loading"),$(this).find(".minibutton").addClass("danger").attr("title","There was a problem unignoring this repo.")}),$(document).on("ajaxSuccess",".js-unignore-form",function(){return $(this).closest(".subscription-row").removeClass("loading").addClass("unsubscribed")}),$(document).on("ajaxSuccess",".js-ignore-form",function(){return $(this).closest(".subscription-row").removeClass("loading unsubscribed")}),$(document).on("ajaxBeforeSend",".js-unsubscribe-form, .js-subscribe-form",function(){return $(this).closest(".subscription-row").addClass("loading")}),$(document).on("ajaxError",".js-unsubscribe-form, .js-subscribe-form",function(){return $(this).closest(".subscription-row").removeClass("loading"),$(this).find(".minibutton").addClass("danger").attr("title","There was a problem with unsubscribing :(")}),$(document).on("ajaxSuccess",".js-unsubscribe-form",function(){return $(this).closest(".subscription-row").removeClass("loading").addClass("unsubscribed")}),$(document).on("ajaxSuccess",".js-subscribe-form",function(){return $(this).closest(".subscription-row").removeClass("loading unsubscribed")}),$(document).on("ajaxSuccess",".js-thread-subscription-status",function(t,e,n,r){return $(".js-thread-subscription-status").updateContent(r)})}.call(this),function(){var t;t=function(){return $(".js-team-add-user-form[data-ajax-save-enabled]").length>0},$(document).on("autocomplete:search",".js-team-add-user-name",function(){var t,e;return e=$(this).val(),t=$(".js-team-add-user-autocomplete-results"),""===e?(t.find("ul").empty(),t.trigger("autocomplete:change"),void 0):$(this).ajax({data:{q:e},success:function(e){return t.find("ul").html(e),t.trigger("autocomplete:change")}})}),$(document).on("autocomplete:autocompleted:changed",".js-team-add-user-name",function(){var t;return t=$(".js-team-add-user-button")[0],t.disabled=!$(this).attr("data-autocompleted")}),$(document).on("click",".js-team-remove-user",function(e){var n,r,a;return e.preventDefault(),$(".js-team-add-user-name").focus(),n=$(this).closest("li").remove(),r=n.attr("data-login"),t()?(a=$(".js-team-add-user-form").attr("data-destroy-url"),$.ajax({url:a,data:{member:r},type:"POST"})):void 0}),$(document).on("click",".js-team-add-user-button",function(e){var n,r,a,s,i,o;if(e.preventDefault(),n=$(".js-team-add-user-name"),a=n.val(),a&&n.attr("data-autocompleted")){for(n.val(""),o=$(".js-team-user-logins li"),s=0,i=o.length;i>s;s++)if(r=o[s],$(r).attr("data-login")===a)return;return $.sudo().then(function(){var e;return t()&&(e=$(".js-team-add-user-form").attr("data-create-url"),$.ajax({url:e,data:{member:a},type:"POST"})),$.ajax({url:$(".js-team-add-user-form").attr("data-template-url"),data:{member:a},success:function(e){return $(".js-team-user-logins").append(e),$(".js-login-field").prop("disabled",t())}}),$(".js-team-add-user-name").focus()})}})}.call(this),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){var e;e=$(t),this.name=e.data("theme-name"),this.slug=e.data("theme-slug"),this.baseHref=e.attr("href")}return t.prototype.wrappedKey=function(t,e){return null==e&&(e=null),e?""+e+"["+t+"]":t},t.prototype.params=function(t){var e;return null==t&&(t=null),e={},e[this.wrappedKey("theme_slug",t)]=this.slug,e},t.prototype.previewSrc=function(){return[this.baseHref,$.param(this.params())].join("&")},t}(),e=function(){function e(){this.updateScrollLinks=n(this.updateScrollLinks,this),this.scrollThemeLinksContainer=n(this.scrollThemeLinksContainer,this),this.onPublishClick=n(this.onPublishClick,this),this.onHideClick=n(this.onHideClick,this),this.onThemeLinkClick=n(this.onThemeLinkClick,this),this.onThemeNavNextClick=n(this.onThemeNavNextClick,this),this.onThemeNavPrevClick=n(this.onThemeNavPrevClick,this),this.onScrollForwardsClick=n(this.onScrollForwardsClick,this),this.onScrollBackwardsClick=n(this.onScrollBackwardsClick,this),this.onPagePreviewLoad=n(this.onPagePreviewLoad,this),this.pagePreview=$("#page-preview"),this.contextLoader=$("#loader"),this.fullPicker=$("#theme-picker-full"),this.miniPicker=$("#theme-picker-mini"),this.scrollBackwardsLinks=$(".theme-picker-scroll-backwards"),this.scrollForwardsLinks=$(".theme-picker-scroll-forwards"),this.prevLinks=$(".theme-picker-prev"),this.nextLinks=$(".theme-picker-next"),this.themeLinksContainer=this.fullPicker.find(".themes"),this.themeLinks=this.themeLinksContainer.find("a"),this.themes=[],this.themeLinks.each(function(e){return function(n,r){return e.themes.push(new t(r))}}(this)),this.selectedTheme=this.themes[0],this.pagePreview.load(this.onPagePreviewLoad),this.scrollBackwardsLinks.click(this.onScrollBackwardsClick),this.scrollForwardsLinks.click(this.onScrollForwardsClick),this.prevLinks.click(this.onThemeNavPrevClick),this.nextLinks.click(this.onThemeNavNextClick),this.themeLinks.click(this.onThemeLinkClick),$("#page-hide").click(this.onHideClick),$("#page-edit").click(this.onEditClick),$("#page-publish").click(this.onPublishClick),this.miniPicker.hide(),this.theme(this.selectedTheme),this.updateScrollLinks()}return e.prototype.onPagePreviewLoad=function(){var t,e;return this.contextLoader.removeClass("visible"),t=this.pagePreview[0].contentDocument?this.pagePreview[0].contentDocument:this.pagePreview[0].contentWindow.document,e=""+this.getDocHeight(t)+"px",this.pagePreview.css("visibility","hidden"),this.pagePreview.height("10px"),this.pagePreview.height(e),this.pagePreview.css("visibility","visible")},e.prototype.onScrollBackwardsClick=function(){return this.scrollThemeLinksContainer(-1)},e.prototype.onScrollForwardsClick=function(){return this.scrollThemeLinksContainer(1)},e.prototype.onThemeNavPrevClick=function(){return this.theme(this.prevTheme())},e.prototype.onThemeNavNextClick=function(){return this.theme(this.nextTheme())},e.prototype.onThemeLinkClick=function(t){return this.theme(this.themeForLink(t.currentTarget)),!1},e.prototype.onHideClick=function(t){var e;return $("#header").toggle(),this.fullPicker.toggle(),this.miniPicker.toggle(),this.scrollToTheme(this.theme(),!1),e=$(t.currentTarget),this.fullPicker.is($.visible)?(e.addClass("hide"),e.removeClass("show")):(e.addClass("show"),e.removeClass("hide")),!1},e.prototype.onEditClick=function(){return $("#page-edit-form").submit(),!1},e.prototype.onPublishClick=function(){var t;return t=$("#page-publish-form"),t.find('input[name="page[theme_slug]"]').val(this.theme().slug),$("#page-publish-form").submit(),!1},e.prototype.scrollThemeLinksContainer=function(t){var e,n,r;return n=this.themeLinksContainer.scrollLeft(),r=this.themeLinksContainer.outerWidth(!0),e=n+r*t,this.themeLinksContainer.animate({scrollLeft:e},400,function(t){return function(){return t.updateScrollLinks()}}(this)),!1},e.prototype.updateScrollLinks=function(){var t,e,n;return t=this.themeLinksContainer.scrollLeft(),0>=t?(this.scrollBackwardsLinks.addClass("hide"),this.scrollForwardsLinks.removeClass("hide")):(this.scrollBackwardsLinks.removeClass("hide"),n=this.themeLinksContainer[0].scrollWidth,e=n-this.themeLinksContainer.outerWidth(!0),t>=e?this.scrollForwardsLinks.addClass("hide"):this.scrollForwardsLinks.removeClass("hide"))},e.prototype.selectedThemeIndex=function(){return this.themes.indexOf(this.selectedTheme)},e.prototype.prevTheme=function(){var t;return t=(this.selectedThemeIndex()-1)%this.themes.length,0>t&&(t+=this.themes.length),this.themes[t]},e.prototype.nextTheme=function(){return this.themes[(this.selectedThemeIndex()+1)%this.themes.length]},e.prototype.themeForLink=function(t){return this.themes[this.themeLinks.index($(t))]},e.prototype.linkForTheme=function(t){return $(this.themeLinks[this.themes.indexOf(t)])},e.prototype.scrollToTheme=function(t,e){var n,r,a,s,i,o;return null==e&&(e=!0),n=this.linkForTheme(t),o=this.themes.indexOf(t),s=n.parent().outerWidth(!0),a=o*s,r=this.themeLinksContainer.scrollLeft(),i=r+this.themeLinksContainer.outerWidth(!0),r>a||a+s>i?e?this.themeLinksContainer.animate({scrollLeft:a},500):this.themeLinksContainer.scrollLeft(a):void 0},e.prototype.theme=function(t){return null==t&&(t=null),t?(this.selectedTheme=t,this.showPreviewFor(t),this.themeLinks.removeClass("selected"),this.linkForTheme(t).addClass("selected"),this.scrollToTheme(t),this.miniPicker.find("span.theme-name > strong").text(t.name),!1):this.selectedTheme},e.prototype.showPreviewFor=function(t){var e;return this.contextLoader.addClass("visible"),e=this.fullPicker.find("form"),e.find('input[name="theme_slug"]').val(t.slug),e.submit()},e.prototype.getDocHeight=function(t){var e,n;return this.pagePreview.height("auto"),e=t.body,n=t.documentElement,Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)},e}(),$(function(){return document.getElementById("theme-picker-wrap")?new e:void 0})}.call(this),function(){var t,e,n,r,a;n=function(t){return setTimeout(function(){var e,n,a,s,i;for(s=$(".js-tree-finder-field"),i=[],n=0,a=s.length;a>n;n++)e=s[n],e.value=t,i.push(r(e));return i},0)},a=null,r=function(t,e){var n,s,i,o,c,l,u,d,h,f,m,p;if(d=document.getElementById($(t).attr("data-results"))){if(!(i=$(d).data("tree-finder-list")))return null==a&&(a=$.ajax({url:$(d).attr("data-url"),cache:!0,success:function(e){return $(d).data("tree-finder-list",e.paths),r(t)},complete:function(){return a=null}})),void 0;for(h=$(d).find(".js-tree-browser-result-template").html(),l=$(d).find(".js-tree-finder-results"),null==e&&(e=$(t).val()),e?(o=$.fuzzyRegexp(e),u=$.fuzzySort(i,e)):u=i,u=u.slice(0,50),n=function(){var t,e,n;for(n=[],t=0,e=u.length;e>t;t++)s=u[t],n.push(h.replace(/\$presentationPath/g,s).replace(/\$path/g,encodeURI(s)+window.location.search));return n}(),l.html(n),p=l.find(".tree-browser-result a"),f=0,m=p.length;m>f;f++)c=p[f],$.fuzzyHighlight(c,e,o);l.navigation("focus")}},$(document).onFocusedKeydown(".js-tree-finder-field",function(t){return r(this),$(this).on("throttled:input."+t,function(){return r(this)}),function(t){return"esc"===t.hotkey?(history.back(),t.preventDefault()):void 0}}),t=function(){var t;return t=$("<textarea>").css({position:"fixed",top:0,left:0,opacity:0}),$(document.body).append(t),t.focus(),function(){return t.blur().remove().val()}},e=null,$(document).on("pjax:click",".js-show-file-finder",function(){return e=t()}),$(document).on("pjax:end","#js-repo-pjax-container",function(){var t;return e?((t=e())&&n(t),e=null):void 0}),$.observe(".js-tree-finder-field",function(){r(this)})}.call(this),function(){var t,e,n,r,a;r=function(){return $("body").addClass("is-sending"),$("body").removeClass("is-sent is-not-sent")},a=function(){return $("body").addClass("is-sent"),$("body").removeClass("is-sending")},n=function(t){return t.responseText.length&&$(".js-sms-error").text(t.responseText),$("body").addClass("is-not-sent"),$("body").removeClass("is-sending")},t=function(t){return r(),$.ajax({url:t,type:"POST",success:a,error:n}),!1},$(document).on("click",".js-resend-auth-code",function(){return t("/sessions/two_factor/resend")}),$(document).on("click",".js-send-fallback-auth-code",function(){return t("/sessions/two_factor/send_fallback")}),$(document).on("click",".js-send-two-factor-code",function(){var t,e,s,i,o;return t=$(this).closest("form"),e=t.find(".js-country-code-select").val(),s=t.find(".js-sms-number").val(),i=""+e+" "+s,o=t.find(".js-two-factor-secret").val(),t.find("input,button,select").prop("disabled",!0),r(),$.ajax({url:"/settings/two_factor_authentication/send_sms",type:"POST",data:{number:i,two_factor_secret:o},success:function(){return a(),t.find(".js-2fa-enable").prop("disabled",!1),t.find(".js-2fa-confirm").prop("disabled",!0),t.find(".js-2fa-otp").focus()},error:function(e){return n(e),t.find(".js-2fa-enable").prop("disabled",!0),t.find(".js-2fa-confirm").prop("disabled",!1)}}),!1}),$(document).on("click","button.js-2fa-enable",function(){var t;return t=$(this).closest("form"),t.find("input,button,select").prop("disabled",!1)}),$(document).on("click",".js-set-two-factor-fallback",function(){var t,n,r;return t=$(this).closest(".form"),n=t.find(".js-fallback-country-code-select").val(),r=t.find(".js-sms-fallback").val(),e(n,r)}),e=function(t,e){return $("body").addClass("is-setting"),$("body").removeClass("is-set is-not-set"),""!==e&&(e=t+" "+e),$.ajax({url:"/settings/two_factor_authentication/backup_number",type:"POST",data:{number:e},success:function(){return $("body").addClass("is-set"),$("body").removeClass("is-setting"),""===e?$(".set-message").html("Removed!"):$(".set-message").html("Set! You should receive a confirmation SMS shortly.")},error:function(t){return t.responseText.length&&$(".js-fallback-error-message").text(t.responseText),$("body").addClass("is-not-set"),$("body").removeClass("is-setting")}}),!1},$(document).on("ajaxBeforeSend",".js-add-yubicat",function(){return $(this).find("input").prop("disabled",!0)}),$(document).on("ajaxSuccess",".js-yubicat-box",function(){return $(this).find(".js-yubicat-error").hide(),$(this).find(".js-add-yubicat input").prop("disabled",!1)}),$(document).on("ajaxError",".js-yubicat-box",function(t,e){var n;return $(this).find(".js-add-yubicat input").prop("disabled",!1).val(""),n=$(this).find(".js-yubicat-error"),422===e.status&&""!==e.responseText.replace(/\s/,"")?n.html(e.responseText):n.html("There was an error. Refresh the page and try again."),n.show(),!1}),$(document).on("ajaxSuccess",".js-delete-yubicat",function(){return $(this).closest("li").remove()}),$(document).on("ajaxSuccess",".js-add-yubicat",function(t,e){var n,r,a;return $(this).find("input").val(""),r=$(this).closest("ul").find(".js-yubicat-template").clone(),n=r.find("a"),a=n.attr("href").replace("deviceId",e.responseText),n.attr("href",a),r.find("code").html(e.responseText),r.removeClass("yubicat-template"),$(this).closest("li").before(r)})}.call(this),function(){$(document).on("click",".js-user-sessions-revoke",function(){return $.sudo().then(function(t){return function(){return $.ajax({type:"DELETE",url:t.href}).then(function(){return $(t).closest("li").remove()})}}(this)),!1})}.call(this),function(){var t,e;e=function(){var e,n,r;return(n=$("meta[name=porter-dark-ship-token]").attr("content"))&&(r=$("meta[name=porter-dark-ship-js-api-url]").attr("content"))?(e=new t(n,r),e.start()):void 0},t=function(){function t(t,e){this.token=t,this.start_url=e}return t.prototype.start=function(){return $.ajax({url:this.start_url,method:"post",data:{token:this.token},success:function(t){return function(e){return t.poll(e)}}(this)})},t.prototype.poll=function(t){var e,n;return n=function(e){return function(){return $.ajax({url:t.url,method:"get",data:{poll_token:t.poll_token,token:t.token},success:function(t){return e.poll(t)}})}}(this),e=setTimeout(n,t.interval||5e3),window.stop_polling_porter=function(){return clearTimeout(e)}},t}(),$(function(){return e()})}.call(this),function(){$(document).on("click",".js-rendered-diff.collapsed .expandable",function(t){return t.preventDefault(),$(t.target).closest(".collapsed").removeClass("collapsed")})}.call(this),function(){var t,e,n,r,a,s,i;s=["is-render-pending","is-render-ready","is-render-loading","is-render-loaded"].reduce(function(t,e){return""+t+" "+e}),a=function(t){var e;return e=t.data("timing"),null!=e?(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer?(clearTimeout(e.loadTimer),e.loadTimer=null):void 0):void 0},e=function(t){var e,n,r;if(!t.data("timing"))return e=10,n=45,r={load:null,hello:null,helloTimer:null,loadTimer:null},r.load=Date.now(),r.helloTimer=setTimeout(i(t,function(){return!r.hello}),1e3*e),r.loadTimer=setTimeout(i(t),1e3*n),t.data("timing",r)},r=function(t){return t.addClass("is-render-requested")},n=function(t,e){return t.removeClass(s),t.addClass("is-render-failed"),null!=e&&t.addClass("is-render-failed-"+e),a(t)},i=function(t,e){return null==e&&(e=function(){return!0}),function(){var r;if(t.is($.visible)&&!t.hasClass("is-render-ready")&&!t.hasClass("is-render-failed")&&!t.hasClass("is-render-failed-fatally")&&e())return(r=t.data("timing"))?(console.error("Render timeout: "+JSON.stringify(r)+" Now: "+Date.now()),n(t)):console.error("No timing data on $:",t)}},$.pageUpdate(function(){return $(this).find(".js-render-target").each(function(){var t,n;return t=$(this),(null!=(n=t.data("timing"))?n.load:0)?void 0:(a(t),e(t),t.addClass("is-render-automatic"),r(t))})}),t=function(t){var e;return e=".js-render-target",t?$(""+e+"[data-identity='"+t+"']"):$(e)},$(window).on("message",function(e){var r,a,i,o,c,l,u,d,h,f,m,p,g,v;if(p=e.originalEvent,o=p.data,u=p.origin,o&&u&&(g=function(){try{return JSON.parse(o)}catch(t){return e=t,o}}(),m=g.type,c=g.identity,i=g.body,d=g.payload,m&&i&&1===(r=t(c)).length&&(h=r.data("timing")||{untimed:!0})&&u===r.data("host")&&"render"===m))switch(i){case"hello":if(h.hello=Date.now(),a={type:"render:cmd",body:{cmd:"ack",ack:!0}},l={type:"render:cmd",body:{cmd:"branding",branding:!1}},f=null!=(v=r.find("iframe").get(0))?v.contentWindow:void 0,"function"==typeof f.postMessage&&f.postMessage(JSON.stringify(a),"*"),"function"==typeof f.postMessage&&f.postMessage(JSON.stringify(l),"*"),r.data("local"))return l={type:"render:data",body:window.editor.code()},"function"==typeof f.postMessage?f.postMessage(JSON.stringify(l),"*"):void 0;break;case"error":return n(r);case"error:fatal":return n(r,"fatal");case"loading":return r.removeClass(s),r.addClass("is-render-loading");case"loaded":return r.removeClass(s),r.addClass("is-render-loaded");case"ready":if(r.removeClass(s),r.addClass("is-render-ready"),null!=(null!=d?d.height:void 0))return r.height(d.height);break;case"resize":return null!=(null!=d?d.height:void 0)&&r.hasClass("is-render-ready")?r.height(d.height):console.error("Resize event sent without height or before ready");default:return console.error("Unknown message ["+m+"]=>'"+i+"'")}})}.call(this),function(){$(document).on("click",".js-toggle-lang-stats",function(t){var e,n;return $(".js-stats-switcher-viewport").toggleClass("is-revealing-lang-stats"),n=$(this).closest(".tooltipped").attr("aria-label"),e="",e=n.match("Show")?n.replace("Show","Hide"):n.replace("Hide","Show"),$(".js-toggle-lang-stats").closest(".tooltipped").attr("aria-label",e),$(this).trigger("mouseover"),t.preventDefault()})}.call(this),function(){var t,e;e=null,$(document).on("autocomplete:search",".js-repository-new-collab-field",function(){return e&&e.abort(),""===$(this).val()?($(".js-new-collab-autocomplete-result-list").empty(),$(".js-new-collab-autocomplete-results").trigger("autocomplete:change"),void 0):e=$.ajax({type:"GET",data:{q:$(this).val()},url:"/autocomplete/users",dataType:"html",success:function(t){return e=null,$(".js-new-collab-autocomplete-result-list").html(t),$(".js-new-collab-autocomplete-results").trigger("autocomplete:change")}})}),$(document).on("autocomplete:autocompleted:changed",".js-repository-new-collab-field",function(){var t;return t=$(this).closest("form").find(".js-add-new-collab"),$(this).attr("data-autocompleted")?t.removeAttr("disabled"):t.attr("disabled","disabled")}),$(function(){return $(".js-add-new-collab").attr("disabled","disabled")}),t=function(t){return t?$(".js-collab-error").text(t).show():$(".js-collab-error").hide()},$(document).on("submit",".js-add-collab-form",function(e){var n,r;return e.preventDefault(),n=$(".js-repository-new-collab-field"),r=n.val(),r&&n.attr("data-autocompleted")?(t(),$.ajax({url:this.action,data:{member:r},type:"POST",dataType:"json",success:function(e){return n.val(""),e.error?t(e.error):$(".js-collab-list").append(e.html)},error:function(){return t("An unidentified error occurred, try again?")}})):!1}),$(document).on("submit",".js-add-team-form",function(e){var n,r;return e.preventDefault(),n=$(".js-repository-new-team-select"),r=n.val().trim(),""===r?(t("You must select a team"),!1):(t(),$.ajax({url:this.action,data:{team:r},type:"POST",dataType:"json",success:function(e){return n.val(""),e.error?t(e.error):$(".js-repo-team-list").append(e.html)},error:function(){return t("An unidentified error occurred, try again?")}}))}),$(document).on("click",".js-remove-repo-access",function(e){var n;return e.preventDefault(),t(),n=$(this).closest(".js-repo-access-entry"),$.ajax({type:"DELETE",url:this.href,success:function(){return n.remove()},error:function(){return t("Sorry, we couldn’t remove access. Please try again.")}})})}.call(this),function(){$(document).on("change",".js-repo-default-branch",function(){var t,e,n;return e=$(this),t=$(this).parents("dl.form"),n=e.val(),t.removeClass("successful").removeClass("errored").addClass("loading"),$.ajax({type:"PUT",url:t.closest("form").attr("action"),data:{field:"repository_default_branch",value:n},complete:function(){return t.removeClass("loading")},success:function(){return t.addClass("successful")},error:function(){return t.addClass("errored"),e.val(n)}})}),$(document).on("change",".js-repo-feature-checkbox",function(){var t,e;return t=this,e=$(this).closest(".addon"),e.removeClass("success").removeClass("error").addClass("loading"),$.ajax({type:"PUT",url:e.closest("form").attr("action"),data:{field:t.name,value:t.checked?1:0},success:function(t){return e.removeClass("loading").addClass("success"),/^\s*</.test(t)?($(".repo-nav").replaceWith(t),$(".repo-nav").pageUpdate()):void 0},error:function(){return t.checked=!t.checked,e.removeClass("loading").addClass("error")}})})}.call(this),function(){$(document).on("change",".js-notifications-settings input[type=checkbox]",function(){var t,e;return t=$(this),e=t.parents("li").find(".js-auto-subscribe-spinner"),e.removeClass("hidden"),$.ajax({url:t.parents(".js-notifications-settings").attr("data-toggle-url"),type:"POST",data:t.parents(".js-notifications-settings").serialize(),complete:function(){return e.addClass("hidden")}})}),$(document).on("ajaxSuccess",".js-remove-item",function(){return $(this).parents("li").remove()}),$(document).on("click",".js-delete-email",function(){return $.sudo().then(function(t){return function(){return $.ajax({type:"DELETE",url:t.href}).then(function(){return $(t).closest("li").remove()})}}(this)),!1}),$(document).on("ajaxSuccess",".js-toggle-visibility",function(t,e,n,r){return $("#settings-emails").children(".settings-email.primary").toggleClass("private","private"===r.visibility)}),$(document).on("ajaxSend",".js-remove-key",function(){return $(this).addClass("disabled").find("span").text("Deleting…")}),$(document).on("ajaxError",".js-remove-key",function(){return $(this).removeClass("disabled").find("span").text("Error. Try again.")}),$(document).on("ajaxSuccess",".js-remove-key",function(){return $(this).parents("li").remove(),0===$(".js-ssh-keys-box li").length?$(".js-no-ssh-keys").show():void 0}),$(document).on("click",".js-leave-collaborated-repo",function(t){var e,n,r;return e=$(t.currentTarget),n=e.closest("[data-repo]").attr("data-repo"),r=$('ul.repositories li[data-repo="'+n+'"]'),$.ajax({url:"/account/leave_repo/"+n,type:"POST"}),$.facebox.close(),r.fadeOut(),!1}),$(document).on("ajaxError",".js-name-change-in-progress",function(){return $(".js-name-change-in-progress").hide(),$(".js-name-change-error").show()}),$(document).on("ajaxSuccess",".js-unsubscribe-from-newsletter form",function(){return $(".js-unsubscribe-from-newsletter .message").toggle()}),$(document).on("click",".js-show-new-ssh-key-form",function(){return $(".js-new-ssh-key-box").toggle().find(".js-ssh-key-title").focus(),!1}),$(document).on("click",".js-revoke-access",function(){var t,e,n,r,a;return r=$(this).data("id"),a=$(this).data("type"),e=$(this).siblings(".js-delete-failed").addClass("hidden"),n="[data-type="+a+"][data-id="+r+"]",t=$(".js-revoke-item").filter(n),$.ajax({url:$(this).data("path"),type:"DELETE",success:function(){return $.facebox.close(),t.remove()},error:function(){return e.removeClass("hidden")}}),!1}),$(document).on("click",".js-delete-oauth-application-image",function(){var t,e,n;return t=$(this).closest(".js-uploadable-container"),t.removeClass("has-uploaded-logo"),e=t.find("img.js-image-field"),n=t.find("input.js-oauth-application-logo-id"),e.attr("src",""),n.val(""),!1}),$(document).on("click",".js-new-callback",function(t){var e,n;return t.preventDefault(),e=$(t.currentTarget).closest(".js-callback-urls"),n=e.find(".js-callback-url").first().clone(),n.removeClass("is-default-callback"),n.find("input").val(""),e.addClass("has-many"),$(t.currentTarget).before(n)}),$(document).on("click",".js-delete-callback",function(t){var e,n;return t.preventDefault(),e=$(t.currentTarget).closest(".js-callback-urls"),$(t.currentTarget).closest(".js-callback-url").remove(),n=e.find(".js-callback-url"),n.length<=1?e.removeClass("has-many"):void 0}),$(document).on("click",'.js-oauth-application-whitelist input[type="radio"]',function(t){var e;return e=$(t.currentTarget).closest(".js-oauth-application-whitelist"),e.toggleClass("is-selectable",e.find(".js-selectable-applications").prop("checked"))}),$(document).on("click",".section-head",function(){return $(".section-nav").slideUp(200).addClass("collapsed"),$(this).next(".section-nav").slideDown(200).removeClass("collapsed")}),$(document).on("click",".js-user-rename-warning-continue",function(){return $(".js-user-rename-warning, .js-user-rename-form").toggle(),!1}),$(document).on("ajaxSuccess",".js-toggle-developer-program-subscription",function(t,e,n,r){return $(this).replaceWith(r)})}.call(this),function(){$(function(){return $(".js-form-signup-home input").placeholder(),$(".js-email-notice-trigger").focus(function(){return $(".js-email-notice").addClass("notice-highlight")}),$(".js-email-notice-trigger").blur(function(){return $(".js-email-notice").removeClass("notice-highlight")})}),$.observe(".js-plan-choice:checked",{add:function(){return $(this).closest(".plan-row").addClass("selected")},remove:function(){return $(this).closest(".plan-row").removeClass("selected")}}),$.observe(".js-plan-row.selected",{add:function(){var t;return t=$(this).find(".js-choose-button"),t.text(t.attr("data-selected-text"))},remove:function(){var t;return t=$(this).find(".js-choose-button"),t.text(t.attr("data-default-text"))}}),$.observe(".js-plan-row.free-plan.selected",{add:function(){var t;return t=$("#js-signup-billing-fields"),t.data("contents",t.contents().detach())},remove:function(){var t,e;return t=$("#js-signup-billing-fields"),e=t.data("contents"),t.append(e)}}),$.observe(".js-setup-organization:checked",{add:function(){var t;return t=$(".js-choose-plan-submit"),t.attr("data-default-text")||t.attr("data-default-text",t.text()),t.text(t.attr("data-org-text"))},remove:function(){var t;return t=$(".js-choose-plan-submit"),t.text(t.attr("data-default-text"))}})}.call(this),function(){$(document).on("click",".js-approve-ssh-key",function(){var t;return t=$(this),t.addClass("disabled").find("span").text("Approving…"),$.ajax({url:t.attr("href"),type:"POST",success:function(){return t.parents("li").addClass("approved")},error:function(){return t.removeClass("disabled").find("span").text("Error. Try Again")}}),!1}),$(document).on("click",".js-reject-ssh-key",function(){var t;return t=$(this),t.addClass("disabled").find("span").text("Rejecting…"),$.ajax({url:t.attr("href"),type:"DELETE",success:function(){return t.parents("li").addClass("rejected")},error:function(){return t.removeClass("disabled").find("span").text("Error. Try Again")}}),!1})}.call(this),function(){!$.support.pjax||location.search||location.hash||$(function(){var t,e,n;return t=null!=(n=document.getElementById("issues-dashboard"))?n:document.getElementById("issues_list"),(e=$(t).attr("data-url"))?window.history.replaceState(null,document.title,e):void 0})}.call(this),function(){$.hashChange(function(){var t,e;if(location.hash&&!document.querySelector(":target"))return t="user-content-"+location.hash.slice(1),e=document.getElementsByName(t),$(e).scrollTo()})}.call(this),function(){var t,e,n,r,a,s,i;$.support.pjax&&(e=null,a="last_pjax_request",s="pjax_start",r="pjax_end",n=function(t){var n,r;(n=null!=(r=t.relatedTarget)?r.href:void 0)&&(window.performance.mark(s),e=n)},i=function(){setImmediate(function(){var n,i,o;if(window.performance.getEntriesByName(s).length&&(window.performance.mark(r),window.performance.measure(a,s,r),i=window.performance.getEntriesByName(a),n=i.pop().duration))return o={pjax:{url:e,ms:Math.round(n)}},$.ajax({url:"/_stats",type:"POST",data:o}),t()})},t=function(){window.performance.clearMarks(s),window.performance.clearMarks(r),window.performance.clearMeasures(a)},$(document).on("pjax:start",n),$(document).on("pjax:end",i))}.call(this),$.pageUpdate(function(){if(0!=$(".file .image").length){var t=$(".file").has(".onion-skin"),e=[];$.each(t,function(n){function r(){if(C++,i(),C>=k){var t=c.find(".progress");t.is($.visible)?t.fadeOut(250,function(){s()}):(t.hide(),s())}}function a(t){var e=j.find(".active"),n=j.find(".active").first().index(),r=w.eq(n),a=j.children().eq(t);if(0==a.hasClass("active")&&0==a.hasClass("disabled")){if(e.removeClass("active"),a.addClass("active"),a.is($.visible)){var s=a.position(),i=a.outerWidth(),o=String(s.left+i/2)+"px 0px";j.css("background-image","url("+GitHub.assetHostUrl+"images/modules/commit/menu_arrow.gif)"),j.css("background-position",o)}C>=2&&(animHeight=parseInt(w.eq(t).css("height"))+127,c.css("height",animHeight),r.animate({opacity:"hide"},250,"swing",function(){w.eq(t).fadeIn(250)}))}}function s(){var t=858,r=Math.max(S.width,_.width),s=Math.max(S.height,_.height),i=0,h=1;S.marginHoriz=Math.floor((r-S.width)/2),S.marginVert=Math.floor((s-S.height)/2),_.marginHoriz=Math.floor((r-_.width)/2),_.marginVert=Math.floor((s-_.height)/2),$.each($.getUrlVars(),function(t,n){n==c.attr("id")&&(diffNum=parseInt(n.replace(/\D*/g,"")),x=$.getUrlVar(n)[0],i=$.getUrlVar(n)[1]/100,e[diffNum].view=$.getUrlVar(n)[0],e[diffNum].pct=$.getUrlVar(n)[1],e[diffNum].changed=!0)});var f=1;r>(t-30)/2&&(f=(t-30)/2/r),m.attr({width:S.width*f,height:S.height*f}),p.attr({width:_.width*f,height:_.height*f}),l.find(".deleted-frame").css({margin:S.marginVert*f+"px "+S.marginHoriz*f+"px",width:S.width*f+2,height:S.height*f+2}),l.find(".added-frame").css({margin:_.marginVert*f+"px "+_.marginHoriz*f+"px",width:_.width*f+2,height:_.height*f+2}),l.find(".aWMeta").eq(0).text(_.width+"px"),l.find(".aHMeta").eq(0).text(_.height+"px"),l.find(".dWMeta").eq(0).text(S.width+"px"),l.find(".dHMeta").eq(0).text(S.height+"px"),_.width!=S.width&&(l.find(".aWMeta").eq(0).addClass("a-green"),l.find(".dWMeta").eq(0).addClass("d-red")),_.height!=S.height&&(l.find(".aHMeta").eq(0).addClass("a-green"),l.find(".dHMeta").eq(0).addClass("d-red"));var w,k=1;r>t-12&&(k=(t-12)/r),w=0,w=r*k+3,g.attr({width:S.width*k,height:S.height*k}),v.attr({width:_.width*k,height:_.height*k}),u.find(".deleted-frame").css({margin:S.marginVert*k+"px "+S.marginHoriz*k+"px",width:S.width*k+2,height:S.height*k+2}),u.find(".added-frame").css({margin:_.marginVert*k+"px "+_.marginHoriz*k+"px",width:_.width*k+2,height:_.height*k+2}),u.find(".swipe-shell").css({width:r*k+3+"px",height:s*k+4+"px"}),u.find(".swipe-frame").css({width:r*k+18+"px",height:s*k+30+"px"}),u.find(".swipe-bar").css("left",i*w+"px"),c.find(".swipe .swipe-shell").css("width",w-w*i),u.find(".swipe-bar").on("mousedown",function(t){var r=$(this),a=$(this).parent(),s=a.width()-r.width();t.preventDefault(),$("body").css({cursor:"pointer"}),$(document).on("mousemove.swipe",function(t){t.preventDefault();var i=t.clientX-a.offset().left;0>i&&(i=0),i>s&&(i=s),r.css({left:i});var o=Math.round(1e4*(i/(parseInt(c.find(".swipe-frame").css("width"))-15)))/1e4;c.find(".swipe .swipe-shell").css("width",w-w*o),e[n].pct=100*o,e[n].changed=!0}),$(document).on("mouseup.swipe",function(){$(document).off(".swipe"),$("body").css({cursor:"auto"}),o()
})});var C=1;r>t-12&&(C=(t-12)/r),b.attr({width:S.width*C,height:S.height*C}),y.attr({width:_.width*C,height:_.height*C}),d.find(".deleted-frame").css({margin:S.marginVert*C+"px "+S.marginHoriz*C+"px",width:S.width*C+2,height:S.height*C+2}),d.find(".added-frame").css({margin:_.marginVert*C+"px "+_.marginHoriz*C+"px",width:_.width*C+2,height:_.height*C+2}),d.find(".onion-skin-frame").css({width:r*C+4+"px",height:s*C+30+"px"}),c.find(".dragger").css("left",262*h+"px"),c.find(".onion-skin .added-frame").css("opacity",h),c.find(".onion-skin .added-frame img").css("opacity",h),c.find(".dragger").on("mousedown",function(t){var r=$(this),a=$(this).parent(),s=a.width()-r.width();t.preventDefault(),$("body").css({cursor:"pointer"}),$(document).on("mousemove.dragger",function(t){t.preventDefault();var i=t.clientX-a.offset().left;0>i&&(i=0),i>s&&(i=s),r.css({left:i});var o=Math.round(100*(i/262))/100;c.find(".onion-skin .added-frame").css("opacity",o),c.find(".onion-skin .added-frame img").css("opacity",o),e[n].pct=100*o,e[n].changed=!0}),$(document).on("mouseup.dragger",function(){$(document).off(".dragger"),$("body").css({cursor:"auto"}),o()})}),l.css("height",s*f+30),u.css("height",s*k+30),d.css("height",s*k+30),j.children().removeClass("disabled"),a(x)}function i(){var t=100*(C/k)+"%";c.find(".progress-bar").animate({width:t},250,"swing")}function o(){var t="?";$.each(e,function(e,n){1==n.changed&&(0!=e&&(t+="&"),t+="diff-"+e+"="+n.view+"-"+Math.round(n.pct))}),window.history&&window.history.replaceState&&window.history.replaceState({},"",t)}if(!$(this).data("image-diff-installed")){var c=t.eq(n),l=c.find(".two-up").eq(0),u=c.find(".swipe").eq(0),d=c.find(".onion-skin").eq(0),h=c.find(".deleted"),f=c.find(".added"),m=h.eq(0),p=f.eq(0),g=h.eq(1),v=f.eq(1),b=h.eq(2),y=f.eq(2),j=c.find("ul.view-modes-menu"),w=c.find(".view"),x=0,k=c.find(".asset").length,C=0,S=new Image,_=new Image;e.push({name:c.attr("id"),view:0,pct:0,changed:!1}),$(this).data("image-diff-installed",!0),c.find(".two-up").hide(),c.find(".two-up p").removeClass("hidden"),c.find(".progress").removeClass("hidden"),c.find(".view-modes").removeClass("hidden"),S.src=c.find(".deleted").first().attr("src"),_.src=c.find(".added").first().attr("src"),m.attr("src",S.src).load(function(){r()}),p.attr("src",_.src).load(function(){r()}),g.attr("src",S.src).load(function(){r()}),v.attr("src",_.src).load(function(){r()}),b.attr("src",S.src).load(function(){r()}),y.attr("src",_.src).load(function(){r()});var T=!0;j.children("li").click(function(){var t=$(this).index();1!=t&&2!=t||!T||(T=!1),a(t),e[n].view=t,e[n].changed=!0,o()}),$.extend({getUrlVars:function(){for(var t,e=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),r=0;r<n.length;r++)t=n[r].split("="),t[1]&&(t[1]=t[1].split("-")),e.push(t[0]),e[t[0]]=t[1];return e},getUrlVar:function(t){return $.getUrlVars()[t]}})}})}}),$(function(){function t(){var n=$("#current-version").val();n&&$.get("_current",function(r){n==r?setTimeout(t,5e3):e||($("#gollum-error-message").text("Someone has edited the wiki since you started. Please reload this page and re-apply your changes."),$("#gollum-error-message").show(),$("#gollum-editor-submit").attr("disabled","disabled"),$("#gollum-editor-submit").attr("value","Cannot Save, Someone Else Has Edited"))})}var e=!1;$("#gollum-editor-body").each(t),$("#gollum-editor-submit").click(function(){e=!0})});